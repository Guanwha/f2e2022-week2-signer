(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const Ce of document.querySelectorAll('link[rel="modulepreload"]'))_e(Ce);new MutationObserver(Ce=>{for(const Ee of Ce)if(Ee.type==="childList")for(const Re of Ee.addedNodes)Re.tagName==="LINK"&&Re.rel==="modulepreload"&&_e(Re)}).observe(document,{childList:!0,subtree:!0});function r(Ce){const Ee={};return Ce.integrity&&(Ee.integrity=Ce.integrity),Ce.referrerpolicy&&(Ee.referrerPolicy=Ce.referrerpolicy),Ce.crossorigin==="use-credentials"?Ee.credentials="include":Ce.crossorigin==="anonymous"?Ee.credentials="omit":Ee.credentials="same-origin",Ee}function _e(Ce){if(Ce.ep)return;Ce.ep=!0;const Ee=r(Ce);fetch(Ce.href,Ee)}})();function makeMap(t,e){const r=Object.create(null),_e=t.split(",");for(let Ce=0;Ce<_e.length;Ce++)r[_e[Ce]]=!0;return e?Ce=>!!r[Ce.toLowerCase()]:Ce=>!!r[Ce]}function normalizeStyle(t){if(isArray$1(t)){const e={};for(let r=0;r<t.length;r++){const _e=t[r],Ce=isString(_e)?parseStringStyle(_e):normalizeStyle(_e);if(Ce)for(const Ee in Ce)e[Ee]=Ce[Ee]}return e}else{if(isString(t))return t;if(isObject$1(t))return t}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const _e=r.split(propertyDelimiterRE);_e.length>1&&(e[_e[0].trim()]=_e[1].trim())}}),e}function normalizeClass(t){let e="";if(isString(t))e=t;else if(isArray$1(t))for(let r=0;r<t.length;r++){const _e=normalizeClass(t[r]);_e&&(e+=_e+" ")}else if(isObject$1(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}const toDisplayString=t=>isString(t)?t:t==null?"":isArray$1(t)||isObject$1(t)&&(t.toString===objectToString||!isFunction(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[_e,Ce])=>(r[`${_e} =>`]=Ce,r),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$1(e)&&!isArray$1(e)&&!isPlainObject(e)?String(e):e,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(t,e)=>hasOwnProperty.call(t,e),isArray$1=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isFunction=t=>typeof t=="function",isString=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject$1=t=>t!==null&&typeof t=="object",isPromise$1=t=>isObject$1(t)&&isFunction(t.then)&&isFunction(t.catch),objectToString=Object.prototype.toString,toTypeString=t=>objectToString.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},def=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},toNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(e){if(this.active){const r=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this.active){let r,_e;for(r=0,_e=this.effects.length;r<_e;r++)this.effects[r].stop();for(r=0,_e=this.cleanups.length;r<_e;r++)this.cleanups[r]();if(this.scopes)for(r=0,_e=this.scopes.length;r<_e;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const Ce=this.parent.scopes.pop();Ce&&Ce!==this&&(this.parent.scopes[this.index]=Ce,Ce.index=this.index)}this.parent=void 0,this.active=!1}}}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let r=0;for(let _e=0;_e<e.length;_e++){const Ce=e[_e];wasTracked(Ce)&&!newTracked(Ce)?Ce.delete(t):e[r++]=Ce,Ce.w&=~trackOpBit,Ce.n&=~trackOpBit}e.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,r=null,_e){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,_e)}run(){if(!this.active)return this.fn();let e=activeEffect,r=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,r){if(shouldTrack&&activeEffect){let _e=targetMap.get(t);_e||targetMap.set(t,_e=new Map);let Ce=_e.get(r);Ce||_e.set(r,Ce=createDep()),trackEffects(Ce)}}function trackEffects(t,e){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,r=!wasTracked(t)):r=!t.has(activeEffect),r&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,e,r,_e,Ce,Ee){const Re=targetMap.get(t);if(!Re)return;let Pe=[];if(e==="clear")Pe=[...Re.values()];else if(r==="length"&&isArray$1(t)){const St=toNumber(_e);Re.forEach((Te,ke)=>{(ke==="length"||ke>=St)&&Pe.push(Te)})}else switch(r!==void 0&&Pe.push(Re.get(r)),e){case"add":isArray$1(t)?isIntegerKey(r)&&Pe.push(Re.get("length")):(Pe.push(Re.get(ITERATE_KEY)),isMap(t)&&Pe.push(Re.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(t)||(Pe.push(Re.get(ITERATE_KEY)),isMap(t)&&Pe.push(Re.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&Pe.push(Re.get(ITERATE_KEY));break}if(Pe.length===1)Pe[0]&&triggerEffects(Pe[0]);else{const St=[];for(const Te of Pe)Te&&St.push(...Te);triggerEffects(createDep(St))}}function triggerEffects(t,e){const r=isArray$1(t)?t:[...t];for(const _e of r)_e.computed&&triggerEffect(_e);for(const _e of r)_e.computed||triggerEffect(_e)}function triggerEffect(t,e){(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const _e=toRaw(this);for(let Ee=0,Re=this.length;Ee<Re;Ee++)track(_e,"get",Ee+"");const Ce=_e[e](...r);return Ce===-1||Ce===!1?_e[e](...r.map(toRaw)):Ce}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){pauseTracking();const _e=toRaw(this)[e].apply(this,r);return resetTracking(),_e}}),t}function createGetter(t=!1,e=!1){return function(_e,Ce,Ee){if(Ce==="__v_isReactive")return!t;if(Ce==="__v_isReadonly")return t;if(Ce==="__v_isShallow")return e;if(Ce==="__v_raw"&&Ee===(t?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(_e))return _e;const Re=isArray$1(_e);if(!t&&Re&&hasOwn(arrayInstrumentations,Ce))return Reflect.get(arrayInstrumentations,Ce,Ee);const Pe=Reflect.get(_e,Ce,Ee);return(isSymbol(Ce)?builtInSymbols.has(Ce):isNonTrackableKeys(Ce))||(t||track(_e,"get",Ce),e)?Pe:isRef(Pe)?Re&&isIntegerKey(Ce)?Pe:Pe.value:isObject$1(Pe)?t?readonly(Pe):reactive(Pe):Pe}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(t=!1){return function(r,_e,Ce,Ee){let Re=r[_e];if(isReadonly(Re)&&isRef(Re)&&!isRef(Ce))return!1;if(!t&&(!isShallow(Ce)&&!isReadonly(Ce)&&(Re=toRaw(Re),Ce=toRaw(Ce)),!isArray$1(r)&&isRef(Re)&&!isRef(Ce)))return Re.value=Ce,!0;const Pe=isArray$1(r)&&isIntegerKey(_e)?Number(_e)<r.length:hasOwn(r,_e),St=Reflect.set(r,_e,Ce,Ee);return r===toRaw(Ee)&&(Pe?hasChanged(Ce,Re)&&trigger(r,"set",_e,Ce):trigger(r,"add",_e,Ce)),St}}function deleteProperty(t,e){const r=hasOwn(t,e);t[e];const _e=Reflect.deleteProperty(t,e);return _e&&r&&trigger(t,"delete",e,void 0),_e}function has(t,e){const r=Reflect.has(t,e);return(!isSymbol(e)||!builtInSymbols.has(e))&&track(t,"has",e),r}function ownKeys(t){return track(t,"iterate",isArray$1(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}const mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(t,e){return!0},deleteProperty(t,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function get$1(t,e,r=!1,_e=!1){t=t.__v_raw;const Ce=toRaw(t),Ee=toRaw(e);r||(e!==Ee&&track(Ce,"get",e),track(Ce,"get",Ee));const{has:Re}=getProto(Ce),Pe=_e?toShallow:r?toReadonly:toReactive;if(Re.call(Ce,e))return Pe(t.get(e));if(Re.call(Ce,Ee))return Pe(t.get(Ee));t!==Ce&&t.get(e)}function has$1(t,e=!1){const r=this.__v_raw,_e=toRaw(r),Ce=toRaw(t);return e||(t!==Ce&&track(_e,"has",t),track(_e,"has",Ce)),t===Ce?r.has(t):r.has(t)||r.has(Ce)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add(t){t=toRaw(t);const e=toRaw(this);return getProto(e).has.call(e,t)||(e.add(t),trigger(e,"add",t,t)),this}function set$1(t,e){e=toRaw(e);const r=toRaw(this),{has:_e,get:Ce}=getProto(r);let Ee=_e.call(r,t);Ee||(t=toRaw(t),Ee=_e.call(r,t));const Re=Ce.call(r,t);return r.set(t,e),Ee?hasChanged(e,Re)&&trigger(r,"set",t,e):trigger(r,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:r,get:_e}=getProto(e);let Ce=r.call(e,t);Ce||(t=toRaw(t),Ce=r.call(e,t)),_e&&_e.call(e,t);const Ee=e.delete(t);return Ce&&trigger(e,"delete",t,void 0),Ee}function clear(){const t=toRaw(this),e=t.size!==0,r=t.clear();return e&&trigger(t,"clear",void 0,void 0),r}function createForEach(t,e){return function(_e,Ce){const Ee=this,Re=Ee.__v_raw,Pe=toRaw(Re),St=e?toShallow:t?toReadonly:toReactive;return!t&&track(Pe,"iterate",ITERATE_KEY),Re.forEach((Te,ke)=>_e.call(Ce,St(Te),St(ke),Ee))}}function createIterableMethod(t,e,r){return function(..._e){const Ce=this.__v_raw,Ee=toRaw(Ce),Re=isMap(Ee),Pe=t==="entries"||t===Symbol.iterator&&Re,St=t==="keys"&&Re,Te=Ce[t](..._e),ke=r?toShallow:e?toReadonly:toReactive;return!e&&track(Ee,"iterate",St?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Ae,done:xe}=Te.next();return xe?{value:Ae,done:xe}:{value:Pe?[ke(Ae[0]),ke(Ae[1])]:ke(Ae),done:xe}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(Ee){return get$1(this,Ee)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(Ee){return get$1(this,Ee,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(Ee){return get$1(this,Ee,!0)},get size(){return size(this,!0)},has(Ee){return has$1.call(this,Ee,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},_e={get(Ee){return get$1(this,Ee,!0,!0)},get size(){return size(this,!0)},has(Ee){return has$1.call(this,Ee,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Ee=>{t[Ee]=createIterableMethod(Ee,!1,!1),r[Ee]=createIterableMethod(Ee,!0,!1),e[Ee]=createIterableMethod(Ee,!1,!0),_e[Ee]=createIterableMethod(Ee,!0,!0)}),[t,r,e,_e]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const r=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(_e,Ce,Ee)=>Ce==="__v_isReactive"?!t:Ce==="__v_isReadonly"?t:Ce==="__v_raw"?_e:Reflect.get(hasOwn(r,Ce)&&Ce in _e?r:_e,Ce,Ee)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(t,e,r,_e,Ce){if(!isObject$1(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const Ee=Ce.get(t);if(Ee)return Ee;const Re=getTargetType(t);if(Re===0)return t;const Pe=new Proxy(t,Re===2?_e:r);return Ce.set(t,Pe),Pe}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject$1(t)?reactive(t):t,toReadonly=t=>isObject$1(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t),t.dep&&triggerEffects(t.dep)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:toRaw(e),this._value=r?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const r=this.__v_isShallow||isShallow(e)||isReadonly(e);e=r?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:toReactive(e),triggerRefValue(this))}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,r)=>unref(Reflect.get(t,e,r)),set:(t,e,r,_e)=>{const Ce=t[e];return isRef(Ce)&&!isRef(r)?(Ce.value=r,!0):Reflect.set(t,e,r,_e)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}var _a$1;class ComputedRefImpl{constructor(e,r,_e,Ce){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!Ce,this.__v_isReadonly=_e}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}_a$1="__v_isReadonly";function computed$1(t,e,r=!1){let _e,Ce;const Ee=isFunction(t);return Ee?(_e=t,Ce=NOOP):(_e=t.get,Ce=t.set),new ComputedRefImpl(_e,Ce,Ee||!Ce,r)}function warn(t,...e){}function callWithErrorHandling(t,e,r,_e){let Ce;try{Ce=_e?t(..._e):t()}catch(Ee){handleError(Ee,e,r)}return Ce}function callWithAsyncErrorHandling(t,e,r,_e){if(isFunction(t)){const Ee=callWithErrorHandling(t,e,r,_e);return Ee&&isPromise$1(Ee)&&Ee.catch(Re=>{handleError(Re,e,r)}),Ee}const Ce=[];for(let Ee=0;Ee<t.length;Ee++)Ce.push(callWithAsyncErrorHandling(t[Ee],e,r,_e));return Ce}function handleError(t,e,r,_e=!0){const Ce=e?e.vnode:null;if(e){let Ee=e.parent;const Re=e.proxy,Pe=r;for(;Ee;){const Te=Ee.ec;if(Te){for(let ke=0;ke<Te.length;ke++)if(Te[ke](t,Re,Pe)===!1)return}Ee=Ee.parent}const St=e.appContext.config.errorHandler;if(St){callWithErrorHandling(St,null,10,[t,Re,Pe]);return}}logError(t,r,Ce,_e)}function logError(t,e,r,_e=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,r=queue.length;for(;e<r;){const _e=e+r>>>1;getId(queue[_e])<t?e=_e+1:r=_e}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(t){isArray$1(t)?pendingPostFlushCbs.push(...t):(!activePostFlushCbs||!activePostFlushCbs.includes(t,t.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(t),queueFlush()}function flushPreFlushCbs(t,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const r=queue[e];r&&r.pre&&(queue.splice(e,1),e--,r())}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((r,_e)=>getId(r)-getId(_e)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id,comparator=(t,e)=>{const r=getId(t)-getId(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function flushJobs(t){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(t,e,...r){if(t.isUnmounted)return;const _e=t.vnode.props||EMPTY_OBJ;let Ce=r;const Ee=e.startsWith("update:"),Re=Ee&&e.slice(7);if(Re&&Re in _e){const ke=`${Re==="modelValue"?"model":Re}Modifiers`,{number:Ae,trim:xe}=_e[ke]||EMPTY_OBJ;xe&&(Ce=r.map(Se=>isString(Se)?Se.trim():Se)),Ae&&(Ce=r.map(toNumber))}let Pe,St=_e[Pe=toHandlerKey(e)]||_e[Pe=toHandlerKey(camelize(e))];!St&&Ee&&(St=_e[Pe=toHandlerKey(hyphenate(e))]),St&&callWithAsyncErrorHandling(St,t,6,Ce);const Te=_e[Pe+"Once"];if(Te){if(!t.emitted)t.emitted={};else if(t.emitted[Pe])return;t.emitted[Pe]=!0,callWithAsyncErrorHandling(Te,t,6,Ce)}}function normalizeEmitsOptions(t,e,r=!1){const _e=e.emitsCache,Ce=_e.get(t);if(Ce!==void 0)return Ce;const Ee=t.emits;let Re={},Pe=!1;if(!isFunction(t)){const St=Te=>{const ke=normalizeEmitsOptions(Te,e,!0);ke&&(Pe=!0,extend(Re,ke))};!r&&e.mixins.length&&e.mixins.forEach(St),t.extends&&St(t.extends),t.mixins&&t.mixins.forEach(St)}return!Ee&&!Pe?(isObject$1(t)&&_e.set(t,null),null):(isArray$1(Ee)?Ee.forEach(St=>Re[St]=null):extend(Re,Ee),isObject$1(t)&&_e.set(t,Re),Re)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(t,e[0].toLowerCase()+e.slice(1))||hasOwn(t,hyphenate(e))||hasOwn(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function pushScopeId(t){currentScopeId=t}function popScopeId(){currentScopeId=null}function withCtx(t,e=currentRenderingInstance,r){if(!e||t._n)return t;const _e=(...Ce)=>{_e._d&&setBlockTracking(-1);const Ee=setCurrentRenderingInstance(e);let Re;try{Re=t(...Ce)}finally{setCurrentRenderingInstance(Ee),_e._d&&setBlockTracking(1)}return Re};return _e._n=!0,_e._c=!0,_e._d=!0,_e}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:r,proxy:_e,withProxy:Ce,props:Ee,propsOptions:[Re],slots:Pe,attrs:St,emit:Te,render:ke,renderCache:Ae,data:xe,setupState:Se,ctx:Fe,inheritAttrs:Ie}=t;let Me,Oe;const De=setCurrentRenderingInstance(t);try{if(r.shapeFlag&4){const je=Ce||_e;Me=normalizeVNode(ke.call(je,je,Ae,Ee,Se,xe,Fe)),Oe=St}else{const je=e;Me=normalizeVNode(je.length>1?je(Ee,{attrs:St,slots:Pe,emit:Te}):je(Ee,null)),Oe=e.props?St:getFunctionalFallthrough(St)}}catch(je){blockStack.length=0,handleError(je,t,1),Me=createVNode(Comment)}let Be=Me;if(Oe&&Ie!==!1){const je=Object.keys(Oe),{shapeFlag:ze}=Be;je.length&&ze&7&&(Re&&je.some(isModelListener)&&(Oe=filterModelListeners(Oe,Re)),Be=cloneVNode(Be,Oe))}return r.dirs&&(Be=cloneVNode(Be),Be.dirs=Be.dirs?Be.dirs.concat(r.dirs):r.dirs),r.transition&&(Be.transition=r.transition),Me=Be,setCurrentRenderingInstance(De),Me}const getFunctionalFallthrough=t=>{let e;for(const r in t)(r==="class"||r==="style"||isOn(r))&&((e||(e={}))[r]=t[r]);return e},filterModelListeners=(t,e)=>{const r={};for(const _e in t)(!isModelListener(_e)||!(_e.slice(9)in e))&&(r[_e]=t[_e]);return r};function shouldUpdateComponent(t,e,r){const{props:_e,children:Ce,component:Ee}=t,{props:Re,children:Pe,patchFlag:St}=e,Te=Ee.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&St>=0){if(St&1024)return!0;if(St&16)return _e?hasPropsChanged(_e,Re,Te):!!Re;if(St&8){const ke=e.dynamicProps;for(let Ae=0;Ae<ke.length;Ae++){const xe=ke[Ae];if(Re[xe]!==_e[xe]&&!isEmitListener(Te,xe))return!0}}}else return(Ce||Pe)&&(!Pe||!Pe.$stable)?!0:_e===Re?!1:_e?Re?hasPropsChanged(_e,Re,Te):!0:!!Re;return!1}function hasPropsChanged(t,e,r){const _e=Object.keys(e);if(_e.length!==Object.keys(t).length)return!0;for(let Ce=0;Ce<_e.length;Ce++){const Ee=_e[Ce];if(e[Ee]!==t[Ee]&&!isEmitListener(r,Ee))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const isSuspense=t=>t.__isSuspense;function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray$1(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function provide(t,e){if(currentInstance){let r=currentInstance.provides;const _e=currentInstance.parent&&currentInstance.parent.provides;_e===r&&(r=currentInstance.provides=Object.create(_e)),r[t]=e}}function inject(t,e,r=!1){const _e=currentInstance||currentRenderingInstance;if(_e){const Ce=_e.parent==null?_e.vnode.appContext&&_e.vnode.appContext.provides:_e.parent.provides;if(Ce&&t in Ce)return Ce[t];if(arguments.length>1)return r&&isFunction(e)?e.call(_e.proxy):e}}const INITIAL_WATCHER_VALUE={};function watch(t,e,r){return doWatch(t,e,r)}function doWatch(t,e,{immediate:r,deep:_e,flush:Ce,onTrack:Ee,onTrigger:Re}=EMPTY_OBJ){const Pe=currentInstance;let St,Te=!1,ke=!1;if(isRef(t)?(St=()=>t.value,Te=isShallow(t)):isReactive(t)?(St=()=>t,_e=!0):isArray$1(t)?(ke=!0,Te=t.some(Be=>isReactive(Be)||isShallow(Be)),St=()=>t.map(Be=>{if(isRef(Be))return Be.value;if(isReactive(Be))return traverse(Be);if(isFunction(Be))return callWithErrorHandling(Be,Pe,2)})):isFunction(t)?e?St=()=>callWithErrorHandling(t,Pe,2):St=()=>{if(!(Pe&&Pe.isUnmounted))return Ae&&Ae(),callWithAsyncErrorHandling(t,Pe,3,[xe])}:St=NOOP,e&&_e){const Be=St;St=()=>traverse(Be())}let Ae,xe=Be=>{Ae=Oe.onStop=()=>{callWithErrorHandling(Be,Pe,4)}},Se;if(isInSSRComponentSetup)if(xe=NOOP,e?r&&callWithAsyncErrorHandling(e,Pe,3,[St(),ke?[]:void 0,xe]):St(),Ce==="sync"){const Be=useSSRContext();Se=Be.__watcherHandles||(Be.__watcherHandles=[])}else return NOOP;let Fe=ke?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const Ie=()=>{if(!!Oe.active)if(e){const Be=Oe.run();(_e||Te||(ke?Be.some((je,ze)=>hasChanged(je,Fe[ze])):hasChanged(Be,Fe)))&&(Ae&&Ae(),callWithAsyncErrorHandling(e,Pe,3,[Be,Fe===INITIAL_WATCHER_VALUE?void 0:ke&&Fe[0]===INITIAL_WATCHER_VALUE?[]:Fe,xe]),Fe=Be)}else Oe.run()};Ie.allowRecurse=!!e;let Me;Ce==="sync"?Me=Ie:Ce==="post"?Me=()=>queuePostRenderEffect(Ie,Pe&&Pe.suspense):(Ie.pre=!0,Pe&&(Ie.id=Pe.uid),Me=()=>queueJob(Ie));const Oe=new ReactiveEffect(St,Me);e?r?Ie():Fe=Oe.run():Ce==="post"?queuePostRenderEffect(Oe.run.bind(Oe),Pe&&Pe.suspense):Oe.run();const De=()=>{Oe.stop(),Pe&&Pe.scope&&remove(Pe.scope.effects,Oe)};return Se&&Se.push(De),De}function instanceWatch(t,e,r){const _e=this.proxy,Ce=isString(t)?t.includes(".")?createPathGetter(_e,t):()=>_e[t]:t.bind(_e,_e);let Ee;isFunction(e)?Ee=e:(Ee=e.handler,r=e);const Re=currentInstance;setCurrentInstance(this);const Pe=doWatch(Ce,Ee.bind(_e),r);return Re?setCurrentInstance(Re):unsetCurrentInstance(),Pe}function createPathGetter(t,e){const r=e.split(".");return()=>{let _e=t;for(let Ce=0;Ce<r.length&&_e;Ce++)_e=_e[r[Ce]];return _e}}function traverse(t,e){if(!isObject$1(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray$1(t))for(let r=0;r<t.length;r++)traverse(t[r],e);else if(isSet(t)||isMap(t))t.forEach(r=>{traverse(r,e)});else if(isPlainObject(t))for(const r in t)traverse(t[r],e);return t}function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(t,{slots:e}){const r=getCurrentInstance(),_e=useTransitionState();let Ce;return()=>{const Ee=e.default&&getTransitionRawChildren(e.default(),!0);if(!Ee||!Ee.length)return;let Re=Ee[0];if(Ee.length>1){for(const Ie of Ee)if(Ie.type!==Comment){Re=Ie;break}}const Pe=toRaw(t),{mode:St}=Pe;if(_e.isLeaving)return emptyPlaceholder(Re);const Te=getKeepAliveChild(Re);if(!Te)return emptyPlaceholder(Re);const ke=resolveTransitionHooks(Te,Pe,_e,r);setTransitionHooks(Te,ke);const Ae=r.subTree,xe=Ae&&getKeepAliveChild(Ae);let Se=!1;const{getTransitionKey:Fe}=Te.type;if(Fe){const Ie=Fe();Ce===void 0?Ce=Ie:Ie!==Ce&&(Ce=Ie,Se=!0)}if(xe&&xe.type!==Comment&&(!isSameVNodeType(Te,xe)||Se)){const Ie=resolveTransitionHooks(xe,Pe,_e,r);if(setTransitionHooks(xe,Ie),St==="out-in")return _e.isLeaving=!0,Ie.afterLeave=()=>{_e.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder(Re);St==="in-out"&&Te.type!==Comment&&(Ie.delayLeave=(Me,Oe,De)=>{const Be=getLeavingNodesForType(_e,xe);Be[String(xe.key)]=xe,Me._leaveCb=()=>{Oe(),Me._leaveCb=void 0,delete ke.delayedLeave},ke.delayedLeave=De})}return Re}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:r}=t;let _e=r.get(e.type);return _e||(_e=Object.create(null),r.set(e.type,_e)),_e}function resolveTransitionHooks(t,e,r,_e){const{appear:Ce,mode:Ee,persisted:Re=!1,onBeforeEnter:Pe,onEnter:St,onAfterEnter:Te,onEnterCancelled:ke,onBeforeLeave:Ae,onLeave:xe,onAfterLeave:Se,onLeaveCancelled:Fe,onBeforeAppear:Ie,onAppear:Me,onAfterAppear:Oe,onAppearCancelled:De}=e,Be=String(t.key),je=getLeavingNodesForType(r,t),ze=(Ue,hr)=>{Ue&&callWithAsyncErrorHandling(Ue,_e,9,hr)},Ge=(Ue,hr)=>{const xr=hr[1];ze(Ue,hr),isArray$1(Ue)?Ue.every(rr=>rr.length<=1)&&xr():Ue.length<=1&&xr()},We={mode:Ee,persisted:Re,beforeEnter(Ue){let hr=Pe;if(!r.isMounted)if(Ce)hr=Ie||Pe;else return;Ue._leaveCb&&Ue._leaveCb(!0);const xr=je[Be];xr&&isSameVNodeType(t,xr)&&xr.el._leaveCb&&xr.el._leaveCb(),ze(hr,[Ue])},enter(Ue){let hr=St,xr=Te,rr=ke;if(!r.isMounted)if(Ce)hr=Me||St,xr=Oe||Te,rr=De||ke;else return;let er=!1;const vr=Ue._enterCb=gr=>{er||(er=!0,gr?ze(rr,[Ue]):ze(xr,[Ue]),We.delayedLeave&&We.delayedLeave(),Ue._enterCb=void 0)};hr?Ge(hr,[Ue,vr]):vr()},leave(Ue,hr){const xr=String(t.key);if(Ue._enterCb&&Ue._enterCb(!0),r.isUnmounting)return hr();ze(Ae,[Ue]);let rr=!1;const er=Ue._leaveCb=vr=>{rr||(rr=!0,hr(),vr?ze(Fe,[Ue]):ze(Se,[Ue]),Ue._leaveCb=void 0,je[xr]===t&&delete je[xr])};je[xr]=t,xe?Ge(xe,[Ue,er]):er()},clone(Ue){return resolveTransitionHooks(Ue,e,r,_e)}};return We}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,r){let _e=[],Ce=0;for(let Ee=0;Ee<t.length;Ee++){let Re=t[Ee];const Pe=r==null?Re.key:String(r)+String(Re.key!=null?Re.key:Ee);Re.type===Fragment?(Re.patchFlag&128&&Ce++,_e=_e.concat(getTransitionRawChildren(Re.children,e,Pe))):(e||Re.type!==Comment)&&_e.push(Pe!=null?cloneVNode(Re,{key:Pe}):Re)}if(Ce>1)for(let Ee=0;Ee<_e.length;Ee++)_e[Ee].patchFlag=-2;return _e}function defineComponent(t){return isFunction(t)?{setup:t,name:t.name}:t}const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,r=currentInstance){const _e=t.__wdc||(t.__wdc=()=>{let Ce=r;for(;Ce;){if(Ce.isDeactivated)return;Ce=Ce.parent}return t()});if(injectHook(e,_e,r),r){let Ce=r.parent;for(;Ce&&Ce.parent;)isKeepAlive(Ce.parent.vnode)&&injectToKeepAliveRoot(_e,e,r,Ce),Ce=Ce.parent}}function injectToKeepAliveRoot(t,e,r,_e){const Ce=injectHook(e,t,_e,!0);onUnmounted(()=>{remove(_e[e],Ce)},r)}function injectHook(t,e,r=currentInstance,_e=!1){if(r){const Ce=r[t]||(r[t]=[]),Ee=e.__weh||(e.__weh=(...Re)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const Pe=callWithAsyncErrorHandling(e,r,t,Re);return unsetCurrentInstance(),resetTracking(),Pe});return _e?Ce.unshift(Ee):Ce.push(Ee),Ee}}const createHook=t=>(e,r=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(..._e)=>e(..._e),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}function withDirectives(t,e){const r=currentRenderingInstance;if(r===null)return t;const _e=getExposeProxy(r)||r.proxy,Ce=t.dirs||(t.dirs=[]);for(let Ee=0;Ee<e.length;Ee++){let[Re,Pe,St,Te=EMPTY_OBJ]=e[Ee];Re&&(isFunction(Re)&&(Re={mounted:Re,updated:Re}),Re.deep&&traverse(Pe),Ce.push({dir:Re,instance:_e,value:Pe,oldValue:void 0,arg:St,modifiers:Te}))}return t}function invokeDirectiveHook(t,e,r,_e){const Ce=t.dirs,Ee=e&&e.dirs;for(let Re=0;Re<Ce.length;Re++){const Pe=Ce[Re];Ee&&(Pe.oldValue=Ee[Re].value);let St=Pe.dir[_e];St&&(pauseTracking(),callWithAsyncErrorHandling(St,r,8,[t.el,Pe,t,e]),resetTracking())}}const COMPONENTS="components";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(t,e,r=!0,_e=!1){const Ce=currentRenderingInstance||currentInstance;if(Ce){const Ee=Ce.type;if(t===COMPONENTS){const Pe=getComponentName(Ee,!1);if(Pe&&(Pe===e||Pe===camelize(e)||Pe===capitalize(camelize(e))))return Ee}const Re=resolve(Ce[t]||Ee[t],e)||resolve(Ce.appContext[t],e);return!Re&&_e?Ee:Re}}function resolve(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize(camelize(e))])}function renderList(t,e,r,_e){let Ce;const Ee=r&&r[_e];if(isArray$1(t)||isString(t)){Ce=new Array(t.length);for(let Re=0,Pe=t.length;Re<Pe;Re++)Ce[Re]=e(t[Re],Re,void 0,Ee&&Ee[Re])}else if(typeof t=="number"){Ce=new Array(t);for(let Re=0;Re<t;Re++)Ce[Re]=e(Re+1,Re,void 0,Ee&&Ee[Re])}else if(isObject$1(t))if(t[Symbol.iterator])Ce=Array.from(t,(Re,Pe)=>e(Re,Pe,void 0,Ee&&Ee[Pe]));else{const Re=Object.keys(t);Ce=new Array(Re.length);for(let Pe=0,St=Re.length;Pe<St;Pe++){const Te=Re[Pe];Ce[Pe]=e(t[Te],Te,Pe,Ee&&Ee[Pe])}}else Ce=[];return r&&(r[_e]=Ce),Ce}function renderSlot(t,e,r={},_e,Ce){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return e!=="default"&&(r.name=e),createVNode("slot",r,_e&&_e());let Ee=t[e];Ee&&Ee._c&&(Ee._d=!1),openBlock();const Re=Ee&&ensureValidVNode(Ee(r)),Pe=createBlock(Fragment,{key:r.key||Re&&Re.key||`_${e}`},Re||(_e?_e():[]),Re&&t._===1?64:-2);return!Ce&&Pe.scopeId&&(Pe.slotScopeIds=[Pe.scopeId+"-s"]),Ee&&Ee._c&&(Ee._d=!0),Pe}function ensureValidVNode(t){return t.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?t:null}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>queueJob(t.update)),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn(t,e),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:r,setupState:_e,data:Ce,props:Ee,accessCache:Re,type:Pe,appContext:St}=t;let Te;if(e[0]!=="$"){const Se=Re[e];if(Se!==void 0)switch(Se){case 1:return _e[e];case 2:return Ce[e];case 4:return r[e];case 3:return Ee[e]}else{if(hasSetupBinding(_e,e))return Re[e]=1,_e[e];if(Ce!==EMPTY_OBJ&&hasOwn(Ce,e))return Re[e]=2,Ce[e];if((Te=t.propsOptions[0])&&hasOwn(Te,e))return Re[e]=3,Ee[e];if(r!==EMPTY_OBJ&&hasOwn(r,e))return Re[e]=4,r[e];shouldCacheAccess&&(Re[e]=0)}}const ke=publicPropertiesMap[e];let Ae,xe;if(ke)return e==="$attrs"&&track(t,"get",e),ke(t);if((Ae=Pe.__cssModules)&&(Ae=Ae[e]))return Ae;if(r!==EMPTY_OBJ&&hasOwn(r,e))return Re[e]=4,r[e];if(xe=St.config.globalProperties,hasOwn(xe,e))return xe[e]},set({_:t},e,r){const{data:_e,setupState:Ce,ctx:Ee}=t;return hasSetupBinding(Ce,e)?(Ce[e]=r,!0):_e!==EMPTY_OBJ&&hasOwn(_e,e)?(_e[e]=r,!0):hasOwn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(Ee[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:_e,appContext:Ce,propsOptions:Ee}},Re){let Pe;return!!r[Re]||t!==EMPTY_OBJ&&hasOwn(t,Re)||hasSetupBinding(e,Re)||(Pe=Ee[0])&&hasOwn(Pe,Re)||hasOwn(_e,Re)||hasOwn(publicPropertiesMap,Re)||hasOwn(Ce.config.globalProperties,Re)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:hasOwn(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),r=t.proxy,_e=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook(e.beforeCreate,t,"bc");const{data:Ce,computed:Ee,methods:Re,watch:Pe,provide:St,inject:Te,created:ke,beforeMount:Ae,mounted:xe,beforeUpdate:Se,updated:Fe,activated:Ie,deactivated:Me,beforeDestroy:Oe,beforeUnmount:De,destroyed:Be,unmounted:je,render:ze,renderTracked:Ge,renderTriggered:We,errorCaptured:Ue,serverPrefetch:hr,expose:xr,inheritAttrs:rr,components:er,directives:vr,filters:gr}=e;if(Te&&resolveInjections(Te,_e,null,t.appContext.config.unwrapInjectedRef),Re)for(const nr in Re){const Je=Re[nr];isFunction(Je)&&(_e[nr]=Je.bind(r))}if(Ce){const nr=Ce.call(r,r);isObject$1(nr)&&(t.data=reactive(nr))}if(shouldCacheAccess=!0,Ee)for(const nr in Ee){const Je=Ee[nr],$e=isFunction(Je)?Je.bind(r,r):isFunction(Je.get)?Je.get.bind(r,r):NOOP,tr=!isFunction(Je)&&isFunction(Je.set)?Je.set.bind(r):NOOP,ir=computed({get:$e,set:tr});Object.defineProperty(_e,nr,{enumerable:!0,configurable:!0,get:()=>ir.value,set:Xe=>ir.value=Xe})}if(Pe)for(const nr in Pe)createWatcher(Pe[nr],_e,r,nr);if(St){const nr=isFunction(St)?St.call(r):St;Reflect.ownKeys(nr).forEach(Je=>{provide(Je,nr[Je])})}ke&&callHook(ke,t,"c");function sr(nr,Je){isArray$1(Je)?Je.forEach($e=>nr($e.bind(r))):Je&&nr(Je.bind(r))}if(sr(onBeforeMount,Ae),sr(onMounted,xe),sr(onBeforeUpdate,Se),sr(onUpdated,Fe),sr(onActivated,Ie),sr(onDeactivated,Me),sr(onErrorCaptured,Ue),sr(onRenderTracked,Ge),sr(onRenderTriggered,We),sr(onBeforeUnmount,De),sr(onUnmounted,je),sr(onServerPrefetch,hr),isArray$1(xr))if(xr.length){const nr=t.exposed||(t.exposed={});xr.forEach(Je=>{Object.defineProperty(nr,Je,{get:()=>r[Je],set:$e=>r[Je]=$e})})}else t.exposed||(t.exposed={});ze&&t.render===NOOP&&(t.render=ze),rr!=null&&(t.inheritAttrs=rr),er&&(t.components=er),vr&&(t.directives=vr)}function resolveInjections(t,e,r=NOOP,_e=!1){isArray$1(t)&&(t=normalizeInject(t));for(const Ce in t){const Ee=t[Ce];let Re;isObject$1(Ee)?"default"in Ee?Re=inject(Ee.from||Ce,Ee.default,!0):Re=inject(Ee.from||Ce):Re=inject(Ee),isRef(Re)&&_e?Object.defineProperty(e,Ce,{enumerable:!0,configurable:!0,get:()=>Re.value,set:Pe=>Re.value=Pe}):e[Ce]=Re}}function callHook(t,e,r){callWithAsyncErrorHandling(isArray$1(t)?t.map(_e=>_e.bind(e.proxy)):t.bind(e.proxy),e,r)}function createWatcher(t,e,r,_e){const Ce=_e.includes(".")?createPathGetter(r,_e):()=>r[_e];if(isString(t)){const Ee=e[t];isFunction(Ee)&&watch(Ce,Ee)}else if(isFunction(t))watch(Ce,t.bind(r));else if(isObject$1(t))if(isArray$1(t))t.forEach(Ee=>createWatcher(Ee,e,r,_e));else{const Ee=isFunction(t.handler)?t.handler.bind(r):e[t.handler];isFunction(Ee)&&watch(Ce,Ee,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:r,extends:_e}=e,{mixins:Ce,optionsCache:Ee,config:{optionMergeStrategies:Re}}=t.appContext,Pe=Ee.get(e);let St;return Pe?St=Pe:!Ce.length&&!r&&!_e?St=e:(St={},Ce.length&&Ce.forEach(Te=>mergeOptions$1(St,Te,Re,!0)),mergeOptions$1(St,e,Re)),isObject$1(e)&&Ee.set(e,St),St}function mergeOptions$1(t,e,r,_e=!1){const{mixins:Ce,extends:Ee}=e;Ee&&mergeOptions$1(t,Ee,r,!0),Ce&&Ce.forEach(Re=>mergeOptions$1(t,Re,r,!0));for(const Re in e)if(!(_e&&Re==="expose")){const Pe=internalOptionMergeStrats[Re]||r&&r[Re];t[Re]=Pe?Pe(t[Re],e[Re]):e[Re]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction(t)?t.call(this,this):t,isFunction(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray$1(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(extend(Object.create(null),t),e):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const r=extend(Object.create(null),t);for(const _e in e)r[_e]=mergeAsArray(t[_e],e[_e]);return r}function initProps(t,e,r,_e=!1){const Ce={},Ee={};def(Ee,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,Ce,Ee);for(const Re in t.propsOptions[0])Re in Ce||(Ce[Re]=void 0);r?t.props=_e?Ce:shallowReactive(Ce):t.type.props?t.props=Ce:t.props=Ee,t.attrs=Ee}function updateProps(t,e,r,_e){const{props:Ce,attrs:Ee,vnode:{patchFlag:Re}}=t,Pe=toRaw(Ce),[St]=t.propsOptions;let Te=!1;if((_e||Re>0)&&!(Re&16)){if(Re&8){const ke=t.vnode.dynamicProps;for(let Ae=0;Ae<ke.length;Ae++){let xe=ke[Ae];if(isEmitListener(t.emitsOptions,xe))continue;const Se=e[xe];if(St)if(hasOwn(Ee,xe))Se!==Ee[xe]&&(Ee[xe]=Se,Te=!0);else{const Fe=camelize(xe);Ce[Fe]=resolvePropValue(St,Pe,Fe,Se,t,!1)}else Se!==Ee[xe]&&(Ee[xe]=Se,Te=!0)}}}else{setFullProps(t,e,Ce,Ee)&&(Te=!0);let ke;for(const Ae in Pe)(!e||!hasOwn(e,Ae)&&((ke=hyphenate(Ae))===Ae||!hasOwn(e,ke)))&&(St?r&&(r[Ae]!==void 0||r[ke]!==void 0)&&(Ce[Ae]=resolvePropValue(St,Pe,Ae,void 0,t,!0)):delete Ce[Ae]);if(Ee!==Pe)for(const Ae in Ee)(!e||!hasOwn(e,Ae)&&!0)&&(delete Ee[Ae],Te=!0)}Te&&trigger(t,"set","$attrs")}function setFullProps(t,e,r,_e){const[Ce,Ee]=t.propsOptions;let Re=!1,Pe;if(e)for(let St in e){if(isReservedProp(St))continue;const Te=e[St];let ke;Ce&&hasOwn(Ce,ke=camelize(St))?!Ee||!Ee.includes(ke)?r[ke]=Te:(Pe||(Pe={}))[ke]=Te:isEmitListener(t.emitsOptions,St)||(!(St in _e)||Te!==_e[St])&&(_e[St]=Te,Re=!0)}if(Ee){const St=toRaw(r),Te=Pe||EMPTY_OBJ;for(let ke=0;ke<Ee.length;ke++){const Ae=Ee[ke];r[Ae]=resolvePropValue(Ce,St,Ae,Te[Ae],t,!hasOwn(Te,Ae))}}return Re}function resolvePropValue(t,e,r,_e,Ce,Ee){const Re=t[r];if(Re!=null){const Pe=hasOwn(Re,"default");if(Pe&&_e===void 0){const St=Re.default;if(Re.type!==Function&&isFunction(St)){const{propsDefaults:Te}=Ce;r in Te?_e=Te[r]:(setCurrentInstance(Ce),_e=Te[r]=St.call(null,e),unsetCurrentInstance())}else _e=St}Re[0]&&(Ee&&!Pe?_e=!1:Re[1]&&(_e===""||_e===hyphenate(r))&&(_e=!0))}return _e}function normalizePropsOptions(t,e,r=!1){const _e=e.propsCache,Ce=_e.get(t);if(Ce)return Ce;const Ee=t.props,Re={},Pe=[];let St=!1;if(!isFunction(t)){const ke=Ae=>{St=!0;const[xe,Se]=normalizePropsOptions(Ae,e,!0);extend(Re,xe),Se&&Pe.push(...Se)};!r&&e.mixins.length&&e.mixins.forEach(ke),t.extends&&ke(t.extends),t.mixins&&t.mixins.forEach(ke)}if(!Ee&&!St)return isObject$1(t)&&_e.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$1(Ee))for(let ke=0;ke<Ee.length;ke++){const Ae=camelize(Ee[ke]);validatePropName(Ae)&&(Re[Ae]=EMPTY_OBJ)}else if(Ee)for(const ke in Ee){const Ae=camelize(ke);if(validatePropName(Ae)){const xe=Ee[ke],Se=Re[Ae]=isArray$1(xe)||isFunction(xe)?{type:xe}:Object.assign({},xe);if(Se){const Fe=getTypeIndex(Boolean,Se.type),Ie=getTypeIndex(String,Se.type);Se[0]=Fe>-1,Se[1]=Ie<0||Fe<Ie,(Fe>-1||hasOwn(Se,"default"))&&Pe.push(Ae)}}}const Te=[Re,Pe];return isObject$1(t)&&_e.set(t,Te),Te}function validatePropName(t){return t[0]!=="$"}function getType(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function isSameType(t,e){return getType(t)===getType(e)}function getTypeIndex(t,e){return isArray$1(e)?e.findIndex(r=>isSameType(r,t)):isFunction(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray$1(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot$1=(t,e,r)=>{if(e._n)return e;const _e=withCtx((...Ce)=>normalizeSlotValue(e(...Ce)),r);return _e._c=!1,_e},normalizeObjectSlots=(t,e,r)=>{const _e=t._ctx;for(const Ce in t){if(isInternalKey(Ce))continue;const Ee=t[Ce];if(isFunction(Ee))e[Ce]=normalizeSlot$1(Ce,Ee,_e);else if(Ee!=null){const Re=normalizeSlotValue(Ee);e[Ce]=()=>Re}}},normalizeVNodeSlots=(t,e)=>{const r=normalizeSlotValue(e);t.slots.default=()=>r},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=toRaw(e),def(e,"_",r)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,r)=>{const{vnode:_e,slots:Ce}=t;let Ee=!0,Re=EMPTY_OBJ;if(_e.shapeFlag&32){const Pe=e._;Pe?r&&Pe===1?Ee=!1:(extend(Ce,e),!r&&Pe===1&&delete Ce._):(Ee=!e.$stable,normalizeObjectSlots(e,Ce)),Re=e}else e&&(normalizeVNodeSlots(t,e),Re={default:1});if(Ee)for(const Pe in Ce)!isInternalKey(Pe)&&!(Pe in Re)&&delete Ce[Pe]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(t,e){return function(_e,Ce=null){isFunction(_e)||(_e=Object.assign({},_e)),Ce!=null&&!isObject$1(Ce)&&(Ce=null);const Ee=createAppContext(),Re=new Set;let Pe=!1;const St=Ee.app={_uid:uid++,_component:_e,_props:Ce,_container:null,_context:Ee,_instance:null,version,get config(){return Ee.config},set config(Te){},use(Te,...ke){return Re.has(Te)||(Te&&isFunction(Te.install)?(Re.add(Te),Te.install(St,...ke)):isFunction(Te)&&(Re.add(Te),Te(St,...ke))),St},mixin(Te){return Ee.mixins.includes(Te)||Ee.mixins.push(Te),St},component(Te,ke){return ke?(Ee.components[Te]=ke,St):Ee.components[Te]},directive(Te,ke){return ke?(Ee.directives[Te]=ke,St):Ee.directives[Te]},mount(Te,ke,Ae){if(!Pe){const xe=createVNode(_e,Ce);return xe.appContext=Ee,ke&&e?e(xe,Te):t(xe,Te,Ae),Pe=!0,St._container=Te,Te.__vue_app__=St,getExposeProxy(xe.component)||xe.component.proxy}},unmount(){Pe&&(t(null,St._container),delete St._container.__vue_app__)},provide(Te,ke){return Ee.provides[Te]=ke,St}};return St}}function setRef(t,e,r,_e,Ce=!1){if(isArray$1(t)){t.forEach((xe,Se)=>setRef(xe,e&&(isArray$1(e)?e[Se]:e),r,_e,Ce));return}if(isAsyncWrapper(_e)&&!Ce)return;const Ee=_e.shapeFlag&4?getExposeProxy(_e.component)||_e.component.proxy:_e.el,Re=Ce?null:Ee,{i:Pe,r:St}=t,Te=e&&e.r,ke=Pe.refs===EMPTY_OBJ?Pe.refs={}:Pe.refs,Ae=Pe.setupState;if(Te!=null&&Te!==St&&(isString(Te)?(ke[Te]=null,hasOwn(Ae,Te)&&(Ae[Te]=null)):isRef(Te)&&(Te.value=null)),isFunction(St))callWithErrorHandling(St,Pe,12,[Re,ke]);else{const xe=isString(St),Se=isRef(St);if(xe||Se){const Fe=()=>{if(t.f){const Ie=xe?hasOwn(Ae,St)?Ae[St]:ke[St]:St.value;Ce?isArray$1(Ie)&&remove(Ie,Ee):isArray$1(Ie)?Ie.includes(Ee)||Ie.push(Ee):xe?(ke[St]=[Ee],hasOwn(Ae,St)&&(Ae[St]=ke[St])):(St.value=[Ee],t.k&&(ke[t.k]=St.value))}else xe?(ke[St]=Re,hasOwn(Ae,St)&&(Ae[St]=Re)):Se&&(St.value=Re,t.k&&(ke[t.k]=Re))};Re?(Fe.id=-1,queuePostRenderEffect(Fe,r)):Fe()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,e){const r=getGlobalThis();r.__VUE__=!0;const{insert:_e,remove:Ce,patchProp:Ee,createElement:Re,createText:Pe,createComment:St,setText:Te,setElementText:ke,parentNode:Ae,nextSibling:xe,setScopeId:Se=NOOP,insertStaticContent:Fe}=t,Ie=(ur,ar,Sr,wr=null,or=null,kr=null,Or=!1,Lr=null,Dr=!!ar.dynamicChildren)=>{if(ur===ar)return;ur&&!isSameVNodeType(ur,ar)&&(wr=mr(ur),Xe(ur,or,kr,!0),ur=null),ar.patchFlag===-2&&(Dr=!1,ar.dynamicChildren=null);const{type:Nr,ref:Mr,shapeFlag:Gr}=ar;switch(Nr){case Text:Me(ur,ar,Sr,wr);break;case Comment:Oe(ur,ar,Sr,wr);break;case Static:ur==null&&De(ar,Sr,wr,Or);break;case Fragment:er(ur,ar,Sr,wr,or,kr,Or,Lr,Dr);break;default:Gr&1?ze(ur,ar,Sr,wr,or,kr,Or,Lr,Dr):Gr&6?vr(ur,ar,Sr,wr,or,kr,Or,Lr,Dr):(Gr&64||Gr&128)&&Nr.process(ur,ar,Sr,wr,or,kr,Or,Lr,Dr,Pr)}Mr!=null&&or&&setRef(Mr,ur&&ur.ref,kr,ar||ur,!ar)},Me=(ur,ar,Sr,wr)=>{if(ur==null)_e(ar.el=Pe(ar.children),Sr,wr);else{const or=ar.el=ur.el;ar.children!==ur.children&&Te(or,ar.children)}},Oe=(ur,ar,Sr,wr)=>{ur==null?_e(ar.el=St(ar.children||""),Sr,wr):ar.el=ur.el},De=(ur,ar,Sr,wr)=>{[ur.el,ur.anchor]=Fe(ur.children,ar,Sr,wr,ur.el,ur.anchor)},Be=({el:ur,anchor:ar},Sr,wr)=>{let or;for(;ur&&ur!==ar;)or=xe(ur),_e(ur,Sr,wr),ur=or;_e(ar,Sr,wr)},je=({el:ur,anchor:ar})=>{let Sr;for(;ur&&ur!==ar;)Sr=xe(ur),Ce(ur),ur=Sr;Ce(ar)},ze=(ur,ar,Sr,wr,or,kr,Or,Lr,Dr)=>{Or=Or||ar.type==="svg",ur==null?Ge(ar,Sr,wr,or,kr,Or,Lr,Dr):hr(ur,ar,or,kr,Or,Lr,Dr)},Ge=(ur,ar,Sr,wr,or,kr,Or,Lr)=>{let Dr,Nr;const{type:Mr,props:Gr,shapeFlag:Yr,transition:$r,dirs:ti}=ur;if(Dr=ur.el=Re(ur.type,kr,Gr&&Gr.is,Gr),Yr&8?ke(Dr,ur.children):Yr&16&&Ue(ur.children,Dr,null,wr,or,kr&&Mr!=="foreignObject",Or,Lr),ti&&invokeDirectiveHook(ur,null,wr,"created"),Gr){for(const oi in Gr)oi!=="value"&&!isReservedProp(oi)&&Ee(Dr,oi,null,Gr[oi],kr,ur.children,wr,or,lr);"value"in Gr&&Ee(Dr,"value",null,Gr.value),(Nr=Gr.onVnodeBeforeMount)&&invokeVNodeHook(Nr,wr,ur)}We(Dr,ur,ur.scopeId,Or,wr),ti&&invokeDirectiveHook(ur,null,wr,"beforeMount");const ri=(!or||or&&!or.pendingBranch)&&$r&&!$r.persisted;ri&&$r.beforeEnter(Dr),_e(Dr,ar,Sr),((Nr=Gr&&Gr.onVnodeMounted)||ri||ti)&&queuePostRenderEffect(()=>{Nr&&invokeVNodeHook(Nr,wr,ur),ri&&$r.enter(Dr),ti&&invokeDirectiveHook(ur,null,wr,"mounted")},or)},We=(ur,ar,Sr,wr,or)=>{if(Sr&&Se(ur,Sr),wr)for(let kr=0;kr<wr.length;kr++)Se(ur,wr[kr]);if(or){let kr=or.subTree;if(ar===kr){const Or=or.vnode;We(ur,Or,Or.scopeId,Or.slotScopeIds,or.parent)}}},Ue=(ur,ar,Sr,wr,or,kr,Or,Lr,Dr=0)=>{for(let Nr=Dr;Nr<ur.length;Nr++){const Mr=ur[Nr]=Lr?cloneIfMounted(ur[Nr]):normalizeVNode(ur[Nr]);Ie(null,Mr,ar,Sr,wr,or,kr,Or,Lr)}},hr=(ur,ar,Sr,wr,or,kr,Or)=>{const Lr=ar.el=ur.el;let{patchFlag:Dr,dynamicChildren:Nr,dirs:Mr}=ar;Dr|=ur.patchFlag&16;const Gr=ur.props||EMPTY_OBJ,Yr=ar.props||EMPTY_OBJ;let $r;Sr&&toggleRecurse(Sr,!1),($r=Yr.onVnodeBeforeUpdate)&&invokeVNodeHook($r,Sr,ar,ur),Mr&&invokeDirectiveHook(ar,ur,Sr,"beforeUpdate"),Sr&&toggleRecurse(Sr,!0);const ti=or&&ar.type!=="foreignObject";if(Nr?xr(ur.dynamicChildren,Nr,Lr,Sr,wr,ti,kr):Or||Je(ur,ar,Lr,null,Sr,wr,ti,kr,!1),Dr>0){if(Dr&16)rr(Lr,ar,Gr,Yr,Sr,wr,or);else if(Dr&2&&Gr.class!==Yr.class&&Ee(Lr,"class",null,Yr.class,or),Dr&4&&Ee(Lr,"style",Gr.style,Yr.style,or),Dr&8){const ri=ar.dynamicProps;for(let oi=0;oi<ri.length;oi++){const ni=ri[oi],fi=Gr[ni],si=Yr[ni];(si!==fi||ni==="value")&&Ee(Lr,ni,fi,si,or,ur.children,Sr,wr,lr)}}Dr&1&&ur.children!==ar.children&&ke(Lr,ar.children)}else!Or&&Nr==null&&rr(Lr,ar,Gr,Yr,Sr,wr,or);(($r=Yr.onVnodeUpdated)||Mr)&&queuePostRenderEffect(()=>{$r&&invokeVNodeHook($r,Sr,ar,ur),Mr&&invokeDirectiveHook(ar,ur,Sr,"updated")},wr)},xr=(ur,ar,Sr,wr,or,kr,Or)=>{for(let Lr=0;Lr<ar.length;Lr++){const Dr=ur[Lr],Nr=ar[Lr],Mr=Dr.el&&(Dr.type===Fragment||!isSameVNodeType(Dr,Nr)||Dr.shapeFlag&70)?Ae(Dr.el):Sr;Ie(Dr,Nr,Mr,null,wr,or,kr,Or,!0)}},rr=(ur,ar,Sr,wr,or,kr,Or)=>{if(Sr!==wr){if(Sr!==EMPTY_OBJ)for(const Lr in Sr)!isReservedProp(Lr)&&!(Lr in wr)&&Ee(ur,Lr,Sr[Lr],null,Or,ar.children,or,kr,lr);for(const Lr in wr){if(isReservedProp(Lr))continue;const Dr=wr[Lr],Nr=Sr[Lr];Dr!==Nr&&Lr!=="value"&&Ee(ur,Lr,Nr,Dr,Or,ar.children,or,kr,lr)}"value"in wr&&Ee(ur,"value",Sr.value,wr.value)}},er=(ur,ar,Sr,wr,or,kr,Or,Lr,Dr)=>{const Nr=ar.el=ur?ur.el:Pe(""),Mr=ar.anchor=ur?ur.anchor:Pe("");let{patchFlag:Gr,dynamicChildren:Yr,slotScopeIds:$r}=ar;$r&&(Lr=Lr?Lr.concat($r):$r),ur==null?(_e(Nr,Sr,wr),_e(Mr,Sr,wr),Ue(ar.children,Sr,Mr,or,kr,Or,Lr,Dr)):Gr>0&&Gr&64&&Yr&&ur.dynamicChildren?(xr(ur.dynamicChildren,Yr,Sr,or,kr,Or,Lr),(ar.key!=null||or&&ar===or.subTree)&&traverseStaticChildren(ur,ar,!0)):Je(ur,ar,Sr,Mr,or,kr,Or,Lr,Dr)},vr=(ur,ar,Sr,wr,or,kr,Or,Lr,Dr)=>{ar.slotScopeIds=Lr,ur==null?ar.shapeFlag&512?or.ctx.activate(ar,Sr,wr,Or,Dr):gr(ar,Sr,wr,or,kr,Or,Dr):br(ur,ar,Dr)},gr=(ur,ar,Sr,wr,or,kr,Or)=>{const Lr=ur.component=createComponentInstance(ur,wr,or);if(isKeepAlive(ur)&&(Lr.ctx.renderer=Pr),setupComponent(Lr),Lr.asyncDep){if(or&&or.registerDep(Lr,sr),!ur.el){const Dr=Lr.subTree=createVNode(Comment);Oe(null,Dr,ar,Sr)}return}sr(Lr,ur,ar,Sr,or,kr,Or)},br=(ur,ar,Sr)=>{const wr=ar.component=ur.component;if(shouldUpdateComponent(ur,ar,Sr))if(wr.asyncDep&&!wr.asyncResolved){nr(wr,ar,Sr);return}else wr.next=ar,invalidateJob(wr.update),wr.update();else ar.el=ur.el,wr.vnode=ar},sr=(ur,ar,Sr,wr,or,kr,Or)=>{const Lr=()=>{if(ur.isMounted){let{next:Mr,bu:Gr,u:Yr,parent:$r,vnode:ti}=ur,ri=Mr,oi;toggleRecurse(ur,!1),Mr?(Mr.el=ti.el,nr(ur,Mr,Or)):Mr=ti,Gr&&invokeArrayFns(Gr),(oi=Mr.props&&Mr.props.onVnodeBeforeUpdate)&&invokeVNodeHook(oi,$r,Mr,ti),toggleRecurse(ur,!0);const ni=renderComponentRoot(ur),fi=ur.subTree;ur.subTree=ni,Ie(fi,ni,Ae(fi.el),mr(fi),ur,or,kr),Mr.el=ni.el,ri===null&&updateHOCHostEl(ur,ni.el),Yr&&queuePostRenderEffect(Yr,or),(oi=Mr.props&&Mr.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(oi,$r,Mr,ti),or)}else{let Mr;const{el:Gr,props:Yr}=ar,{bm:$r,m:ti,parent:ri}=ur,oi=isAsyncWrapper(ar);if(toggleRecurse(ur,!1),$r&&invokeArrayFns($r),!oi&&(Mr=Yr&&Yr.onVnodeBeforeMount)&&invokeVNodeHook(Mr,ri,ar),toggleRecurse(ur,!0),Gr&&Ir){const ni=()=>{ur.subTree=renderComponentRoot(ur),Ir(Gr,ur.subTree,ur,or,null)};oi?ar.type.__asyncLoader().then(()=>!ur.isUnmounted&&ni()):ni()}else{const ni=ur.subTree=renderComponentRoot(ur);Ie(null,ni,Sr,wr,ur,or,kr),ar.el=ni.el}if(ti&&queuePostRenderEffect(ti,or),!oi&&(Mr=Yr&&Yr.onVnodeMounted)){const ni=ar;queuePostRenderEffect(()=>invokeVNodeHook(Mr,ri,ni),or)}(ar.shapeFlag&256||ri&&isAsyncWrapper(ri.vnode)&&ri.vnode.shapeFlag&256)&&ur.a&&queuePostRenderEffect(ur.a,or),ur.isMounted=!0,ar=Sr=wr=null}},Dr=ur.effect=new ReactiveEffect(Lr,()=>queueJob(Nr),ur.scope),Nr=ur.update=()=>Dr.run();Nr.id=ur.uid,toggleRecurse(ur,!0),Nr()},nr=(ur,ar,Sr)=>{ar.component=ur;const wr=ur.vnode.props;ur.vnode=ar,ur.next=null,updateProps(ur,ar.props,wr,Sr),updateSlots(ur,ar.children,Sr),pauseTracking(),flushPreFlushCbs(),resetTracking()},Je=(ur,ar,Sr,wr,or,kr,Or,Lr,Dr=!1)=>{const Nr=ur&&ur.children,Mr=ur?ur.shapeFlag:0,Gr=ar.children,{patchFlag:Yr,shapeFlag:$r}=ar;if(Yr>0){if(Yr&128){tr(Nr,Gr,Sr,wr,or,kr,Or,Lr,Dr);return}else if(Yr&256){$e(Nr,Gr,Sr,wr,or,kr,Or,Lr,Dr);return}}$r&8?(Mr&16&&lr(Nr,or,kr),Gr!==Nr&&ke(Sr,Gr)):Mr&16?$r&16?tr(Nr,Gr,Sr,wr,or,kr,Or,Lr,Dr):lr(Nr,or,kr,!0):(Mr&8&&ke(Sr,""),$r&16&&Ue(Gr,Sr,wr,or,kr,Or,Lr,Dr))},$e=(ur,ar,Sr,wr,or,kr,Or,Lr,Dr)=>{ur=ur||EMPTY_ARR,ar=ar||EMPTY_ARR;const Nr=ur.length,Mr=ar.length,Gr=Math.min(Nr,Mr);let Yr;for(Yr=0;Yr<Gr;Yr++){const $r=ar[Yr]=Dr?cloneIfMounted(ar[Yr]):normalizeVNode(ar[Yr]);Ie(ur[Yr],$r,Sr,null,or,kr,Or,Lr,Dr)}Nr>Mr?lr(ur,or,kr,!0,!1,Gr):Ue(ar,Sr,wr,or,kr,Or,Lr,Dr,Gr)},tr=(ur,ar,Sr,wr,or,kr,Or,Lr,Dr)=>{let Nr=0;const Mr=ar.length;let Gr=ur.length-1,Yr=Mr-1;for(;Nr<=Gr&&Nr<=Yr;){const $r=ur[Nr],ti=ar[Nr]=Dr?cloneIfMounted(ar[Nr]):normalizeVNode(ar[Nr]);if(isSameVNodeType($r,ti))Ie($r,ti,Sr,null,or,kr,Or,Lr,Dr);else break;Nr++}for(;Nr<=Gr&&Nr<=Yr;){const $r=ur[Gr],ti=ar[Yr]=Dr?cloneIfMounted(ar[Yr]):normalizeVNode(ar[Yr]);if(isSameVNodeType($r,ti))Ie($r,ti,Sr,null,or,kr,Or,Lr,Dr);else break;Gr--,Yr--}if(Nr>Gr){if(Nr<=Yr){const $r=Yr+1,ti=$r<Mr?ar[$r].el:wr;for(;Nr<=Yr;)Ie(null,ar[Nr]=Dr?cloneIfMounted(ar[Nr]):normalizeVNode(ar[Nr]),Sr,ti,or,kr,Or,Lr,Dr),Nr++}}else if(Nr>Yr)for(;Nr<=Gr;)Xe(ur[Nr],or,kr,!0),Nr++;else{const $r=Nr,ti=Nr,ri=new Map;for(Nr=ti;Nr<=Yr;Nr++){const yi=ar[Nr]=Dr?cloneIfMounted(ar[Nr]):normalizeVNode(ar[Nr]);yi.key!=null&&ri.set(yi.key,Nr)}let oi,ni=0;const fi=Yr-ti+1;let si=!1,Ti=0;const wi=new Array(fi);for(Nr=0;Nr<fi;Nr++)wi[Nr]=0;for(Nr=$r;Nr<=Gr;Nr++){const yi=ur[Nr];if(ni>=fi){Xe(yi,or,kr,!0);continue}let xi;if(yi.key!=null)xi=ri.get(yi.key);else for(oi=ti;oi<=Yr;oi++)if(wi[oi-ti]===0&&isSameVNodeType(yi,ar[oi])){xi=oi;break}xi===void 0?Xe(yi,or,kr,!0):(wi[xi-ti]=Nr+1,xi>=Ti?Ti=xi:si=!0,Ie(yi,ar[xi],Sr,null,or,kr,Or,Lr,Dr),ni++)}const Qi=si?getSequence(wi):EMPTY_ARR;for(oi=Qi.length-1,Nr=fi-1;Nr>=0;Nr--){const yi=ti+Nr,xi=ar[yi],dn=yi+1<Mr?ar[yi+1].el:wr;wi[Nr]===0?Ie(null,xi,Sr,dn,or,kr,Or,Lr,Dr):si&&(oi<0||Nr!==Qi[oi]?ir(xi,Sr,dn,2):oi--)}}},ir=(ur,ar,Sr,wr,or=null)=>{const{el:kr,type:Or,transition:Lr,children:Dr,shapeFlag:Nr}=ur;if(Nr&6){ir(ur.component.subTree,ar,Sr,wr);return}if(Nr&128){ur.suspense.move(ar,Sr,wr);return}if(Nr&64){Or.move(ur,ar,Sr,Pr);return}if(Or===Fragment){_e(kr,ar,Sr);for(let Gr=0;Gr<Dr.length;Gr++)ir(Dr[Gr],ar,Sr,wr);_e(ur.anchor,ar,Sr);return}if(Or===Static){Be(ur,ar,Sr);return}if(wr!==2&&Nr&1&&Lr)if(wr===0)Lr.beforeEnter(kr),_e(kr,ar,Sr),queuePostRenderEffect(()=>Lr.enter(kr),or);else{const{leave:Gr,delayLeave:Yr,afterLeave:$r}=Lr,ti=()=>_e(kr,ar,Sr),ri=()=>{Gr(kr,()=>{ti(),$r&&$r()})};Yr?Yr(kr,ti,ri):ri()}else _e(kr,ar,Sr)},Xe=(ur,ar,Sr,wr=!1,or=!1)=>{const{type:kr,props:Or,ref:Lr,children:Dr,dynamicChildren:Nr,shapeFlag:Mr,patchFlag:Gr,dirs:Yr}=ur;if(Lr!=null&&setRef(Lr,null,Sr,ur,!0),Mr&256){ar.ctx.deactivate(ur);return}const $r=Mr&1&&Yr,ti=!isAsyncWrapper(ur);let ri;if(ti&&(ri=Or&&Or.onVnodeBeforeUnmount)&&invokeVNodeHook(ri,ar,ur),Mr&6)Ke(ur.component,Sr,wr);else{if(Mr&128){ur.suspense.unmount(Sr,wr);return}$r&&invokeDirectiveHook(ur,null,ar,"beforeUnmount"),Mr&64?ur.type.remove(ur,ar,Sr,or,Pr,wr):Nr&&(kr!==Fragment||Gr>0&&Gr&64)?lr(Nr,ar,Sr,!1,!0):(kr===Fragment&&Gr&384||!or&&Mr&16)&&lr(Dr,ar,Sr),wr&&cr(ur)}(ti&&(ri=Or&&Or.onVnodeUnmounted)||$r)&&queuePostRenderEffect(()=>{ri&&invokeVNodeHook(ri,ar,ur),$r&&invokeDirectiveHook(ur,null,ar,"unmounted")},Sr)},cr=ur=>{const{type:ar,el:Sr,anchor:wr,transition:or}=ur;if(ar===Fragment){Qe(Sr,wr);return}if(ar===Static){je(ur);return}const kr=()=>{Ce(Sr),or&&!or.persisted&&or.afterLeave&&or.afterLeave()};if(ur.shapeFlag&1&&or&&!or.persisted){const{leave:Or,delayLeave:Lr}=or,Dr=()=>Or(Sr,kr);Lr?Lr(ur.el,kr,Dr):Dr()}else kr()},Qe=(ur,ar)=>{let Sr;for(;ur!==ar;)Sr=xe(ur),Ce(ur),ur=Sr;Ce(ar)},Ke=(ur,ar,Sr)=>{const{bum:wr,scope:or,update:kr,subTree:Or,um:Lr}=ur;wr&&invokeArrayFns(wr),or.stop(),kr&&(kr.active=!1,Xe(Or,ur,ar,Sr)),Lr&&queuePostRenderEffect(Lr,ar),queuePostRenderEffect(()=>{ur.isUnmounted=!0},ar),ar&&ar.pendingBranch&&!ar.isUnmounted&&ur.asyncDep&&!ur.asyncResolved&&ur.suspenseId===ar.pendingId&&(ar.deps--,ar.deps===0&&ar.resolve())},lr=(ur,ar,Sr,wr=!1,or=!1,kr=0)=>{for(let Or=kr;Or<ur.length;Or++)Xe(ur[Or],ar,Sr,wr,or)},mr=ur=>ur.shapeFlag&6?mr(ur.component.subTree):ur.shapeFlag&128?ur.suspense.next():xe(ur.anchor||ur.el),Ar=(ur,ar,Sr)=>{ur==null?ar._vnode&&Xe(ar._vnode,null,null,!0):Ie(ar._vnode||null,ur,ar,null,null,null,Sr),flushPreFlushCbs(),flushPostFlushCbs(),ar._vnode=ur},Pr={p:Ie,um:Xe,m:ir,r:cr,mt:gr,mc:Ue,pc:Je,pbc:xr,n:mr,o:t};let Rr,Ir;return e&&([Rr,Ir]=e(Pr)),{render:Ar,hydrate:Rr,createApp:createAppAPI(Ar,Rr)}}function toggleRecurse({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function traverseStaticChildren(t,e,r=!1){const _e=t.children,Ce=e.children;if(isArray$1(_e)&&isArray$1(Ce))for(let Ee=0;Ee<_e.length;Ee++){const Re=_e[Ee];let Pe=Ce[Ee];Pe.shapeFlag&1&&!Pe.dynamicChildren&&((Pe.patchFlag<=0||Pe.patchFlag===32)&&(Pe=Ce[Ee]=cloneIfMounted(Ce[Ee]),Pe.el=Re.el),r||traverseStaticChildren(Re,Pe)),Pe.type===Text&&(Pe.el=Re.el)}}function getSequence(t){const e=t.slice(),r=[0];let _e,Ce,Ee,Re,Pe;const St=t.length;for(_e=0;_e<St;_e++){const Te=t[_e];if(Te!==0){if(Ce=r[r.length-1],t[Ce]<Te){e[_e]=Ce,r.push(_e);continue}for(Ee=0,Re=r.length-1;Ee<Re;)Pe=Ee+Re>>1,t[r[Pe]]<Te?Ee=Pe+1:Re=Pe;Te<t[r[Ee]]&&(Ee>0&&(e[_e]=r[Ee-1]),r[Ee]=_e)}}for(Ee=r.length,Re=r[Ee-1];Ee-- >0;)r[Ee]=Re,Re=e[Re];return r}const isTeleport=t=>t.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,r,_e,Ce,Ee){return setupBlock(createBaseVNode(t,e,r,_e,Ce,Ee,!0))}function createBlock(t,e,r,_e,Ce){return setupBlock(createVNode(t,e,r,_e,Ce,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t!=null?t:null,normalizeRef=({ref:t,ref_key:e,ref_for:r})=>t!=null?isString(t)||isRef(t)||isFunction(t)?{i:currentRenderingInstance,r:t,k:e,f:!!r}:t:null;function createBaseVNode(t,e=null,r=null,_e=0,Ce=null,Ee=t===Fragment?0:1,Re=!1,Pe=!1){const St={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:Ee,patchFlag:_e,dynamicProps:Ce,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return Pe?(normalizeChildren(St,r),Ee&128&&t.normalize(St)):r&&(St.shapeFlag|=isString(r)?8:16),isBlockTreeEnabled>0&&!Re&&currentBlock&&(St.patchFlag>0||Ee&6)&&St.patchFlag!==32&&currentBlock.push(St),St}const createVNode=_createVNode;function _createVNode(t,e=null,r=null,_e=0,Ce=null,Ee=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const Pe=cloneVNode(t,e,!0);return r&&normalizeChildren(Pe,r),isBlockTreeEnabled>0&&!Ee&&currentBlock&&(Pe.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=Pe:currentBlock.push(Pe)),Pe.patchFlag|=-2,Pe}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:Pe,style:St}=e;Pe&&!isString(Pe)&&(e.class=normalizeClass(Pe)),isObject$1(St)&&(isProxy(St)&&!isArray$1(St)&&(St=extend({},St)),e.style=normalizeStyle(St))}const Re=isString(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$1(t)?4:isFunction(t)?2:0;return createBaseVNode(t,e,r,_e,Ce,Re,Ee,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend({},t):t:null}function cloneVNode(t,e,r=!1){const{props:_e,ref:Ce,patchFlag:Ee,children:Re}=t,Pe=e?mergeProps(_e||{},e):_e;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:Pe,key:Pe&&normalizeKey(Pe),ref:e&&e.ref?r&&Ce?isArray$1(Ce)?Ce.concat(normalizeRef(e)):[Ce,normalizeRef(e)]:normalizeRef(e):Ce,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:Re,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?Ee===-1?16:Ee|16:Ee,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createStaticVNode(t,e){const r=createVNode(Static,null,t);return r.staticCount=e,r}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$1(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let r=0;const{shapeFlag:_e}=t;if(e==null)e=null;else if(isArray$1(e))r=16;else if(typeof e=="object")if(_e&65){const Ce=e.default;Ce&&(Ce._c&&(Ce._d=!1),normalizeChildren(t,Ce()),Ce._c&&(Ce._d=!0));return}else{r=32;const Ce=e._;!Ce&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:Ce===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction(e)?(e={default:e,_ctx:currentRenderingInstance},r=32):(e=String(e),_e&64?(r=16,e=[createTextVNode(e)]):r=8);t.children=e,t.shapeFlag|=r}function mergeProps(...t){const e={};for(let r=0;r<t.length;r++){const _e=t[r];for(const Ce in _e)if(Ce==="class")e.class!==_e.class&&(e.class=normalizeClass([e.class,_e.class]));else if(Ce==="style")e.style=normalizeStyle([e.style,_e.style]);else if(isOn(Ce)){const Ee=e[Ce],Re=_e[Ce];Re&&Ee!==Re&&!(isArray$1(Ee)&&Ee.includes(Re))&&(e[Ce]=Ee?[].concat(Ee,Re):Re)}else Ce!==""&&(e[Ce]=_e[Ce])}return e}function invokeVNodeHook(t,e,r,_e=null){callWithAsyncErrorHandling(t,e,7,[r,_e])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(t,e,r){const _e=t.type,Ce=(e?e.appContext:t.appContext)||emptyAppContext,Ee={uid:uid$1++,vnode:t,type:_e,parent:e,appContext:Ce,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(Ce.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(_e,Ce),emitsOptions:normalizeEmitsOptions(_e,Ce),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:_e.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return Ee.ctx={_:Ee},Ee.root=e?e.root:Ee,Ee.emit=emit$1.bind(null,Ee),t.ce&&t.ce(Ee),Ee}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=t=>{currentInstance=t,t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:r,children:_e}=t.vnode,Ce=isStatefulComponent(t);initProps(t,r,Ce,e),initSlots(t,_e);const Ee=Ce?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,Ee}function setupStatefulComponent(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:_e}=r;if(_e){const Ce=t.setupContext=_e.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const Ee=callWithErrorHandling(_e,t,0,[t.props,Ce]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(Ee)){if(Ee.then(unsetCurrentInstance,unsetCurrentInstance),e)return Ee.then(Re=>{handleSetupResult(t,Re,e)}).catch(Re=>{handleError(Re,t,0)});t.asyncDep=Ee}else handleSetupResult(t,Ee,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,r){isFunction(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$1(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,r)}let compile;function finishComponentSetup(t,e,r){const _e=t.type;if(!t.render){if(!e&&compile&&!_e.render){const Ce=_e.template||resolveMergedOptions(t).template;if(Ce){const{isCustomElement:Ee,compilerOptions:Re}=t.appContext.config,{delimiters:Pe,compilerOptions:St}=_e,Te=extend(extend({isCustomElement:Ee,delimiters:Pe},Re),St);_e.render=compile(Ce,Te)}}t.render=_e.render||NOOP}setCurrentInstance(t),pauseTracking(),applyOptions(t),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(t){return new Proxy(t.attrs,{get(e,r){return track(t,"get","$attrs"),e[r]}})}function createSetupContext(t){const e=_e=>{t.exposed=_e||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(t))},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](t)},has(e,r){return r in e||r in publicPropertiesMap}}))}function getComponentName(t,e=!0){return isFunction(t)?t.displayName||t.name:t.name||e&&t.__name}function isClassComponent(t){return isFunction(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function h$2(t,e,r){const _e=arguments.length;return _e===2?isObject$1(e)&&!isArray$1(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(_e>3?r=Array.prototype.slice.call(arguments,2):_e===3&&isVNode(r)&&(r=[r]),createVNode(t,e,r))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version="3.2.45",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,_e)=>{const Ce=e?doc.createElementNS(svgNS,t):doc.createElement(t,r?{is:r}:void 0);return t==="select"&&_e&&_e.multiple!=null&&Ce.setAttribute("multiple",_e.multiple),Ce},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,_e,Ce,Ee){const Re=r?r.previousSibling:e.lastChild;if(Ce&&(Ce===Ee||Ce.nextSibling))for(;e.insertBefore(Ce.cloneNode(!0),r),!(Ce===Ee||!(Ce=Ce.nextSibling)););else{templateContainer.innerHTML=_e?`<svg>${t}</svg>`:t;const Pe=templateContainer.content;if(_e){const St=Pe.firstChild;for(;St.firstChild;)Pe.appendChild(St.firstChild);Pe.removeChild(St)}e.insertBefore(Pe,r)}return[Re?Re.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function patchClass(t,e,r){const _e=t._vtc;_e&&(e=(e?[e,..._e]:[..._e]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function patchStyle(t,e,r){const _e=t.style,Ce=isString(r);if(r&&!Ce){for(const Ee in r)setStyle(_e,Ee,r[Ee]);if(e&&!isString(e))for(const Ee in e)r[Ee]==null&&setStyle(_e,Ee,"")}else{const Ee=_e.display;Ce?e!==r&&(_e.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(_e.display=Ee)}}const importantRE=/\s*!important$/;function setStyle(t,e,r){if(isArray$1(r))r.forEach(_e=>setStyle(t,e,_e));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const _e=autoPrefix(t,e);importantRE.test(r)?t.setProperty(hyphenate(_e),r.replace(importantRE,""),"important"):t[_e]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const r=prefixCache[e];if(r)return r;let _e=camelize(e);if(_e!=="filter"&&_e in t)return prefixCache[e]=_e;_e=capitalize(_e);for(let Ce=0;Ce<prefixes.length;Ce++){const Ee=prefixes[Ce]+_e;if(Ee in t)return prefixCache[e]=Ee}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,r,_e,Ce){if(_e&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,r);else{const Ee=isSpecialBooleanAttr(e);r==null||Ee&&!includeBooleanAttr(r)?t.removeAttribute(e):t.setAttribute(e,Ee?"":r)}}function patchDOMProp(t,e,r,_e,Ce,Ee,Re){if(e==="innerHTML"||e==="textContent"){_e&&Re(_e,Ce,Ee),t[e]=r==null?"":r;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const St=r==null?"":r;(t.value!==St||t.tagName==="OPTION")&&(t.value=St),r==null&&t.removeAttribute(e);return}let Pe=!1;if(r===""||r==null){const St=typeof t[e];St==="boolean"?r=includeBooleanAttr(r):r==null&&St==="string"?(r="",Pe=!0):St==="number"&&(r=0,Pe=!0)}try{t[e]=r}catch{}Pe&&t.removeAttribute(e)}function addEventListener(t,e,r,_e){t.addEventListener(e,r,_e)}function removeEventListener(t,e,r,_e){t.removeEventListener(e,r,_e)}function patchEvent(t,e,r,_e,Ce=null){const Ee=t._vei||(t._vei={}),Re=Ee[e];if(_e&&Re)Re.value=_e;else{const[Pe,St]=parseName(e);if(_e){const Te=Ee[e]=createInvoker(_e,Ce);addEventListener(t,Pe,Te,St)}else Re&&(removeEventListener(t,Pe,Re,St),Ee[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let _e;for(;_e=t.match(optionsModifierRE);)t=t.slice(0,t.length-_e[0].length),e[_e[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const r=_e=>{if(!_e._vts)_e._vts=Date.now();else if(_e._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(_e,r.value),e,5,[_e])};return r.value=t,r.attached=getNow(),r}function patchStopImmediatePropagation(t,e){if(isArray$1(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(_e=>Ce=>!Ce._stopped&&_e&&_e(Ce))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,r,_e,Ce=!1,Ee,Re,Pe,St)=>{e==="class"?patchClass(t,_e,Ce):e==="style"?patchStyle(t,r,_e):isOn(e)?isModelListener(e)||patchEvent(t,e,r,_e,Re):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,_e,Ce))?patchDOMProp(t,e,_e,Ee,Re,Pe,St):(e==="true-value"?t._trueValue=_e:e==="false-value"&&(t._falseValue=_e),patchAttr(t,e,_e,Ce))};function shouldSetAsProp(t,e,r,_e){return _e?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString(r)?!1:e in t}const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};BaseTransition.props;const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>systemModifiers.some(r=>t[`${r}Key`]&&!e.includes(r))},withModifiers=(t,e)=>(r,..._e)=>{for(let Ce=0;Ce<e.length;Ce++){const Ee=modifierGuards[e[Ce]];if(Ee&&Ee(r,e))return}return t(r,..._e)},vShow={beforeMount(t,{value:e},{transition:r}){t._vod=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:_e}){!e!=!r&&(_e?e?(_e.beforeEnter(t),setDisplay(t,!0),_e.enter(t)):_e.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:r}=e;return e.mount=_e=>{const Ce=normalizeContainer(_e);if(!Ce)return;const Ee=e._component;!isFunction(Ee)&&!Ee.render&&!Ee.template&&(Ee.template=Ce.innerHTML),Ce.innerHTML="";const Re=r(Ce,!1,Ce instanceof SVGElement);return Ce instanceof Element&&(Ce.removeAttribute("v-cloak"),Ce.setAttribute("data-v-app","")),Re},e};function normalizeContainer(t){return isString(t)?document.querySelector(t):t}const index="";function getDevtoolsGlobalHook(){return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__}function getTarget(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const isProxyAvailable=typeof Proxy=="function",HOOK_SETUP="devtools-plugin:setup",HOOK_PLUGIN_SETTINGS_SET="plugin:settings:set";let supported,perf;function isPerformanceSupported(){var t;return supported!==void 0||(typeof window<"u"&&window.performance?(supported=!0,perf=window.performance):typeof global<"u"&&((t=global.perf_hooks)===null||t===void 0?void 0:t.performance)?(supported=!0,perf=global.perf_hooks.performance):supported=!1),supported}function now(){return isPerformanceSupported()?perf.now():Date.now()}class ApiProxy{constructor(e,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=r;const _e={};if(e.settings)for(const Re in e.settings){const Pe=e.settings[Re];_e[Re]=Pe.defaultValue}const Ce=`__vue-devtools-plugin-settings__${e.id}`;let Ee=Object.assign({},_e);try{const Re=localStorage.getItem(Ce),Pe=JSON.parse(Re);Object.assign(Ee,Pe)}catch{}this.fallbacks={getSettings(){return Ee},setSettings(Re){try{localStorage.setItem(Ce,JSON.stringify(Re))}catch{}Ee=Re},now(){return now()}},r&&r.on(HOOK_PLUGIN_SETTINGS_SET,(Re,Pe)=>{Re===this.plugin.id&&this.fallbacks.setSettings(Pe)}),this.proxiedOn=new Proxy({},{get:(Re,Pe)=>this.target?this.target.on[Pe]:(...St)=>{this.onQueue.push({method:Pe,args:St})}}),this.proxiedTarget=new Proxy({},{get:(Re,Pe)=>this.target?this.target[Pe]:Pe==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(Pe)?(...St)=>(this.targetQueue.push({method:Pe,args:St,resolve:()=>{}}),this.fallbacks[Pe](...St)):(...St)=>new Promise(Te=>{this.targetQueue.push({method:Pe,args:St,resolve:Te})})})}async setRealTarget(e){this.target=e;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function setupDevtoolsPlugin(t,e){const r=t,_e=getTarget(),Ce=getDevtoolsGlobalHook(),Ee=isProxyAvailable&&r.enableEarlyProxy;if(Ce&&(_e.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!Ee))Ce.emit(HOOK_SETUP,t,e);else{const Re=Ee?new ApiProxy(r,Ce):null;(_e.__VUE_DEVTOOLS_PLUGINS__=_e.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:e,proxy:Re}),Re&&e(Re.proxiedTarget)}}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var storeKey="store";function useStore(t){return t===void 0&&(t=null),inject(t!==null?t:storeKey)}function forEachValue(t,e){Object.keys(t).forEach(function(r){return e(t[r],r)})}function isObject(t){return t!==null&&typeof t=="object"}function isPromise(t){return t&&typeof t.then=="function"}function partial(t,e){return function(){return t(e)}}function genericSubscribe(t,e,r){return e.indexOf(t)<0&&(r&&r.prepend?e.unshift(t):e.push(t)),function(){var _e=e.indexOf(t);_e>-1&&e.splice(_e,1)}}function resetStore(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var r=t.state;installModule(t,r,[],t._modules.root,!0),resetStoreState(t,r,e)}function resetStoreState(t,e,r){var _e=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var Ce=t._wrappedGetters,Ee={};forEachValue(Ce,function(Re,Pe){Ee[Pe]=partial(Re,t),Object.defineProperty(t.getters,Pe,{get:function(){return Ee[Pe]()},enumerable:!0})}),t._state=reactive({data:e}),t.strict&&enableStrictMode(t),_e&&r&&t._withCommit(function(){_e.data=null})}function installModule(t,e,r,_e,Ce){var Ee=!r.length,Re=t._modules.getNamespace(r);if(_e.namespaced&&(t._modulesNamespaceMap[Re],t._modulesNamespaceMap[Re]=_e),!Ee&&!Ce){var Pe=getNestedState(e,r.slice(0,-1)),St=r[r.length-1];t._withCommit(function(){Pe[St]=_e.state})}var Te=_e.context=makeLocalContext(t,Re,r);_e.forEachMutation(function(ke,Ae){var xe=Re+Ae;registerMutation(t,xe,ke,Te)}),_e.forEachAction(function(ke,Ae){var xe=ke.root?Ae:Re+Ae,Se=ke.handler||ke;registerAction(t,xe,Se,Te)}),_e.forEachGetter(function(ke,Ae){var xe=Re+Ae;registerGetter(t,xe,ke,Te)}),_e.forEachChild(function(ke,Ae){installModule(t,e,r.concat(Ae),ke,Ce)})}function makeLocalContext(t,e,r){var _e=e==="",Ce={dispatch:_e?t.dispatch:function(Ee,Re,Pe){var St=unifyObjectStyle(Ee,Re,Pe),Te=St.payload,ke=St.options,Ae=St.type;return(!ke||!ke.root)&&(Ae=e+Ae),t.dispatch(Ae,Te)},commit:_e?t.commit:function(Ee,Re,Pe){var St=unifyObjectStyle(Ee,Re,Pe),Te=St.payload,ke=St.options,Ae=St.type;(!ke||!ke.root)&&(Ae=e+Ae),t.commit(Ae,Te,ke)}};return Object.defineProperties(Ce,{getters:{get:_e?function(){return t.getters}:function(){return makeLocalGetters(t,e)}},state:{get:function(){return getNestedState(t.state,r)}}}),Ce}function makeLocalGetters(t,e){if(!t._makeLocalGettersCache[e]){var r={},_e=e.length;Object.keys(t.getters).forEach(function(Ce){if(Ce.slice(0,_e)===e){var Ee=Ce.slice(_e);Object.defineProperty(r,Ee,{get:function(){return t.getters[Ce]},enumerable:!0})}}),t._makeLocalGettersCache[e]=r}return t._makeLocalGettersCache[e]}function registerMutation(t,e,r,_e){var Ce=t._mutations[e]||(t._mutations[e]=[]);Ce.push(function(Re){r.call(t,_e.state,Re)})}function registerAction(t,e,r,_e){var Ce=t._actions[e]||(t._actions[e]=[]);Ce.push(function(Re){var Pe=r.call(t,{dispatch:_e.dispatch,commit:_e.commit,getters:_e.getters,state:_e.state,rootGetters:t.getters,rootState:t.state},Re);return isPromise(Pe)||(Pe=Promise.resolve(Pe)),t._devtoolHook?Pe.catch(function(St){throw t._devtoolHook.emit("vuex:error",St),St}):Pe})}function registerGetter(t,e,r,_e){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(Ee){return r(_e.state,_e.getters,Ee.state,Ee.getters)})}function enableStrictMode(t){watch(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function getNestedState(t,e){return e.reduce(function(r,_e){return r[_e]},t)}function unifyObjectStyle(t,e,r){return isObject(t)&&t.type&&(r=e,e=t,t=t.type),{type:t,payload:e,options:r}}var LABEL_VUEX_BINDINGS="vuex bindings",MUTATIONS_LAYER_ID="vuex:mutations",ACTIONS_LAYER_ID="vuex:actions",INSPECTOR_ID="vuex",actionId=0;function addDevtools(t,e){setupDevtoolsPlugin({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[LABEL_VUEX_BINDINGS]},function(r){r.addTimelineLayer({id:MUTATIONS_LAYER_ID,label:"Vuex Mutations",color:COLOR_LIME_500}),r.addTimelineLayer({id:ACTIONS_LAYER_ID,label:"Vuex Actions",color:COLOR_LIME_500}),r.addInspector({id:INSPECTOR_ID,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree(function(_e){if(_e.app===t&&_e.inspectorId===INSPECTOR_ID)if(_e.filter){var Ce=[];flattenStoreForInspectorTree(Ce,e._modules.root,_e.filter,""),_e.rootNodes=Ce}else _e.rootNodes=[formatStoreForInspectorTree(e._modules.root,"")]}),r.on.getInspectorState(function(_e){if(_e.app===t&&_e.inspectorId===INSPECTOR_ID){var Ce=_e.nodeId;makeLocalGetters(e,Ce),_e.state=formatStoreForInspectorState(getStoreModule(e._modules,Ce),Ce==="root"?e.getters:e._makeLocalGettersCache,Ce)}}),r.on.editInspectorState(function(_e){if(_e.app===t&&_e.inspectorId===INSPECTOR_ID){var Ce=_e.nodeId,Ee=_e.path;Ce!=="root"&&(Ee=Ce.split("/").filter(Boolean).concat(Ee)),e._withCommit(function(){_e.set(e._state.data,Ee,_e.state.value)})}}),e.subscribe(function(_e,Ce){var Ee={};_e.payload&&(Ee.payload=_e.payload),Ee.state=Ce,r.notifyComponentUpdate(),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID),r.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:Date.now(),title:_e.type,data:Ee}})}),e.subscribeAction({before:function(_e,Ce){var Ee={};_e.payload&&(Ee.payload=_e.payload),_e._id=actionId++,_e._time=Date.now(),Ee.state=Ce,r.addTimelineEvent({layerId:ACTIONS_LAYER_ID,event:{time:_e._time,title:_e.type,groupId:_e._id,subtitle:"start",data:Ee}})},after:function(_e,Ce){var Ee={},Re=Date.now()-_e._time;Ee.duration={_custom:{type:"duration",display:Re+"ms",tooltip:"Action duration",value:Re}},_e.payload&&(Ee.payload=_e.payload),Ee.state=Ce,r.addTimelineEvent({layerId:ACTIONS_LAYER_ID,event:{time:Date.now(),title:_e.type,groupId:_e._id,subtitle:"end",data:Ee}})}})})}var COLOR_LIME_500=8702998,COLOR_DARK=6710886,COLOR_WHITE=16777215,TAG_NAMESPACED={label:"namespaced",textColor:COLOR_WHITE,backgroundColor:COLOR_DARK};function extractNameFromPath(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function formatStoreForInspectorTree(t,e){return{id:e||"root",label:extractNameFromPath(e),tags:t.namespaced?[TAG_NAMESPACED]:[],children:Object.keys(t._children).map(function(r){return formatStoreForInspectorTree(t._children[r],e+r+"/")})}}function flattenStoreForInspectorTree(t,e,r,_e){_e.includes(r)&&t.push({id:_e||"root",label:_e.endsWith("/")?_e.slice(0,_e.length-1):_e||"Root",tags:e.namespaced?[TAG_NAMESPACED]:[]}),Object.keys(e._children).forEach(function(Ce){flattenStoreForInspectorTree(t,e._children[Ce],r,_e+Ce+"/")})}function formatStoreForInspectorState(t,e,r){e=r==="root"?e:e[r];var _e=Object.keys(e),Ce={state:Object.keys(t.state).map(function(Re){return{key:Re,editable:!0,value:t.state[Re]}})};if(_e.length){var Ee=transformPathsToObjectTree(e);Ce.getters=Object.keys(Ee).map(function(Re){return{key:Re.endsWith("/")?extractNameFromPath(Re):Re,editable:!1,value:canThrow(function(){return Ee[Re]})}})}return Ce}function transformPathsToObjectTree(t){var e={};return Object.keys(t).forEach(function(r){var _e=r.split("/");if(_e.length>1){var Ce=e,Ee=_e.pop();_e.forEach(function(Re){Ce[Re]||(Ce[Re]={_custom:{value:{},display:Re,tooltip:"Module",abstract:!0}}),Ce=Ce[Re]._custom.value}),Ce[Ee]=canThrow(function(){return t[r]})}else e[r]=canThrow(function(){return t[r]})}),e}function getStoreModule(t,e){var r=e.split("/").filter(function(_e){return _e});return r.reduce(function(_e,Ce,Ee){var Re=_e[Ce];if(!Re)throw new Error('Missing module "'+Ce+'" for path "'+e+'".');return Ee===r.length-1?Re:Re._children},e==="root"?t:t.root._children)}function canThrow(t){try{return t()}catch(e){return e}}var Module=function(e,r){this.runtime=r,this._children=Object.create(null),this._rawModule=e;var _e=e.state;this.state=(typeof _e=="function"?_e():_e)||{}},prototypeAccessors$1={namespaced:{configurable:!0}};prototypeAccessors$1.namespaced.get=function(){return!!this._rawModule.namespaced};Module.prototype.addChild=function(e,r){this._children[e]=r};Module.prototype.removeChild=function(e){delete this._children[e]};Module.prototype.getChild=function(e){return this._children[e]};Module.prototype.hasChild=function(e){return e in this._children};Module.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Module.prototype.forEachChild=function(e){forEachValue(this._children,e)};Module.prototype.forEachGetter=function(e){this._rawModule.getters&&forEachValue(this._rawModule.getters,e)};Module.prototype.forEachAction=function(e){this._rawModule.actions&&forEachValue(this._rawModule.actions,e)};Module.prototype.forEachMutation=function(e){this._rawModule.mutations&&forEachValue(this._rawModule.mutations,e)};Object.defineProperties(Module.prototype,prototypeAccessors$1);var ModuleCollection=function(e){this.register([],e,!1)};ModuleCollection.prototype.get=function(e){return e.reduce(function(r,_e){return r.getChild(_e)},this.root)};ModuleCollection.prototype.getNamespace=function(e){var r=this.root;return e.reduce(function(_e,Ce){return r=r.getChild(Ce),_e+(r.namespaced?Ce+"/":"")},"")};ModuleCollection.prototype.update=function(e){update([],this.root,e)};ModuleCollection.prototype.register=function(e,r,_e){var Ce=this;_e===void 0&&(_e=!0);var Ee=new Module(r,_e);if(e.length===0)this.root=Ee;else{var Re=this.get(e.slice(0,-1));Re.addChild(e[e.length-1],Ee)}r.modules&&forEachValue(r.modules,function(Pe,St){Ce.register(e.concat(St),Pe,_e)})};ModuleCollection.prototype.unregister=function(e){var r=this.get(e.slice(0,-1)),_e=e[e.length-1],Ce=r.getChild(_e);!Ce||!Ce.runtime||r.removeChild(_e)};ModuleCollection.prototype.isRegistered=function(e){var r=this.get(e.slice(0,-1)),_e=e[e.length-1];return r?r.hasChild(_e):!1};function update(t,e,r){if(e.update(r),r.modules)for(var _e in r.modules){if(!e.getChild(_e))return;update(t.concat(_e),e.getChild(_e),r.modules[_e])}}function createStore(t){return new Store(t)}var Store=function(e){var r=this;e===void 0&&(e={});var _e=e.plugins;_e===void 0&&(_e=[]);var Ce=e.strict;Ce===void 0&&(Ce=!1);var Ee=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ModuleCollection(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=Ee;var Re=this,Pe=this,St=Pe.dispatch,Te=Pe.commit;this.dispatch=function(xe,Se){return St.call(Re,xe,Se)},this.commit=function(xe,Se,Fe){return Te.call(Re,xe,Se,Fe)},this.strict=Ce;var ke=this._modules.root.state;installModule(this,ke,[],this._modules.root),resetStoreState(this,ke),_e.forEach(function(Ae){return Ae(r)})},prototypeAccessors={state:{configurable:!0}};Store.prototype.install=function(e,r){e.provide(r||storeKey,this),e.config.globalProperties.$store=this;var _e=this._devtools!==void 0?this._devtools:!1;_e&&addDevtools(e,this)};prototypeAccessors.state.get=function(){return this._state.data};prototypeAccessors.state.set=function(t){};Store.prototype.commit=function(e,r,_e){var Ce=this,Ee=unifyObjectStyle(e,r,_e),Re=Ee.type,Pe=Ee.payload,St={type:Re,payload:Pe},Te=this._mutations[Re];!Te||(this._withCommit(function(){Te.forEach(function(Ae){Ae(Pe)})}),this._subscribers.slice().forEach(function(ke){return ke(St,Ce.state)}))};Store.prototype.dispatch=function(e,r){var _e=this,Ce=unifyObjectStyle(e,r),Ee=Ce.type,Re=Ce.payload,Pe={type:Ee,payload:Re},St=this._actions[Ee];if(!!St){try{this._actionSubscribers.slice().filter(function(ke){return ke.before}).forEach(function(ke){return ke.before(Pe,_e.state)})}catch{}var Te=St.length>1?Promise.all(St.map(function(ke){return ke(Re)})):St[0](Re);return new Promise(function(ke,Ae){Te.then(function(xe){try{_e._actionSubscribers.filter(function(Se){return Se.after}).forEach(function(Se){return Se.after(Pe,_e.state)})}catch{}ke(xe)},function(xe){try{_e._actionSubscribers.filter(function(Se){return Se.error}).forEach(function(Se){return Se.error(Pe,_e.state,xe)})}catch{}Ae(xe)})})}};Store.prototype.subscribe=function(e,r){return genericSubscribe(e,this._subscribers,r)};Store.prototype.subscribeAction=function(e,r){var _e=typeof e=="function"?{before:e}:e;return genericSubscribe(_e,this._actionSubscribers,r)};Store.prototype.watch=function(e,r,_e){var Ce=this;return watch(function(){return e(Ce.state,Ce.getters)},r,Object.assign({},_e))};Store.prototype.replaceState=function(e){var r=this;this._withCommit(function(){r._state.data=e})};Store.prototype.registerModule=function(e,r,_e){_e===void 0&&(_e={}),typeof e=="string"&&(e=[e]),this._modules.register(e,r),installModule(this,this.state,e,this._modules.get(e),_e.preserveState),resetStoreState(this,this.state)};Store.prototype.unregisterModule=function(e){var r=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var _e=getNestedState(r.state,e.slice(0,-1));delete _e[e[e.length-1]]}),resetStore(this)};Store.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Store.prototype.hotUpdate=function(e){this._modules.update(e),resetStore(this,!0)};Store.prototype._withCommit=function(e){var r=this._committing;this._committing=!0,e(),this._committing=r};Object.defineProperties(Store.prototype,prototypeAccessors);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(_e){var Ce=Object.getOwnPropertyDescriptor(t,_e);Object.defineProperty(r,_e,Ce.get?Ce:{enumerable:!0,get:function(){return t[_e]}})}),r}var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(t,e){module.exports=e()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var r,_e=t.length,Ce;for(r=0;r<_e;r+=1){Ce=t[r].prototype;for(var Ee in Ce)Object.prototype.hasOwnProperty.call(Ce,Ee)&&(e.prototype[Ee]=Ce[Ee])}}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(r){this.audios.push(r)},pause:function(){var r,_e=this.audios.length;for(r=0;r<_e;r+=1)this.audios[r].pause()},resume:function(){var r,_e=this.audios.length;for(r=0;r<_e;r+=1)this.audios[r].resume()},setRate:function(r){var _e,Ce=this.audios.length;for(_e=0;_e<Ce;_e+=1)this.audios[_e].setRate(r)},createAudio:function(r){return this.audioFactory?this.audioFactory(r):window.Howl?new window.Howl({src:[r]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(r){this.audioFactory=r},setVolume:function(r){this._volume=r,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var r,_e=this.audios.length;for(r=0;r<_e;r+=1)this.audios[r].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(r,_e){var Ce=0,Ee=[],Re;switch(r){case"int16":case"uint8c":Re=1;break;default:Re=1.1;break}for(Ce=0;Ce<_e;Ce+=1)Ee.push(Re);return Ee}function e(r,_e){return r==="float32"?new Float32Array(_e):r==="int16"?new Int16Array(_e):r==="uint8c"?new Uint8ClampedArray(_e):t(r,_e)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?e:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(r){return typeof r}:_typeof$6=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e,r=t.length;for(e=0;e<r;e+=1)BMMath[t[e]]=Math[t[e]]})(),BMMath.random=Math.random,BMMath.abs=function(t){var e=_typeof$6(t);if(e==="object"&&t.length){var r=createSizedArray(t.length),_e,Ce=t.length;for(_e=0;_e<Ce;_e+=1)r[_e]=Math.abs(t[_e]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,r,_e){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=_e<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,_e){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=_e<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=function(){var t=0;return function(){return t+=1,idPrefix$1+"__lottie_element_"+t}}();function HSVtoRGB(t,e,r){var _e,Ce,Ee,Re,Pe,St,Te,ke;switch(Re=Math.floor(t*6),Pe=t*6-Re,St=r*(1-e),Te=r*(1-Pe*e),ke=r*(1-(1-Pe)*e),Re%6){case 0:_e=r,Ce=ke,Ee=St;break;case 1:_e=Te,Ce=r,Ee=St;break;case 2:_e=St,Ce=r,Ee=ke;break;case 3:_e=St,Ce=Te,Ee=r;break;case 4:_e=ke,Ce=St,Ee=r;break;case 5:_e=r,Ce=St,Ee=Te;break}return[_e,Ce,Ee]}function RGBtoHSV(t,e,r){var _e=Math.max(t,e,r),Ce=Math.min(t,e,r),Ee=_e-Ce,Re,Pe=_e===0?0:Ee/_e,St=_e/255;switch(_e){case Ce:Re=0;break;case t:Re=e-r+Ee*(e<r?6:0),Re/=6*Ee;break;case e:Re=r-t+Ee*2,Re/=6*Ee;break;case r:Re=t-e+Ee*4,Re/=6*Ee;break}return[Re,Pe,St]}function addSaturationToRGB(t,e){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t=[],e,r;for(e=0;e<256;e+=1)r=e.toString(16),t[e]=r.length===1?"0"+r:r;return function(_e,Ce,Ee){return _e<0&&(_e=0),Ce<0&&(Ce=0),Ee<0&&(Ee=0),"#"+t[_e]+t[Ce]+t[Ee]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(r){return typeof r}:_typeof$5=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$5(t)}var dataManager=function(){var t=1,e=[],r,_e,Ce={onmessage:function(){},postMessage:function(Se){r({data:Se})}},Ee={postMessage:function(Se){Ce.onmessage({data:Se})}};function Re(xe){if(window.Worker&&window.Blob&&getWebWorker()){var Se=new Blob(["var _workerSelf = self; self.onmessage = ",xe.toString()],{type:"text/javascript"}),Fe=URL.createObjectURL(Se);return new Worker(Fe)}return r=xe,Ce}function Pe(){_e||(_e=Re(function(Se){function Fe(){function Me(br,sr){var nr,Je,$e=br.length,tr,ir,Xe,cr;for(Je=0;Je<$e;Je+=1)if(nr=br[Je],"ks"in nr&&!nr.completed){if(nr.completed=!0,nr.tt&&(br[Je-1].td=nr.tt),nr.hasMask){var Qe=nr.masksProperties;for(ir=Qe.length,tr=0;tr<ir;tr+=1)if(Qe[tr].pt.k.i)ze(Qe[tr].pt.k);else for(cr=Qe[tr].pt.k.length,Xe=0;Xe<cr;Xe+=1)Qe[tr].pt.k[Xe].s&&ze(Qe[tr].pt.k[Xe].s[0]),Qe[tr].pt.k[Xe].e&&ze(Qe[tr].pt.k[Xe].e[0])}nr.ty===0?(nr.layers=Be(nr.refId,sr),Me(nr.layers,sr)):nr.ty===4?je(nr.shapes):nr.ty===5&&vr(nr)}}function Oe(br,sr){if(br){var nr=0,Je=br.length;for(nr=0;nr<Je;nr+=1)br[nr].t===1&&(br[nr].data.layers=Be(br[nr].data.refId,sr),Me(br[nr].data.layers,sr))}}function De(br,sr){for(var nr=0,Je=sr.length;nr<Je;){if(sr[nr].id===br)return sr[nr];nr+=1}return null}function Be(br,sr){var nr=De(br,sr);return nr?nr.layers.__used?JSON.parse(JSON.stringify(nr.layers)):(nr.layers.__used=!0,nr.layers):null}function je(br){var sr,nr=br.length,Je,$e;for(sr=nr-1;sr>=0;sr-=1)if(br[sr].ty==="sh")if(br[sr].ks.k.i)ze(br[sr].ks.k);else for($e=br[sr].ks.k.length,Je=0;Je<$e;Je+=1)br[sr].ks.k[Je].s&&ze(br[sr].ks.k[Je].s[0]),br[sr].ks.k[Je].e&&ze(br[sr].ks.k[Je].e[0]);else br[sr].ty==="gr"&&je(br[sr].it)}function ze(br){var sr,nr=br.i.length;for(sr=0;sr<nr;sr+=1)br.i[sr][0]+=br.v[sr][0],br.i[sr][1]+=br.v[sr][1],br.o[sr][0]+=br.v[sr][0],br.o[sr][1]+=br.v[sr][1]}function Ge(br,sr){var nr=sr?sr.split("."):[100,100,100];return br[0]>nr[0]?!0:nr[0]>br[0]?!1:br[1]>nr[1]?!0:nr[1]>br[1]?!1:br[2]>nr[2]?!0:nr[2]>br[2]?!1:null}var We=function(){var br=[4,4,14];function sr(Je){var $e=Je.t.d;Je.t.d={k:[{s:$e,t:0}]}}function nr(Je){var $e,tr=Je.length;for($e=0;$e<tr;$e+=1)Je[$e].ty===5&&sr(Je[$e])}return function(Je){if(Ge(br,Je.v)&&(nr(Je.layers),Je.assets)){var $e,tr=Je.assets.length;for($e=0;$e<tr;$e+=1)Je.assets[$e].layers&&nr(Je.assets[$e].layers)}}}(),Ue=function(){var br=[4,7,99];return function(sr){if(sr.chars&&!Ge(br,sr.v)){var nr,Je=sr.chars.length;for(nr=0;nr<Je;nr+=1){var $e=sr.chars[nr];$e.data&&$e.data.shapes&&(je($e.data.shapes),$e.data.ip=0,$e.data.op=99999,$e.data.st=0,$e.data.sr=1,$e.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},sr.chars[nr].t||($e.data.shapes.push({ty:"no"}),$e.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),hr=function(){var br=[5,7,15];function sr(Je){var $e=Je.t.p;typeof $e.a=="number"&&($e.a={a:0,k:$e.a}),typeof $e.p=="number"&&($e.p={a:0,k:$e.p}),typeof $e.r=="number"&&($e.r={a:0,k:$e.r})}function nr(Je){var $e,tr=Je.length;for($e=0;$e<tr;$e+=1)Je[$e].ty===5&&sr(Je[$e])}return function(Je){if(Ge(br,Je.v)&&(nr(Je.layers),Je.assets)){var $e,tr=Je.assets.length;for($e=0;$e<tr;$e+=1)Je.assets[$e].layers&&nr(Je.assets[$e].layers)}}}(),xr=function(){var br=[4,1,9];function sr(Je){var $e,tr=Je.length,ir,Xe;for($e=0;$e<tr;$e+=1)if(Je[$e].ty==="gr")sr(Je[$e].it);else if(Je[$e].ty==="fl"||Je[$e].ty==="st")if(Je[$e].c.k&&Je[$e].c.k[0].i)for(Xe=Je[$e].c.k.length,ir=0;ir<Xe;ir+=1)Je[$e].c.k[ir].s&&(Je[$e].c.k[ir].s[0]/=255,Je[$e].c.k[ir].s[1]/=255,Je[$e].c.k[ir].s[2]/=255,Je[$e].c.k[ir].s[3]/=255),Je[$e].c.k[ir].e&&(Je[$e].c.k[ir].e[0]/=255,Je[$e].c.k[ir].e[1]/=255,Je[$e].c.k[ir].e[2]/=255,Je[$e].c.k[ir].e[3]/=255);else Je[$e].c.k[0]/=255,Je[$e].c.k[1]/=255,Je[$e].c.k[2]/=255,Je[$e].c.k[3]/=255}function nr(Je){var $e,tr=Je.length;for($e=0;$e<tr;$e+=1)Je[$e].ty===4&&sr(Je[$e].shapes)}return function(Je){if(Ge(br,Je.v)&&(nr(Je.layers),Je.assets)){var $e,tr=Je.assets.length;for($e=0;$e<tr;$e+=1)Je.assets[$e].layers&&nr(Je.assets[$e].layers)}}}(),rr=function(){var br=[4,4,18];function sr(Je){var $e,tr=Je.length,ir,Xe;for($e=tr-1;$e>=0;$e-=1)if(Je[$e].ty==="sh")if(Je[$e].ks.k.i)Je[$e].ks.k.c=Je[$e].closed;else for(Xe=Je[$e].ks.k.length,ir=0;ir<Xe;ir+=1)Je[$e].ks.k[ir].s&&(Je[$e].ks.k[ir].s[0].c=Je[$e].closed),Je[$e].ks.k[ir].e&&(Je[$e].ks.k[ir].e[0].c=Je[$e].closed);else Je[$e].ty==="gr"&&sr(Je[$e].it)}function nr(Je){var $e,tr,ir=Je.length,Xe,cr,Qe,Ke;for(tr=0;tr<ir;tr+=1){if($e=Je[tr],$e.hasMask){var lr=$e.masksProperties;for(cr=lr.length,Xe=0;Xe<cr;Xe+=1)if(lr[Xe].pt.k.i)lr[Xe].pt.k.c=lr[Xe].cl;else for(Ke=lr[Xe].pt.k.length,Qe=0;Qe<Ke;Qe+=1)lr[Xe].pt.k[Qe].s&&(lr[Xe].pt.k[Qe].s[0].c=lr[Xe].cl),lr[Xe].pt.k[Qe].e&&(lr[Xe].pt.k[Qe].e[0].c=lr[Xe].cl)}$e.ty===4&&sr($e.shapes)}}return function(Je){if(Ge(br,Je.v)&&(nr(Je.layers),Je.assets)){var $e,tr=Je.assets.length;for($e=0;$e<tr;$e+=1)Je.assets[$e].layers&&nr(Je.assets[$e].layers)}}}();function er(br){br.__complete||(xr(br),We(br),Ue(br),hr(br),rr(br),Me(br.layers,br.assets),Oe(br.chars,br.assets),br.__complete=!0)}function vr(br){br.t.a.length===0&&"m"in br.t.p}var gr={};return gr.completeData=er,gr.checkColors=xr,gr.checkChars=Ue,gr.checkPathProperties=hr,gr.checkShapes=rr,gr.completeLayers=Me,gr}if(Ee.dataManager||(Ee.dataManager=Fe()),Ee.assetLoader||(Ee.assetLoader=function(){function Me(De){var Be=De.getResponseHeader("content-type");return Be&&De.responseType==="json"&&Be.indexOf("json")!==-1||De.response&&_typeof$5(De.response)==="object"?De.response:De.response&&typeof De.response=="string"?JSON.parse(De.response):De.responseText?JSON.parse(De.responseText):null}function Oe(De,Be,je,ze){var Ge,We=new XMLHttpRequest;try{We.responseType="json"}catch{}We.onreadystatechange=function(){if(We.readyState===4)if(We.status===200)Ge=Me(We),je(Ge);else try{Ge=Me(We),je(Ge)}catch(Ue){ze&&ze(Ue)}};try{We.open("GET",De,!0)}catch{We.open("GET",Be+"/"+De,!0)}We.send()}return{load:Oe}}()),Se.data.type==="loadAnimation")Ee.assetLoader.load(Se.data.path,Se.data.fullPath,function(Me){Ee.dataManager.completeData(Me),Ee.postMessage({id:Se.data.id,payload:Me,status:"success"})},function(){Ee.postMessage({id:Se.data.id,status:"error"})});else if(Se.data.type==="complete"){var Ie=Se.data.animation;Ee.dataManager.completeData(Ie),Ee.postMessage({id:Se.data.id,payload:Ie,status:"success"})}else Se.data.type==="loadData"&&Ee.assetLoader.load(Se.data.path,Se.data.fullPath,function(Me){Ee.postMessage({id:Se.data.id,payload:Me,status:"success"})},function(){Ee.postMessage({id:Se.data.id,status:"error"})})}),_e.onmessage=function(xe){var Se=xe.data,Fe=Se.id,Ie=e[Fe];e[Fe]=null,Se.status==="success"?Ie.onComplete(Se.payload):Ie.onError&&Ie.onError()})}function St(xe,Se){t+=1;var Fe="processId_"+t;return e[Fe]={onComplete:xe,onError:Se},Fe}function Te(xe,Se,Fe){Pe();var Ie=St(Se,Fe);_e.postMessage({type:"loadAnimation",path:xe,fullPath:window.location.origin+window.location.pathname,id:Ie})}function ke(xe,Se,Fe){Pe();var Ie=St(Se,Fe);_e.postMessage({type:"loadData",path:xe,fullPath:window.location.origin+window.location.pathname,id:Ie})}function Ae(xe,Se,Fe){Pe();var Ie=St(Se,Fe);_e.postMessage({type:"complete",animation:xe,id:Ie})}return{loadAnimation:Te,loadData:ke,completeAnimation:Ae}}(),ImagePreloader=function(){var t=function(){var Oe=createTag("canvas");Oe.width=1,Oe.height=1;var De=Oe.getContext("2d");return De.fillStyle="rgba(0,0,0,0)",De.fillRect(0,0,1,1),Oe}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function _e(Oe,De,Be){var je="";if(Oe.e)je=Oe.p;else if(De){var ze=Oe.p;ze.indexOf("images/")!==-1&&(ze=ze.split("/")[1]),je=De+ze}else je=Be,je+=Oe.u?Oe.u:"",je+=Oe.p;return je}function Ce(Oe){var De=0,Be=setInterval(function(){var je=Oe.getBBox();(je.width||De>500)&&(this._imageLoaded(),clearInterval(Be)),De+=1}.bind(this),50)}function Ee(Oe){var De=_e(Oe,this.assetsPath,this.path),Be=createNS("image");isSafari?this.testImageLoaded(Be):Be.addEventListener("load",this._imageLoaded,!1),Be.addEventListener("error",function(){je.img=t,this._imageLoaded()}.bind(this),!1),Be.setAttributeNS("http://www.w3.org/1999/xlink","href",De),this._elementHelper.append?this._elementHelper.append(Be):this._elementHelper.appendChild(Be);var je={img:Be,assetData:Oe};return je}function Re(Oe){var De=_e(Oe,this.assetsPath,this.path),Be=createTag("img");Be.crossOrigin="anonymous",Be.addEventListener("load",this._imageLoaded,!1),Be.addEventListener("error",function(){je.img=t,this._imageLoaded()}.bind(this),!1),Be.src=De;var je={img:Be,assetData:Oe};return je}function Pe(Oe){var De={assetData:Oe},Be=_e(Oe,this.assetsPath,this.path);return dataManager.loadData(Be,function(je){De.img=je,this._footageLoaded()}.bind(this),function(){De.img={},this._footageLoaded()}.bind(this)),De}function St(Oe,De){this.imagesLoadedCb=De;var Be,je=Oe.length;for(Be=0;Be<je;Be+=1)Oe[Be].layers||(!Oe[Be].t||Oe[Be].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Oe[Be]))):Oe[Be].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Oe[Be]))))}function Te(Oe){this.path=Oe||""}function ke(Oe){this.assetsPath=Oe||""}function Ae(Oe){for(var De=0,Be=this.images.length;De<Be;){if(this.images[De].assetData===Oe)return this.images[De].img;De+=1}return null}function xe(){this.imagesLoadedCb=null,this.images.length=0}function Se(){return this.totalImages===this.loadedAssets}function Fe(){return this.totalFootages===this.loadedFootagesCount}function Ie(Oe,De){Oe==="svg"?(this._elementHelper=De,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Me(){this._imageLoaded=e.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=Ce.bind(this),this.createFootageData=Pe.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Me.prototype={loadAssets:St,setAssetsPath:ke,setPath:Te,loadedImages:Se,loadedFootages:Fe,destroy:xe,getAsset:Ae,createImgData:Re,createImageData:Ee,imageLoaded:e,footageLoaded:r,setCacheType:Ie},Me}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,r){if(this._cbs[e])for(var _e=this._cbs[e],Ce=0;Ce<_e.length;Ce+=1)_e[Ce](r)},addEventListener:function(e,r){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(r),function(){this.removeEventListener(e,r)}.bind(this)},removeEventListener:function(e,r){if(!r)this._cbs[e]=null;else if(this._cbs[e]){for(var _e=0,Ce=this._cbs[e].length;_e<Ce;)this._cbs[e][_e]===r&&(this._cbs[e].splice(_e,1),_e-=1,Ce-=1),_e+=1;this._cbs[e].length||(this._cbs[e]=null)}}};var markerParser=function(){function t(e){for(var r=e.split(`\r
`),_e={},Ce,Ee=0,Re=0;Re<r.length;Re+=1)Ce=r[Re].split(":"),Ce.length===2&&(_e[Ce[0]]=Ce[1].trim(),Ee+=1);if(Ee===0)throw new Error;return _e}return function(e){for(var r=[],_e=0;_e<e.length;_e+=1){var Ce=e[_e],Ee={time:Ce.tm,duration:Ce.dr};try{Ee.payload=JSON.parse(e[_e].cm)}catch{try{Ee.payload=t(e[_e].cm)}catch{Ee.payload={name:e[_e].cm}}}r.push(Ee)}return r}}(),ProjectInterface=function(){function t(e){this.compositions.push(e)}return function(){function e(r){for(var _e=0,Ce=this.compositions.length;_e<Ce;){if(this.compositions[_e].data&&this.compositions[_e].data.nm===r)return this.compositions[_e].prepareFrame&&this.compositions[_e].data.xt&&this.compositions[_e].prepareFrame(this.currentFrame),this.compositions[_e].compInterface;_e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(e,r){renderers[e]=r};function getRenderer(t){return renderers[t]}function _typeof$4(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(r){return typeof r}:_typeof$4=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var r=getRenderer(e);this.renderer=new r(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay="autoplay"in t?t.autoplay:!0,this.name=t.name?t.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(t,"autoloadSegments")?t.autoloadSegments:!0,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var r={wrapper:t,animationData:e},_e=t.attributes;r.path=_e.getNamedItem("data-animation-path")?_e.getNamedItem("data-animation-path").value:_e.getNamedItem("data-bm-path")?_e.getNamedItem("data-bm-path").value:_e.getNamedItem("bm-path")?_e.getNamedItem("bm-path").value:"",r.animType=_e.getNamedItem("data-anim-type")?_e.getNamedItem("data-anim-type").value:_e.getNamedItem("data-bm-type")?_e.getNamedItem("data-bm-type").value:_e.getNamedItem("bm-type")?_e.getNamedItem("bm-type").value:_e.getNamedItem("data-bm-renderer")?_e.getNamedItem("data-bm-renderer").value:_e.getNamedItem("bm-renderer")?_e.getNamedItem("bm-renderer").value:"canvas";var Ce=_e.getNamedItem("data-anim-loop")?_e.getNamedItem("data-anim-loop").value:_e.getNamedItem("data-bm-loop")?_e.getNamedItem("data-bm-loop").value:_e.getNamedItem("bm-loop")?_e.getNamedItem("bm-loop").value:"";Ce==="false"?r.loop=!1:Ce==="true"?r.loop=!0:Ce!==""&&(r.loop=parseInt(Ce,10));var Ee=_e.getNamedItem("data-anim-autoplay")?_e.getNamedItem("data-anim-autoplay").value:_e.getNamedItem("data-bm-autoplay")?_e.getNamedItem("data-bm-autoplay").value:_e.getNamedItem("bm-autoplay")?_e.getNamedItem("bm-autoplay").value:!0;r.autoplay=Ee!=="false",r.name=_e.getNamedItem("data-name")?_e.getNamedItem("data-name").value:_e.getNamedItem("data-bm-name")?_e.getNamedItem("data-bm-name").value:_e.getNamedItem("bm-name")?_e.getNamedItem("bm-name").value:"";var Re=_e.getNamedItem("data-anim-prerender")?_e.getNamedItem("data-anim-prerender").value:_e.getNamedItem("data-bm-prerender")?_e.getNamedItem("data-bm-prerender").value:_e.getNamedItem("bm-prerender")?_e.getNamedItem("bm-prerender").value:"";Re==="false"&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e=this.animationData.layers,r,_e=e.length,Ce=t.layers,Ee,Re=Ce.length;for(Ee=0;Ee<Re;Ee+=1)for(r=0;r<_e;){if(e[r].id===Ce[Ee].id){e[r]=Ce[Ee];break}r+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(_e=t.assets.length,r=0;r<_e;r+=1)this.animationData.assets.push(t.assets[r]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(!!this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,r=0;r<this.markers.length;r+=1)if(e=this.markers[r],e.payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,r){if(!(r&&this.name!==r)){var _e=Number(t);if(isNaN(_e)){var Ce=this.getMarkerData(t);Ce&&this.goToAndStop(Ce.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,r){if(!(r&&this.name!==r)){var _e=Number(t);if(isNaN(_e)){var Ce=this.getMarkerData(t);Ce&&(Ce.duration?this.playSegments([Ce.time,Ce.time+Ce.duration],!0):this.goToAndStop(Ce.time,!0))}else this.goToAndStop(_e,e,r);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!(this.isPaused===!0||this.isLoaded===!1)){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(r=!0,e=0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,r!==-1&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),_typeof$4(t[0])==="object"){var r,_e=t.length;for(r=0;r<_e;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return this.segments.length?(this.adjustSegment(this.segments.shift(),t),!0):!1},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;r.indexOf("images/")!==-1&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,r){try{var _e=this.renderer.getElementByPath(t);_e.updateDocumentData(e,r)}catch{}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],r=0,_e=0,Ce=0,Ee=!0,Re=!1;function Pe(sr){for(var nr=0,Je=sr.target;nr<_e;)e[nr].animation===Je&&(e.splice(nr,1),nr-=1,_e-=1,Je.isPaused||Ae()),nr+=1}function St(sr,nr){if(!sr)return null;for(var Je=0;Je<_e;){if(e[Je].elem===sr&&e[Je].elem!==null)return e[Je].animation;Je+=1}var $e=new AnimationItem;return xe($e,sr),$e.setData(sr,nr),$e}function Te(){var sr,nr=e.length,Je=[];for(sr=0;sr<nr;sr+=1)Je.push(e[sr].animation);return Je}function ke(){Ce+=1,xr()}function Ae(){Ce-=1}function xe(sr,nr){sr.addEventListener("destroy",Pe),sr.addEventListener("_active",ke),sr.addEventListener("_idle",Ae),e.push({elem:nr,animation:sr}),_e+=1}function Se(sr){var nr=new AnimationItem;return xe(nr,null),nr.setParams(sr),nr}function Fe(sr,nr){var Je;for(Je=0;Je<_e;Je+=1)e[Je].animation.setSpeed(sr,nr)}function Ie(sr,nr){var Je;for(Je=0;Je<_e;Je+=1)e[Je].animation.setDirection(sr,nr)}function Me(sr){var nr;for(nr=0;nr<_e;nr+=1)e[nr].animation.play(sr)}function Oe(sr){var nr=sr-r,Je;for(Je=0;Je<_e;Je+=1)e[Je].animation.advanceTime(nr);r=sr,Ce&&!Re?window.requestAnimationFrame(Oe):Ee=!0}function De(sr){r=sr,window.requestAnimationFrame(Oe)}function Be(sr){var nr;for(nr=0;nr<_e;nr+=1)e[nr].animation.pause(sr)}function je(sr,nr,Je){var $e;for($e=0;$e<_e;$e+=1)e[$e].animation.goToAndStop(sr,nr,Je)}function ze(sr){var nr;for(nr=0;nr<_e;nr+=1)e[nr].animation.stop(sr)}function Ge(sr){var nr;for(nr=0;nr<_e;nr+=1)e[nr].animation.togglePause(sr)}function We(sr){var nr;for(nr=_e-1;nr>=0;nr-=1)e[nr].animation.destroy(sr)}function Ue(sr,nr,Je){var $e=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),tr,ir=$e.length;for(tr=0;tr<ir;tr+=1)Je&&$e[tr].setAttribute("data-bm-type",Je),St($e[tr],sr);if(nr&&ir===0){Je||(Je="svg");var Xe=document.getElementsByTagName("body")[0];Xe.innerText="";var cr=createTag("div");cr.style.width="100%",cr.style.height="100%",cr.setAttribute("data-bm-type",Je),Xe.appendChild(cr),St(cr,sr)}}function hr(){var sr;for(sr=0;sr<_e;sr+=1)e[sr].animation.resize()}function xr(){!Re&&Ce&&Ee&&(window.requestAnimationFrame(De),Ee=!1)}function rr(){Re=!0}function er(){Re=!1,xr()}function vr(sr,nr){var Je;for(Je=0;Je<_e;Je+=1)e[Je].animation.setVolume(sr,nr)}function gr(sr){var nr;for(nr=0;nr<_e;nr+=1)e[nr].animation.mute(sr)}function br(sr){var nr;for(nr=0;nr<_e;nr+=1)e[nr].animation.unmute(sr)}return t.registerAnimation=St,t.loadAnimation=Se,t.setSpeed=Fe,t.setDirection=Ie,t.play=Me,t.pause=Be,t.stop=ze,t.togglePause=Ge,t.searchAnimations=Ue,t.resize=hr,t.goToAndStop=je,t.destroy=We,t.freeze=rr,t.unfreeze=er,t.setVolume=vr,t.mute=gr,t.unmute=br,t.getRegisteredAnimations=Te,t}(),BezierFactory=function(){var t={};t.getBezierEasing=r;var e={};function r(De,Be,je,ze,Ge){var We=Ge||("bez_"+De+"_"+Be+"_"+je+"_"+ze).replace(/\./g,"p");if(e[We])return e[We];var Ue=new Oe([De,Be,je,ze]);return e[We]=Ue,Ue}var _e=4,Ce=.001,Ee=1e-7,Re=10,Pe=11,St=1/(Pe-1),Te=typeof Float32Array=="function";function ke(De,Be){return 1-3*Be+3*De}function Ae(De,Be){return 3*Be-6*De}function xe(De){return 3*De}function Se(De,Be,je){return((ke(Be,je)*De+Ae(Be,je))*De+xe(Be))*De}function Fe(De,Be,je){return 3*ke(Be,je)*De*De+2*Ae(Be,je)*De+xe(Be)}function Ie(De,Be,je,ze,Ge){var We,Ue,hr=0;do Ue=Be+(je-Be)/2,We=Se(Ue,ze,Ge)-De,We>0?je=Ue:Be=Ue;while(Math.abs(We)>Ee&&++hr<Re);return Ue}function Me(De,Be,je,ze){for(var Ge=0;Ge<_e;++Ge){var We=Fe(Be,je,ze);if(We===0)return Be;var Ue=Se(Be,je,ze)-De;Be-=Ue/We}return Be}function Oe(De){this._p=De,this._mSampleValues=Te?new Float32Array(Pe):new Array(Pe),this._precomputed=!1,this.get=this.get.bind(this)}return Oe.prototype={get:function(Be){var je=this._p[0],ze=this._p[1],Ge=this._p[2],We=this._p[3];return this._precomputed||this._precompute(),je===ze&&Ge===We?Be:Be===0?0:Be===1?1:Se(this._getTForX(Be),ze,We)},_precompute:function(){var Be=this._p[0],je=this._p[1],ze=this._p[2],Ge=this._p[3];this._precomputed=!0,(Be!==je||ze!==Ge)&&this._calcSampleValues()},_calcSampleValues:function(){for(var Be=this._p[0],je=this._p[2],ze=0;ze<Pe;++ze)this._mSampleValues[ze]=Se(ze*St,Be,je)},_getTForX:function(Be){for(var je=this._p[0],ze=this._p[2],Ge=this._mSampleValues,We=0,Ue=1,hr=Pe-1;Ue!==hr&&Ge[Ue]<=Be;++Ue)We+=St;--Ue;var xr=(Be-Ge[Ue])/(Ge[Ue+1]-Ge[Ue]),rr=We+xr*St,er=Fe(rr,je,ze);return er>=Ce?Me(Be,rr,je,ze):er===0?rr:Ie(Be,We,We+St,je,ze)}},t}(),pooling=function(){function t(e){return e.concat(createSizedArray(e.length))}return{double:t}}(),poolFactory=function(){return function(t,e,r){var _e=0,Ce=t,Ee=createSizedArray(Ce),Re={newElement:Pe,release:St};function Pe(){var Te;return _e?(_e-=1,Te=Ee[_e]):Te=e(),Te}function St(Te){_e===Ce&&(Ee=pooling.double(Ee),Ce*=2),r&&r(Te),Ee[_e]=Te,_e+=1}return Re}}(),bezierLengthPool=function(){function t(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,t)}(),segmentsLengthPool=function(){function t(){return{lengths:[],totalLength:0}}function e(r){var _e,Ce=r.lengths.length;for(_e=0;_e<Ce;_e+=1)bezierLengthPool.release(r.lengths[_e]);r.lengths.length=0}return poolFactory(8,t,e)}();function bezFunction(){var t=Math;function e(xe,Se,Fe,Ie,Me,Oe){var De=xe*Ie+Se*Me+Fe*Oe-Me*Ie-Oe*xe-Fe*Se;return De>-.001&&De<.001}function r(xe,Se,Fe,Ie,Me,Oe,De,Be,je){if(Fe===0&&Oe===0&&je===0)return e(xe,Se,Ie,Me,De,Be);var ze=t.sqrt(t.pow(Ie-xe,2)+t.pow(Me-Se,2)+t.pow(Oe-Fe,2)),Ge=t.sqrt(t.pow(De-xe,2)+t.pow(Be-Se,2)+t.pow(je-Fe,2)),We=t.sqrt(t.pow(De-Ie,2)+t.pow(Be-Me,2)+t.pow(je-Oe,2)),Ue;return ze>Ge?ze>We?Ue=ze-Ge-We:Ue=We-Ge-ze:We>Ge?Ue=We-Ge-ze:Ue=Ge-ze-We,Ue>-1e-4&&Ue<1e-4}var _e=function(){return function(xe,Se,Fe,Ie){var Me=getDefaultCurveSegments(),Oe,De,Be,je,ze,Ge=0,We,Ue=[],hr=[],xr=bezierLengthPool.newElement();for(Be=Fe.length,Oe=0;Oe<Me;Oe+=1){for(ze=Oe/(Me-1),We=0,De=0;De<Be;De+=1)je=bmPow(1-ze,3)*xe[De]+3*bmPow(1-ze,2)*ze*Fe[De]+3*(1-ze)*bmPow(ze,2)*Ie[De]+bmPow(ze,3)*Se[De],Ue[De]=je,hr[De]!==null&&(We+=bmPow(Ue[De]-hr[De],2)),hr[De]=Ue[De];We&&(We=bmSqrt(We),Ge+=We),xr.percents[Oe]=ze,xr.lengths[Oe]=Ge}return xr.addedLength=Ge,xr}}();function Ce(xe){var Se=segmentsLengthPool.newElement(),Fe=xe.c,Ie=xe.v,Me=xe.o,Oe=xe.i,De,Be=xe._length,je=Se.lengths,ze=0;for(De=0;De<Be-1;De+=1)je[De]=_e(Ie[De],Ie[De+1],Me[De],Oe[De+1]),ze+=je[De].addedLength;return Fe&&Be&&(je[De]=_e(Ie[De],Ie[0],Me[De],Oe[0]),ze+=je[De].addedLength),Se.totalLength=ze,Se}function Ee(xe){this.segmentLength=0,this.points=new Array(xe)}function Re(xe,Se){this.partialLength=xe,this.point=Se}var Pe=function(){var xe={};return function(Se,Fe,Ie,Me){var Oe=(Se[0]+"_"+Se[1]+"_"+Fe[0]+"_"+Fe[1]+"_"+Ie[0]+"_"+Ie[1]+"_"+Me[0]+"_"+Me[1]).replace(/\./g,"p");if(!xe[Oe]){var De=getDefaultCurveSegments(),Be,je,ze,Ge,We,Ue=0,hr,xr,rr=null;Se.length===2&&(Se[0]!==Fe[0]||Se[1]!==Fe[1])&&e(Se[0],Se[1],Fe[0],Fe[1],Se[0]+Ie[0],Se[1]+Ie[1])&&e(Se[0],Se[1],Fe[0],Fe[1],Fe[0]+Me[0],Fe[1]+Me[1])&&(De=2);var er=new Ee(De);for(ze=Ie.length,Be=0;Be<De;Be+=1){for(xr=createSizedArray(ze),We=Be/(De-1),hr=0,je=0;je<ze;je+=1)Ge=bmPow(1-We,3)*Se[je]+3*bmPow(1-We,2)*We*(Se[je]+Ie[je])+3*(1-We)*bmPow(We,2)*(Fe[je]+Me[je])+bmPow(We,3)*Fe[je],xr[je]=Ge,rr!==null&&(hr+=bmPow(xr[je]-rr[je],2));hr=bmSqrt(hr),Ue+=hr,er.points[Be]=new Re(hr,xr),rr=xr}er.segmentLength=Ue,xe[Oe]=er}return xe[Oe]}}();function St(xe,Se){var Fe=Se.percents,Ie=Se.lengths,Me=Fe.length,Oe=bmFloor((Me-1)*xe),De=xe*Se.addedLength,Be=0;if(Oe===Me-1||Oe===0||De===Ie[Oe])return Fe[Oe];for(var je=Ie[Oe]>De?-1:1,ze=!0;ze;)if(Ie[Oe]<=De&&Ie[Oe+1]>De?(Be=(De-Ie[Oe])/(Ie[Oe+1]-Ie[Oe]),ze=!1):Oe+=je,Oe<0||Oe>=Me-1){if(Oe===Me-1)return Fe[Oe];ze=!1}return Fe[Oe]+(Fe[Oe+1]-Fe[Oe])*Be}function Te(xe,Se,Fe,Ie,Me,Oe){var De=St(Me,Oe),Be=1-De,je=t.round((Be*Be*Be*xe[0]+(De*Be*Be+Be*De*Be+Be*Be*De)*Fe[0]+(De*De*Be+Be*De*De+De*Be*De)*Ie[0]+De*De*De*Se[0])*1e3)/1e3,ze=t.round((Be*Be*Be*xe[1]+(De*Be*Be+Be*De*Be+Be*Be*De)*Fe[1]+(De*De*Be+Be*De*De+De*Be*De)*Ie[1]+De*De*De*Se[1])*1e3)/1e3;return[je,ze]}var ke=createTypedArray("float32",8);function Ae(xe,Se,Fe,Ie,Me,Oe,De){Me<0?Me=0:Me>1&&(Me=1);var Be=St(Me,De);Oe=Oe>1?1:Oe;var je=St(Oe,De),ze,Ge=xe.length,We=1-Be,Ue=1-je,hr=We*We*We,xr=Be*We*We*3,rr=Be*Be*We*3,er=Be*Be*Be,vr=We*We*Ue,gr=Be*We*Ue+We*Be*Ue+We*We*je,br=Be*Be*Ue+We*Be*je+Be*We*je,sr=Be*Be*je,nr=We*Ue*Ue,Je=Be*Ue*Ue+We*je*Ue+We*Ue*je,$e=Be*je*Ue+We*je*je+Be*Ue*je,tr=Be*je*je,ir=Ue*Ue*Ue,Xe=je*Ue*Ue+Ue*je*Ue+Ue*Ue*je,cr=je*je*Ue+Ue*je*je+je*Ue*je,Qe=je*je*je;for(ze=0;ze<Ge;ze+=1)ke[ze*4]=t.round((hr*xe[ze]+xr*Fe[ze]+rr*Ie[ze]+er*Se[ze])*1e3)/1e3,ke[ze*4+1]=t.round((vr*xe[ze]+gr*Fe[ze]+br*Ie[ze]+sr*Se[ze])*1e3)/1e3,ke[ze*4+2]=t.round((nr*xe[ze]+Je*Fe[ze]+$e*Ie[ze]+tr*Se[ze])*1e3)/1e3,ke[ze*4+3]=t.round((ir*xe[ze]+Xe*Fe[ze]+cr*Ie[ze]+Qe*Se[ze])*1e3)/1e3;return ke}return{getSegmentsLength:Ce,getNewSegment:Ae,getPointInSegment:Te,buildBezierData:Pe,pointOnLine2D:e,pointOnLine3D:r}}var bez=bezFunction(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function r(Me,Oe){var De=this.offsetTime,Be;this.propType==="multidimensional"&&(Be=createTypedArray("float32",this.pv.length));for(var je=Oe.lastIndex,ze=je,Ge=this.keyframes.length-1,We=!0,Ue,hr,xr;We;){if(Ue=this.keyframes[ze],hr=this.keyframes[ze+1],ze===Ge-1&&Me>=hr.t-De){Ue.h&&(Ue=hr),je=0;break}if(hr.t-De>Me){je=ze;break}ze<Ge-1?ze+=1:(je=0,We=!1)}xr=this.keyframesMetadata[ze]||{};var rr,er,vr,gr,br,sr,nr=hr.t-De,Je=Ue.t-De,$e;if(Ue.to){xr.bezierData||(xr.bezierData=bez.buildBezierData(Ue.s,hr.s||Ue.e,Ue.to,Ue.ti));var tr=xr.bezierData;if(Me>=nr||Me<Je){var ir=Me>=nr?tr.points.length-1:0;for(er=tr.points[ir].point.length,rr=0;rr<er;rr+=1)Be[rr]=tr.points[ir].point[rr]}else{xr.__fnct?sr=xr.__fnct:(sr=BezierFactory.getBezierEasing(Ue.o.x,Ue.o.y,Ue.i.x,Ue.i.y,Ue.n).get,xr.__fnct=sr),vr=sr((Me-Je)/(nr-Je));var Xe=tr.segmentLength*vr,cr,Qe=Oe.lastFrame<Me&&Oe._lastKeyframeIndex===ze?Oe._lastAddedLength:0;for(br=Oe.lastFrame<Me&&Oe._lastKeyframeIndex===ze?Oe._lastPoint:0,We=!0,gr=tr.points.length;We;){if(Qe+=tr.points[br].partialLength,Xe===0||vr===0||br===tr.points.length-1){for(er=tr.points[br].point.length,rr=0;rr<er;rr+=1)Be[rr]=tr.points[br].point[rr];break}else if(Xe>=Qe&&Xe<Qe+tr.points[br+1].partialLength){for(cr=(Xe-Qe)/tr.points[br+1].partialLength,er=tr.points[br].point.length,rr=0;rr<er;rr+=1)Be[rr]=tr.points[br].point[rr]+(tr.points[br+1].point[rr]-tr.points[br].point[rr])*cr;break}br<gr-1?br+=1:We=!1}Oe._lastPoint=br,Oe._lastAddedLength=Qe-tr.points[br].partialLength,Oe._lastKeyframeIndex=ze}}else{var Ke,lr,mr,Ar,Pr;if(Ge=Ue.s.length,$e=hr.s||Ue.e,this.sh&&Ue.h!==1)if(Me>=nr)Be[0]=$e[0],Be[1]=$e[1],Be[2]=$e[2];else if(Me<=Je)Be[0]=Ue.s[0],Be[1]=Ue.s[1],Be[2]=Ue.s[2];else{var Rr=Ee(Ue.s),Ir=Ee($e),ur=(Me-Je)/(nr-Je);Ce(Be,_e(Rr,Ir,ur))}else for(ze=0;ze<Ge;ze+=1)Ue.h!==1&&(Me>=nr?vr=1:Me<Je?vr=0:(Ue.o.x.constructor===Array?(xr.__fnct||(xr.__fnct=[]),xr.__fnct[ze]?sr=xr.__fnct[ze]:(Ke=Ue.o.x[ze]===void 0?Ue.o.x[0]:Ue.o.x[ze],lr=Ue.o.y[ze]===void 0?Ue.o.y[0]:Ue.o.y[ze],mr=Ue.i.x[ze]===void 0?Ue.i.x[0]:Ue.i.x[ze],Ar=Ue.i.y[ze]===void 0?Ue.i.y[0]:Ue.i.y[ze],sr=BezierFactory.getBezierEasing(Ke,lr,mr,Ar).get,xr.__fnct[ze]=sr)):xr.__fnct?sr=xr.__fnct:(Ke=Ue.o.x,lr=Ue.o.y,mr=Ue.i.x,Ar=Ue.i.y,sr=BezierFactory.getBezierEasing(Ke,lr,mr,Ar).get,Ue.keyframeMetadata=sr),vr=sr((Me-Je)/(nr-Je)))),$e=hr.s||Ue.e,Pr=Ue.h===1?Ue.s[ze]:Ue.s[ze]+($e[ze]-Ue.s[ze])*vr,this.propType==="multidimensional"?Be[ze]=Pr:Be=Pr}return Oe.lastIndex=je,Be}function _e(Me,Oe,De){var Be=[],je=Me[0],ze=Me[1],Ge=Me[2],We=Me[3],Ue=Oe[0],hr=Oe[1],xr=Oe[2],rr=Oe[3],er,vr,gr,br,sr;return vr=je*Ue+ze*hr+Ge*xr+We*rr,vr<0&&(vr=-vr,Ue=-Ue,hr=-hr,xr=-xr,rr=-rr),1-vr>1e-6?(er=Math.acos(vr),gr=Math.sin(er),br=Math.sin((1-De)*er)/gr,sr=Math.sin(De*er)/gr):(br=1-De,sr=De),Be[0]=br*je+sr*Ue,Be[1]=br*ze+sr*hr,Be[2]=br*Ge+sr*xr,Be[3]=br*We+sr*rr,Be}function Ce(Me,Oe){var De=Oe[0],Be=Oe[1],je=Oe[2],ze=Oe[3],Ge=Math.atan2(2*Be*ze-2*De*je,1-2*Be*Be-2*je*je),We=Math.asin(2*De*Be+2*je*ze),Ue=Math.atan2(2*De*ze-2*Be*je,1-2*De*De-2*je*je);Me[0]=Ge/degToRads,Me[1]=We/degToRads,Me[2]=Ue/degToRads}function Ee(Me){var Oe=Me[0]*degToRads,De=Me[1]*degToRads,Be=Me[2]*degToRads,je=Math.cos(Oe/2),ze=Math.cos(De/2),Ge=Math.cos(Be/2),We=Math.sin(Oe/2),Ue=Math.sin(De/2),hr=Math.sin(Be/2),xr=je*ze*Ge-We*Ue*hr,rr=We*Ue*Ge+je*ze*hr,er=We*ze*Ge+je*Ue*hr,vr=je*Ue*Ge-We*ze*hr;return[rr,er,vr,xr]}function Re(){var Me=this.comp.renderedFrame-this.offsetTime,Oe=this.keyframes[0].t-this.offsetTime,De=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(Me===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=De&&Me>=De||this._caching.lastFrame<Oe&&Me<Oe))){this._caching.lastFrame>=Me&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var Be=this.interpolateValue(Me,this._caching);this.pv=Be}return this._caching.lastFrame=Me,this.pv}function Pe(Me){var Oe;if(this.propType==="unidimensional")Oe=Me*this.mult,e(this.v-Oe)>1e-5&&(this.v=Oe,this._mdf=!0);else for(var De=0,Be=this.v.length;De<Be;)Oe=Me[De]*this.mult,e(this.v[De]-Oe)>1e-5&&(this.v[De]=Oe,this._mdf=!0),De+=1}function St(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var Me,Oe=this.effectsSequence.length,De=this.kf?this.pv:this.data.k;for(Me=0;Me<Oe;Me+=1)De=this.effectsSequence[Me](De);this.setVValue(De),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Te(Me){this.effectsSequence.push(Me),this.container.addDynamicProperty(this)}function ke(Me,Oe,De,Be){this.propType="unidimensional",this.mult=De||1,this.data=Oe,this.v=De?Oe.k*De:Oe.k,this.pv=Oe.k,this._mdf=!1,this.elem=Me,this.container=Be,this.comp=Me.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=St,this.setVValue=Pe,this.addEffect=Te}function Ae(Me,Oe,De,Be){this.propType="multidimensional",this.mult=De||1,this.data=Oe,this._mdf=!1,this.elem=Me,this.container=Be,this.comp=Me.comp,this.k=!1,this.kf=!1,this.frameId=-1;var je,ze=Oe.k.length;for(this.v=createTypedArray("float32",ze),this.pv=createTypedArray("float32",ze),this.vel=createTypedArray("float32",ze),je=0;je<ze;je+=1)this.v[je]=Oe.k[je]*this.mult,this.pv[je]=Oe.k[je];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=St,this.setVValue=Pe,this.addEffect=Te}function xe(Me,Oe,De,Be){this.propType="unidimensional",this.keyframes=Oe.k,this.keyframesMetadata=[],this.offsetTime=Me.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=Oe,this.mult=De||1,this.elem=Me,this.container=Be,this.comp=Me.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=St,this.setVValue=Pe,this.interpolateValue=r,this.effectsSequence=[Re.bind(this)],this.addEffect=Te}function Se(Me,Oe,De,Be){this.propType="multidimensional";var je,ze=Oe.k.length,Ge,We,Ue,hr;for(je=0;je<ze-1;je+=1)Oe.k[je].to&&Oe.k[je].s&&Oe.k[je+1]&&Oe.k[je+1].s&&(Ge=Oe.k[je].s,We=Oe.k[je+1].s,Ue=Oe.k[je].to,hr=Oe.k[je].ti,(Ge.length===2&&!(Ge[0]===We[0]&&Ge[1]===We[1])&&bez.pointOnLine2D(Ge[0],Ge[1],We[0],We[1],Ge[0]+Ue[0],Ge[1]+Ue[1])&&bez.pointOnLine2D(Ge[0],Ge[1],We[0],We[1],We[0]+hr[0],We[1]+hr[1])||Ge.length===3&&!(Ge[0]===We[0]&&Ge[1]===We[1]&&Ge[2]===We[2])&&bez.pointOnLine3D(Ge[0],Ge[1],Ge[2],We[0],We[1],We[2],Ge[0]+Ue[0],Ge[1]+Ue[1],Ge[2]+Ue[2])&&bez.pointOnLine3D(Ge[0],Ge[1],Ge[2],We[0],We[1],We[2],We[0]+hr[0],We[1]+hr[1],We[2]+hr[2]))&&(Oe.k[je].to=null,Oe.k[je].ti=null),Ge[0]===We[0]&&Ge[1]===We[1]&&Ue[0]===0&&Ue[1]===0&&hr[0]===0&&hr[1]===0&&(Ge.length===2||Ge[2]===We[2]&&Ue[2]===0&&hr[2]===0)&&(Oe.k[je].to=null,Oe.k[je].ti=null));this.effectsSequence=[Re.bind(this)],this.data=Oe,this.keyframes=Oe.k,this.keyframesMetadata=[],this.offsetTime=Me.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=De||1,this.elem=Me,this.container=Be,this.comp=Me.comp,this.getValue=St,this.setVValue=Pe,this.interpolateValue=r,this.frameId=-1;var xr=Oe.k[0].s.length;for(this.v=createTypedArray("float32",xr),this.pv=createTypedArray("float32",xr),je=0;je<xr;je+=1)this.v[je]=t,this.pv[je]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",xr)},this.addEffect=Te}function Fe(Me,Oe,De,Be,je){var ze;if(!Oe.k.length)ze=new ke(Me,Oe,Be,je);else if(typeof Oe.k[0]=="number")ze=new Ae(Me,Oe,Be,je);else switch(De){case 0:ze=new xe(Me,Oe,Be,je);break;case 1:ze=new Se(Me,Oe,Be,je);break}return ze.effectsSequence.length&&je.addDynamicProperty(ze),ze}var Ie={getProp:Fe};return Ie}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,r=this.dynamicProperties.length;for(e=0;e<r;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function t(){return createTypedArray("float32",2)}return poolFactory(8,t)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,_e,Ce){var Ee;switch(this._length=Math.max(this._length,_e+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":Ee=this.v;break;case"i":Ee=this.i;break;case"o":Ee=this.o;break;default:Ee=[];break}(!Ee[_e]||Ee[_e]&&!Ce)&&(Ee[_e]=pointPool.newElement()),Ee[_e][0]=t,Ee[_e][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,_e,Ce,Ee,Re,Pe){this.setXYAt(t,e,"v",Re,Pe),this.setXYAt(r,_e,"o",Re,Pe),this.setXYAt(Ce,Ee,"i",Re,Pe)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,_e=this.i,Ce=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],_e[0][0],_e[0][1],r[0][0],r[0][1],0,!1),Ce=1);var Ee=this._length-1,Re=this._length,Pe;for(Pe=Ce;Pe<Re;Pe+=1)t.setTripleAt(e[Ee][0],e[Ee][1],_e[Ee][0],_e[Ee][1],r[Ee][0],r[Ee][1],Pe,!1),Ee-=1;return t};var shapePool=function(){function t(){return new ShapePath}function e(Ce){var Ee=Ce._length,Re;for(Re=0;Re<Ee;Re+=1)pointPool.release(Ce.v[Re]),pointPool.release(Ce.i[Re]),pointPool.release(Ce.o[Re]),Ce.v[Re]=null,Ce.i[Re]=null,Ce.o[Re]=null;Ce._length=0,Ce.c=!1}function r(Ce){var Ee=_e.newElement(),Re,Pe=Ce._length===void 0?Ce.v.length:Ce._length;for(Ee.setLength(Pe),Ee.c=Ce.c,Re=0;Re<Pe;Re+=1)Ee.setTripleAt(Ce.v[Re][0],Ce.v[Re][1],Ce.o[Re][0],Ce.o[Re][1],Ce.i[Re][0],Ce.i[Re][1],Re);return Ee}var _e=poolFactory(4,t,e);return _e.clone=r,_e}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=function(){var t={newShapeCollection:Ce,release:Ee},e=0,r=4,_e=createSizedArray(r);function Ce(){var Re;return e?(e-=1,Re=_e[e]):Re=new ShapeCollection,Re}function Ee(Re){var Pe,St=Re._length;for(Pe=0;Pe<St;Pe+=1)shapePool.release(Re.shapes[Pe]);Re._length=0,e===r&&(_e=pooling.double(_e),r*=2),_e[e]=Re,e+=1}return t}(),ShapePropertyFactory=function(){var t=-999999;function e(Oe,De,Be){var je=Be.lastIndex,ze,Ge,We,Ue,hr,xr,rr,er,vr,gr=this.keyframes;if(Oe<gr[0].t-this.offsetTime)ze=gr[0].s[0],We=!0,je=0;else if(Oe>=gr[gr.length-1].t-this.offsetTime)ze=gr[gr.length-1].s?gr[gr.length-1].s[0]:gr[gr.length-2].e[0],We=!0;else{for(var br=je,sr=gr.length-1,nr=!0,Je,$e,tr;nr&&(Je=gr[br],$e=gr[br+1],!($e.t-this.offsetTime>Oe));)br<sr-1?br+=1:nr=!1;if(tr=this.keyframesMetadata[br]||{},We=Je.h===1,je=br,!We){if(Oe>=$e.t-this.offsetTime)er=1;else if(Oe<Je.t-this.offsetTime)er=0;else{var ir;tr.__fnct?ir=tr.__fnct:(ir=BezierFactory.getBezierEasing(Je.o.x,Je.o.y,Je.i.x,Je.i.y).get,tr.__fnct=ir),er=ir((Oe-(Je.t-this.offsetTime))/($e.t-this.offsetTime-(Je.t-this.offsetTime)))}Ge=$e.s?$e.s[0]:Je.e[0]}ze=Je.s[0]}for(xr=De._length,rr=ze.i[0].length,Be.lastIndex=je,Ue=0;Ue<xr;Ue+=1)for(hr=0;hr<rr;hr+=1)vr=We?ze.i[Ue][hr]:ze.i[Ue][hr]+(Ge.i[Ue][hr]-ze.i[Ue][hr])*er,De.i[Ue][hr]=vr,vr=We?ze.o[Ue][hr]:ze.o[Ue][hr]+(Ge.o[Ue][hr]-ze.o[Ue][hr])*er,De.o[Ue][hr]=vr,vr=We?ze.v[Ue][hr]:ze.v[Ue][hr]+(Ge.v[Ue][hr]-ze.v[Ue][hr])*er,De.v[Ue][hr]=vr}function r(){var Oe=this.comp.renderedFrame-this.offsetTime,De=this.keyframes[0].t-this.offsetTime,Be=this.keyframes[this.keyframes.length-1].t-this.offsetTime,je=this._caching.lastFrame;return je!==t&&(je<De&&Oe<De||je>Be&&Oe>Be)||(this._caching.lastIndex=je<Oe?this._caching.lastIndex:0,this.interpolateShape(Oe,this.pv,this._caching)),this._caching.lastFrame=Oe,this.pv}function _e(){this.paths=this.localShapeCollection}function Ce(Oe,De){if(Oe._length!==De._length||Oe.c!==De.c)return!1;var Be,je=Oe._length;for(Be=0;Be<je;Be+=1)if(Oe.v[Be][0]!==De.v[Be][0]||Oe.v[Be][1]!==De.v[Be][1]||Oe.o[Be][0]!==De.o[Be][0]||Oe.o[Be][1]!==De.o[Be][1]||Oe.i[Be][0]!==De.i[Be][0]||Oe.i[Be][1]!==De.i[Be][1])return!1;return!0}function Ee(Oe){Ce(this.v,Oe)||(this.v=shapePool.clone(Oe),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function Re(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Oe;this.kf?Oe=this.pv:this.data.ks?Oe=this.data.ks.k:Oe=this.data.pt.k;var De,Be=this.effectsSequence.length;for(De=0;De<Be;De+=1)Oe=this.effectsSequence[De](Oe);this.setVValue(Oe),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Pe(Oe,De,Be){this.propType="shape",this.comp=Oe.comp,this.container=Oe,this.elem=Oe,this.data=De,this.k=!1,this.kf=!1,this._mdf=!1;var je=Be===3?De.pt.k:De.ks.k;this.v=shapePool.clone(je),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=_e,this.effectsSequence=[]}function St(Oe){this.effectsSequence.push(Oe),this.container.addDynamicProperty(this)}Pe.prototype.interpolateShape=e,Pe.prototype.getValue=Re,Pe.prototype.setVValue=Ee,Pe.prototype.addEffect=St;function Te(Oe,De,Be){this.propType="shape",this.comp=Oe.comp,this.elem=Oe,this.container=Oe,this.offsetTime=Oe.data.st,this.keyframes=Be===3?De.pt.k:De.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var je=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,je),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=_e,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}Te.prototype.getValue=Re,Te.prototype.interpolateShape=e,Te.prototype.setVValue=Ee,Te.prototype.addEffect=St;var ke=function(){var Oe=roundCorner;function De(Be,je){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=je.d,this.elem=Be,this.comp=Be.comp,this.frameId=-1,this.initDynamicPropertyContainer(Be),this.p=PropertyFactory.getProp(Be,je.p,1,0,this),this.s=PropertyFactory.getProp(Be,je.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return De.prototype={reset:_e,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var je=this.p.v[0],ze=this.p.v[1],Ge=this.s.v[0]/2,We=this.s.v[1]/2,Ue=this.d!==3,hr=this.v;hr.v[0][0]=je,hr.v[0][1]=ze-We,hr.v[1][0]=Ue?je+Ge:je-Ge,hr.v[1][1]=ze,hr.v[2][0]=je,hr.v[2][1]=ze+We,hr.v[3][0]=Ue?je-Ge:je+Ge,hr.v[3][1]=ze,hr.i[0][0]=Ue?je-Ge*Oe:je+Ge*Oe,hr.i[0][1]=ze-We,hr.i[1][0]=Ue?je+Ge:je-Ge,hr.i[1][1]=ze-We*Oe,hr.i[2][0]=Ue?je+Ge*Oe:je-Ge*Oe,hr.i[2][1]=ze+We,hr.i[3][0]=Ue?je-Ge:je+Ge,hr.i[3][1]=ze+We*Oe,hr.o[0][0]=Ue?je+Ge*Oe:je-Ge*Oe,hr.o[0][1]=ze-We,hr.o[1][0]=Ue?je+Ge:je-Ge,hr.o[1][1]=ze+We*Oe,hr.o[2][0]=Ue?je-Ge*Oe:je+Ge*Oe,hr.o[2][1]=ze+We,hr.o[3][0]=Ue?je-Ge:je+Ge,hr.o[3][1]=ze-We*Oe}},extendPrototype([DynamicPropertyContainer],De),De}(),Ae=function(){function Oe(De,Be){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=De,this.comp=De.comp,this.data=Be,this.frameId=-1,this.d=Be.d,this.initDynamicPropertyContainer(De),Be.sy===1?(this.ir=PropertyFactory.getProp(De,Be.ir,0,0,this),this.is=PropertyFactory.getProp(De,Be.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(De,Be.pt,0,0,this),this.p=PropertyFactory.getProp(De,Be.p,1,0,this),this.r=PropertyFactory.getProp(De,Be.r,0,degToRads,this),this.or=PropertyFactory.getProp(De,Be.or,0,0,this),this.os=PropertyFactory.getProp(De,Be.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Oe.prototype={reset:_e,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Be=Math.floor(this.pt.v)*2,je=Math.PI*2/Be,ze=!0,Ge=this.or.v,We=this.ir.v,Ue=this.os.v,hr=this.is.v,xr=2*Math.PI*Ge/(Be*2),rr=2*Math.PI*We/(Be*2),er,vr,gr,br,sr=-Math.PI/2;sr+=this.r.v;var nr=this.data.d===3?-1:1;for(this.v._length=0,er=0;er<Be;er+=1){vr=ze?Ge:We,gr=ze?Ue:hr,br=ze?xr:rr;var Je=vr*Math.cos(sr),$e=vr*Math.sin(sr),tr=Je===0&&$e===0?0:$e/Math.sqrt(Je*Je+$e*$e),ir=Je===0&&$e===0?0:-Je/Math.sqrt(Je*Je+$e*$e);Je+=+this.p.v[0],$e+=+this.p.v[1],this.v.setTripleAt(Je,$e,Je-tr*br*gr*nr,$e-ir*br*gr*nr,Je+tr*br*gr*nr,$e+ir*br*gr*nr,er,!0),ze=!ze,sr+=je*nr}},convertPolygonToPath:function(){var Be=Math.floor(this.pt.v),je=Math.PI*2/Be,ze=this.or.v,Ge=this.os.v,We=2*Math.PI*ze/(Be*4),Ue,hr=-Math.PI*.5,xr=this.data.d===3?-1:1;for(hr+=this.r.v,this.v._length=0,Ue=0;Ue<Be;Ue+=1){var rr=ze*Math.cos(hr),er=ze*Math.sin(hr),vr=rr===0&&er===0?0:er/Math.sqrt(rr*rr+er*er),gr=rr===0&&er===0?0:-rr/Math.sqrt(rr*rr+er*er);rr+=+this.p.v[0],er+=+this.p.v[1],this.v.setTripleAt(rr,er,rr-vr*We*Ge*xr,er-gr*We*Ge*xr,rr+vr*We*Ge*xr,er+gr*We*Ge*xr,Ue,!0),hr+=je*xr}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Oe),Oe}(),xe=function(){function Oe(De,Be){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=De,this.comp=De.comp,this.frameId=-1,this.d=Be.d,this.initDynamicPropertyContainer(De),this.p=PropertyFactory.getProp(De,Be.p,1,0,this),this.s=PropertyFactory.getProp(De,Be.s,1,0,this),this.r=PropertyFactory.getProp(De,Be.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Oe.prototype={convertRectToPath:function(){var Be=this.p.v[0],je=this.p.v[1],ze=this.s.v[0]/2,Ge=this.s.v[1]/2,We=bmMin(ze,Ge,this.r.v),Ue=We*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Be+ze,je-Ge+We,Be+ze,je-Ge+We,Be+ze,je-Ge+Ue,0,!0),this.v.setTripleAt(Be+ze,je+Ge-We,Be+ze,je+Ge-Ue,Be+ze,je+Ge-We,1,!0),We!==0?(this.v.setTripleAt(Be+ze-We,je+Ge,Be+ze-We,je+Ge,Be+ze-Ue,je+Ge,2,!0),this.v.setTripleAt(Be-ze+We,je+Ge,Be-ze+Ue,je+Ge,Be-ze+We,je+Ge,3,!0),this.v.setTripleAt(Be-ze,je+Ge-We,Be-ze,je+Ge-We,Be-ze,je+Ge-Ue,4,!0),this.v.setTripleAt(Be-ze,je-Ge+We,Be-ze,je-Ge+Ue,Be-ze,je-Ge+We,5,!0),this.v.setTripleAt(Be-ze+We,je-Ge,Be-ze+We,je-Ge,Be-ze+Ue,je-Ge,6,!0),this.v.setTripleAt(Be+ze-We,je-Ge,Be+ze-Ue,je-Ge,Be+ze-We,je-Ge,7,!0)):(this.v.setTripleAt(Be-ze,je+Ge,Be-ze+Ue,je+Ge,Be-ze,je+Ge,2),this.v.setTripleAt(Be-ze,je-Ge,Be-ze,je-Ge+Ue,Be-ze,je-Ge,3))):(this.v.setTripleAt(Be+ze,je-Ge+We,Be+ze,je-Ge+Ue,Be+ze,je-Ge+We,0,!0),We!==0?(this.v.setTripleAt(Be+ze-We,je-Ge,Be+ze-We,je-Ge,Be+ze-Ue,je-Ge,1,!0),this.v.setTripleAt(Be-ze+We,je-Ge,Be-ze+Ue,je-Ge,Be-ze+We,je-Ge,2,!0),this.v.setTripleAt(Be-ze,je-Ge+We,Be-ze,je-Ge+We,Be-ze,je-Ge+Ue,3,!0),this.v.setTripleAt(Be-ze,je+Ge-We,Be-ze,je+Ge-Ue,Be-ze,je+Ge-We,4,!0),this.v.setTripleAt(Be-ze+We,je+Ge,Be-ze+We,je+Ge,Be-ze+Ue,je+Ge,5,!0),this.v.setTripleAt(Be+ze-We,je+Ge,Be+ze-Ue,je+Ge,Be+ze-We,je+Ge,6,!0),this.v.setTripleAt(Be+ze,je+Ge-We,Be+ze,je+Ge-We,Be+ze,je+Ge-Ue,7,!0)):(this.v.setTripleAt(Be-ze,je-Ge,Be-ze+Ue,je-Ge,Be-ze,je-Ge,1,!0),this.v.setTripleAt(Be-ze,je+Ge,Be-ze,je+Ge-Ue,Be-ze,je+Ge,2,!0),this.v.setTripleAt(Be+ze,je+Ge,Be+ze-Ue,je+Ge,Be+ze,je+Ge,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:_e},extendPrototype([DynamicPropertyContainer],Oe),Oe}();function Se(Oe,De,Be){var je;if(Be===3||Be===4){var ze=Be===3?De.pt:De.ks,Ge=ze.k;Ge.length?je=new Te(Oe,De,Be):je=new Pe(Oe,De,Be)}else Be===5?je=new xe(Oe,De):Be===6?je=new ke(Oe,De):Be===7&&(je=new Ae(Oe,De));return je.k&&Oe.addDynamicProperty(je),je}function Fe(){return Pe}function Ie(){return Te}var Me={};return Me.getShapeProp=Se,Me.getConstructorFunction=Fe,Me.getKeyframedConstructorFunction=Ie,Me}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,_e=Math.round;function Ce(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function Ee(nr){if(nr===0)return this;var Je=t(nr),$e=e(nr);return this._t(Je,-$e,0,0,$e,Je,0,0,0,0,1,0,0,0,0,1)}function Re(nr){if(nr===0)return this;var Je=t(nr),$e=e(nr);return this._t(1,0,0,0,0,Je,-$e,0,0,$e,Je,0,0,0,0,1)}function Pe(nr){if(nr===0)return this;var Je=t(nr),$e=e(nr);return this._t(Je,0,$e,0,0,1,0,0,-$e,0,Je,0,0,0,0,1)}function St(nr){if(nr===0)return this;var Je=t(nr),$e=e(nr);return this._t(Je,-$e,0,0,$e,Je,0,0,0,0,1,0,0,0,0,1)}function Te(nr,Je){return this._t(1,Je,nr,1,0,0)}function ke(nr,Je){return this.shear(r(nr),r(Je))}function Ae(nr,Je){var $e=t(Je),tr=e(Je);return this._t($e,tr,0,0,-tr,$e,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(nr),1,0,0,0,0,1,0,0,0,0,1)._t($e,-tr,0,0,tr,$e,0,0,0,0,1,0,0,0,0,1)}function xe(nr,Je,$e){return!$e&&$e!==0&&($e=1),nr===1&&Je===1&&$e===1?this:this._t(nr,0,0,0,0,Je,0,0,0,0,$e,0,0,0,0,1)}function Se(nr,Je,$e,tr,ir,Xe,cr,Qe,Ke,lr,mr,Ar,Pr,Rr,Ir,ur){return this.props[0]=nr,this.props[1]=Je,this.props[2]=$e,this.props[3]=tr,this.props[4]=ir,this.props[5]=Xe,this.props[6]=cr,this.props[7]=Qe,this.props[8]=Ke,this.props[9]=lr,this.props[10]=mr,this.props[11]=Ar,this.props[12]=Pr,this.props[13]=Rr,this.props[14]=Ir,this.props[15]=ur,this}function Fe(nr,Je,$e){return $e=$e||0,nr!==0||Je!==0||$e!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,nr,Je,$e,1):this}function Ie(nr,Je,$e,tr,ir,Xe,cr,Qe,Ke,lr,mr,Ar,Pr,Rr,Ir,ur){var ar=this.props;if(nr===1&&Je===0&&$e===0&&tr===0&&ir===0&&Xe===1&&cr===0&&Qe===0&&Ke===0&&lr===0&&mr===1&&Ar===0)return ar[12]=ar[12]*nr+ar[15]*Pr,ar[13]=ar[13]*Xe+ar[15]*Rr,ar[14]=ar[14]*mr+ar[15]*Ir,ar[15]*=ur,this._identityCalculated=!1,this;var Sr=ar[0],wr=ar[1],or=ar[2],kr=ar[3],Or=ar[4],Lr=ar[5],Dr=ar[6],Nr=ar[7],Mr=ar[8],Gr=ar[9],Yr=ar[10],$r=ar[11],ti=ar[12],ri=ar[13],oi=ar[14],ni=ar[15];return ar[0]=Sr*nr+wr*ir+or*Ke+kr*Pr,ar[1]=Sr*Je+wr*Xe+or*lr+kr*Rr,ar[2]=Sr*$e+wr*cr+or*mr+kr*Ir,ar[3]=Sr*tr+wr*Qe+or*Ar+kr*ur,ar[4]=Or*nr+Lr*ir+Dr*Ke+Nr*Pr,ar[5]=Or*Je+Lr*Xe+Dr*lr+Nr*Rr,ar[6]=Or*$e+Lr*cr+Dr*mr+Nr*Ir,ar[7]=Or*tr+Lr*Qe+Dr*Ar+Nr*ur,ar[8]=Mr*nr+Gr*ir+Yr*Ke+$r*Pr,ar[9]=Mr*Je+Gr*Xe+Yr*lr+$r*Rr,ar[10]=Mr*$e+Gr*cr+Yr*mr+$r*Ir,ar[11]=Mr*tr+Gr*Qe+Yr*Ar+$r*ur,ar[12]=ti*nr+ri*ir+oi*Ke+ni*Pr,ar[13]=ti*Je+ri*Xe+oi*lr+ni*Rr,ar[14]=ti*$e+ri*cr+oi*mr+ni*Ir,ar[15]=ti*tr+ri*Qe+oi*Ar+ni*ur,this._identityCalculated=!1,this}function Me(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Oe(nr){for(var Je=0;Je<16;){if(nr.props[Je]!==this.props[Je])return!1;Je+=1}return!0}function De(nr){var Je;for(Je=0;Je<16;Je+=1)nr.props[Je]=this.props[Je];return nr}function Be(nr){var Je;for(Je=0;Je<16;Je+=1)this.props[Je]=nr[Je]}function je(nr,Je,$e){return{x:nr*this.props[0]+Je*this.props[4]+$e*this.props[8]+this.props[12],y:nr*this.props[1]+Je*this.props[5]+$e*this.props[9]+this.props[13],z:nr*this.props[2]+Je*this.props[6]+$e*this.props[10]+this.props[14]}}function ze(nr,Je,$e){return nr*this.props[0]+Je*this.props[4]+$e*this.props[8]+this.props[12]}function Ge(nr,Je,$e){return nr*this.props[1]+Je*this.props[5]+$e*this.props[9]+this.props[13]}function We(nr,Je,$e){return nr*this.props[2]+Je*this.props[6]+$e*this.props[10]+this.props[14]}function Ue(){var nr=this.props[0]*this.props[5]-this.props[1]*this.props[4],Je=this.props[5]/nr,$e=-this.props[1]/nr,tr=-this.props[4]/nr,ir=this.props[0]/nr,Xe=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/nr,cr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/nr,Qe=new Matrix;return Qe.props[0]=Je,Qe.props[1]=$e,Qe.props[4]=tr,Qe.props[5]=ir,Qe.props[12]=Xe,Qe.props[13]=cr,Qe}function hr(nr){var Je=this.getInverseMatrix();return Je.applyToPointArray(nr[0],nr[1],nr[2]||0)}function xr(nr){var Je,$e=nr.length,tr=[];for(Je=0;Je<$e;Je+=1)tr[Je]=hr(nr[Je]);return tr}function rr(nr,Je,$e){var tr=createTypedArray("float32",6);if(this.isIdentity())tr[0]=nr[0],tr[1]=nr[1],tr[2]=Je[0],tr[3]=Je[1],tr[4]=$e[0],tr[5]=$e[1];else{var ir=this.props[0],Xe=this.props[1],cr=this.props[4],Qe=this.props[5],Ke=this.props[12],lr=this.props[13];tr[0]=nr[0]*ir+nr[1]*cr+Ke,tr[1]=nr[0]*Xe+nr[1]*Qe+lr,tr[2]=Je[0]*ir+Je[1]*cr+Ke,tr[3]=Je[0]*Xe+Je[1]*Qe+lr,tr[4]=$e[0]*ir+$e[1]*cr+Ke,tr[5]=$e[0]*Xe+$e[1]*Qe+lr}return tr}function er(nr,Je,$e){var tr;return this.isIdentity()?tr=[nr,Je,$e]:tr=[nr*this.props[0]+Je*this.props[4]+$e*this.props[8]+this.props[12],nr*this.props[1]+Je*this.props[5]+$e*this.props[9]+this.props[13],nr*this.props[2]+Je*this.props[6]+$e*this.props[10]+this.props[14]],tr}function vr(nr,Je){if(this.isIdentity())return nr+","+Je;var $e=this.props;return Math.round((nr*$e[0]+Je*$e[4]+$e[12])*100)/100+","+Math.round((nr*$e[1]+Je*$e[5]+$e[13])*100)/100}function gr(){for(var nr=0,Je=this.props,$e="matrix3d(",tr=1e4;nr<16;)$e+=_e(Je[nr]*tr)/tr,$e+=nr===15?")":",",nr+=1;return $e}function br(nr){var Je=1e4;return nr<1e-6&&nr>0||nr>-1e-6&&nr<0?_e(nr*Je)/Je:nr}function sr(){var nr=this.props,Je=br(nr[0]),$e=br(nr[1]),tr=br(nr[4]),ir=br(nr[5]),Xe=br(nr[12]),cr=br(nr[13]);return"matrix("+Je+","+$e+","+tr+","+ir+","+Xe+","+cr+")"}return function(){this.reset=Ce,this.rotate=Ee,this.rotateX=Re,this.rotateY=Pe,this.rotateZ=St,this.skew=ke,this.skewFromAxis=Ae,this.shear=Te,this.scale=xe,this.setTransform=Se,this.translate=Fe,this.transform=Ie,this.applyToPoint=je,this.applyToX=ze,this.applyToY=Ge,this.applyToZ=We,this.applyToPointArray=er,this.applyToTriplePoints=rr,this.applyToPointStringified=vr,this.toCSS=gr,this.to2dCSS=sr,this.clone=De,this.cloneFromProps=Be,this.equals=Oe,this.inversePoints=xr,this.inversePoint=hr,this.getInverseMatrix=Ue,this._t=this.transform,this.isIdentity=Me,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(r){return typeof r}:_typeof$3=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$3(t)}var lottie={};function setLocation(t){setLocationHref(t)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t)}function inBrowser(){return typeof navigator<"u"}function installPlugin(t,e){t==="expressions"&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.6";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),r=0;r<e.length;r+=1){var _e=e[r].split("=");if(decodeURIComponent(_e[0])==t)return decodeURIComponent(_e[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=function(){var t={},e={};t.registerModifier=r,t.getModifier=_e;function r(Ce,Ee){e[Ce]||(e[Ce]=Ee)}function _e(Ce,Ee,Re){return new e[Ce](Ee,Re)}return t}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,_e,Ce){var Ee=[];e<=1?Ee.push({s:t,e}):t>=1?Ee.push({s:t-1,e:e-1}):(Ee.push({s:t,e:1}),Ee.push({s:0,e:e-1}));var Re=[],Pe,St=Ee.length,Te;for(Pe=0;Pe<St;Pe+=1)if(Te=Ee[Pe],!(Te.e*Ce<_e||Te.s*Ce>_e+r)){var ke,Ae;Te.s*Ce<=_e?ke=0:ke=(Te.s*Ce-_e)/r,Te.e*Ce>=_e+r?Ae=1:Ae=(Te.e*Ce-_e)/r,Re.push([ke,Ae])}return Re.length||Re.push([0,0]),Re},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r;if(this._mdf||t){var _e=this.o.v%360/360;if(_e<0&&(_e+=1),this.s.v>1?e=1+_e:this.s.v<0?e=0+_e:e=this.s.v+_e,this.e.v>1?r=1+_e:this.e.v<0?r=0+_e:r=this.e.v+_e,e>r){var Ce=e;e=r,r=Ce}e=Math.round(e*1e4)*1e-4,r=Math.round(r*1e4)*1e-4,this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var Ee,Re,Pe=this.shapes.length,St,Te,ke,Ae,xe,Se=0;if(r===e)for(Re=0;Re<Pe;Re+=1)this.shapes[Re].localShapeCollection.releaseShapes(),this.shapes[Re].shape._mdf=!0,this.shapes[Re].shape.paths=this.shapes[Re].localShapeCollection,this._mdf&&(this.shapes[Re].pathsData.length=0);else if(r===1&&e===0||r===0&&e===1){if(this._mdf)for(Re=0;Re<Pe;Re+=1)this.shapes[Re].pathsData.length=0,this.shapes[Re].shape._mdf=!0}else{var Fe=[],Ie,Me;for(Re=0;Re<Pe;Re+=1)if(Ie=this.shapes[Re],!Ie.shape._mdf&&!this._mdf&&!t&&this.m!==2)Ie.shape.paths=Ie.localShapeCollection;else{if(Ee=Ie.shape.paths,Te=Ee._length,xe=0,!Ie.shape._mdf&&Ie.pathsData.length)xe=Ie.totalShapeLength;else{for(ke=this.releasePathsData(Ie.pathsData),St=0;St<Te;St+=1)Ae=bez.getSegmentsLength(Ee.shapes[St]),ke.push(Ae),xe+=Ae.totalLength;Ie.totalShapeLength=xe,Ie.pathsData=ke}Se+=xe,Ie.shape._mdf=!0}var Oe=e,De=r,Be=0,je;for(Re=Pe-1;Re>=0;Re-=1)if(Ie=this.shapes[Re],Ie.shape._mdf){for(Me=Ie.localShapeCollection,Me.releaseShapes(),this.m===2&&Pe>1?(je=this.calculateShapeEdges(e,r,Ie.totalShapeLength,Be,Se),Be+=Ie.totalShapeLength):je=[[Oe,De]],Te=je.length,St=0;St<Te;St+=1){Oe=je[St][0],De=je[St][1],Fe.length=0,De<=1?Fe.push({s:Ie.totalShapeLength*Oe,e:Ie.totalShapeLength*De}):Oe>=1?Fe.push({s:Ie.totalShapeLength*(Oe-1),e:Ie.totalShapeLength*(De-1)}):(Fe.push({s:Ie.totalShapeLength*Oe,e:Ie.totalShapeLength}),Fe.push({s:0,e:Ie.totalShapeLength*(De-1)}));var ze=this.addShapes(Ie,Fe[0]);if(Fe[0].s!==Fe[0].e){if(Fe.length>1){var Ge=Ie.shape.paths.shapes[Ie.shape.paths._length-1];if(Ge.c){var We=ze.pop();this.addPaths(ze,Me),ze=this.addShapes(Ie,Fe[1],We)}else this.addPaths(ze,Me),ze=this.addShapes(Ie,Fe[1])}this.addPaths(ze,Me)}}Ie.shape.paths=Me}}},TrimModifier.prototype.addPaths=function(t,e){var r,_e=t.length;for(r=0;r<_e;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,_e,Ce,Ee,Re){Ce.setXYAt(e[0],e[1],"o",Ee),Ce.setXYAt(r[0],r[1],"i",Ee+1),Re&&Ce.setXYAt(t[0],t[1],"v",Ee),Ce.setXYAt(_e[0],_e[1],"v",Ee+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,_e){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),_e&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var _e=t.pathsData,Ce=t.shape.paths.shapes,Ee,Re=t.shape.paths._length,Pe,St,Te=0,ke,Ae,xe,Se,Fe=[],Ie,Me=!0;for(r?(Ae=r._length,Ie=r._length):(r=shapePool.newElement(),Ae=0,Ie=0),Fe.push(r),Ee=0;Ee<Re;Ee+=1){for(xe=_e[Ee].lengths,r.c=Ce[Ee].c,St=Ce[Ee].c?xe.length:xe.length+1,Pe=1;Pe<St;Pe+=1)if(ke=xe[Pe-1],Te+ke.addedLength<e.s)Te+=ke.addedLength,r.c=!1;else if(Te>e.e){r.c=!1;break}else e.s<=Te&&e.e>=Te+ke.addedLength?(this.addSegment(Ce[Ee].v[Pe-1],Ce[Ee].o[Pe-1],Ce[Ee].i[Pe],Ce[Ee].v[Pe],r,Ae,Me),Me=!1):(Se=bez.getNewSegment(Ce[Ee].v[Pe-1],Ce[Ee].v[Pe],Ce[Ee].o[Pe-1],Ce[Ee].i[Pe],(e.s-Te)/ke.addedLength,(e.e-Te)/ke.addedLength,xe[Pe-1]),this.addSegmentFromArray(Se,r,Ae,Me),Me=!1,r.c=!1),Te+=ke.addedLength,Ae+=1;if(Ce[Ee].c&&xe.length){if(ke=xe[Pe-1],Te<=e.e){var Oe=xe[Pe-1].addedLength;e.s<=Te&&e.e>=Te+Oe?(this.addSegment(Ce[Ee].v[Pe-1],Ce[Ee].o[Pe-1],Ce[Ee].i[0],Ce[Ee].v[0],r,Ae,Me),Me=!1):(Se=bez.getNewSegment(Ce[Ee].v[Pe-1],Ce[Ee].v[0],Ce[Ee].o[Pe-1],Ce[Ee].i[0],(e.s-Te)/Oe,(e.e-Te)/Oe,xe[Pe-1]),this.addSegmentFromArray(Se,r,Ae,Me),Me=!1,r.c=!1)}else r.c=!1;Te+=ke.addedLength,Ae+=1}if(r._length&&(r.setXYAt(r.v[Ie][0],r.v[Ie][1],"i",Ie),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),Te>e.e)break;Ee<Re-1&&(r=shapePool.newElement(),Me=!0,Fe.push(r),Ae=0)}return Fe};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var r=e/100,_e=[0,0],Ce=t._length,Ee=0;for(Ee=0;Ee<Ce;Ee+=1)_e[0]+=t.v[Ee][0],_e[1]+=t.v[Ee][1];_e[0]/=Ce,_e[1]/=Ce;var Re=shapePool.newElement();Re.c=t.c;var Pe,St,Te,ke,Ae,xe;for(Ee=0;Ee<Ce;Ee+=1)Pe=t.v[Ee][0]+(_e[0]-t.v[Ee][0])*r,St=t.v[Ee][1]+(_e[1]-t.v[Ee][1])*r,Te=t.o[Ee][0]+(_e[0]-t.o[Ee][0])*-r,ke=t.o[Ee][1]+(_e[1]-t.o[Ee][1])*-r,Ae=t.i[Ee][0]+(_e[0]-t.i[Ee][0])*-r,xe=t.i[Ee][1]+(_e[1]-t.i[Ee][1])*-r,Re.setTripleAt(Pe,St,Te,ke,Ae,xe,Ee);return Re},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,r,_e=this.shapes.length,Ce,Ee,Re=this.amount.v;if(Re!==0){var Pe,St;for(r=0;r<_e;r+=1){if(Pe=this.shapes[r],St=Pe.localShapeCollection,!(!Pe.shape._mdf&&!this._mdf&&!t))for(St.releaseShapes(),Pe.shape._mdf=!0,e=Pe.shape.paths.shapes,Ee=Pe.shape.paths._length,Ce=0;Ce<Ee;Ce+=1)St.addShape(this.processPath(e[Ce],Re));Pe.shape.paths=Pe.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(St){var Te=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Te,this.a&&St.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&St.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&St.skewFromAxis(-this.sk.v,this.sa.v),this.r?St.rotate(-this.r.v):St.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?St.translate(this.px.v,this.py.v,-this.pz.v):St.translate(this.px.v,this.py.v,0):St.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function r(St){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||St){var Te;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ke,Ae;if(Te=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ke=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Te,0),Ae=this.p.getValueAtTime(this.p.keyframes[0].t/Te,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ke=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Te,0),Ae=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Te,0)):(ke=this.p.pv,Ae=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Te,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ke=[],Ae=[];var xe=this.px,Se=this.py;xe._caching.lastFrame+xe.offsetTime<=xe.keyframes[0].t?(ke[0]=xe.getValueAtTime((xe.keyframes[0].t+.01)/Te,0),ke[1]=Se.getValueAtTime((Se.keyframes[0].t+.01)/Te,0),Ae[0]=xe.getValueAtTime(xe.keyframes[0].t/Te,0),Ae[1]=Se.getValueAtTime(Se.keyframes[0].t/Te,0)):xe._caching.lastFrame+xe.offsetTime>=xe.keyframes[xe.keyframes.length-1].t?(ke[0]=xe.getValueAtTime(xe.keyframes[xe.keyframes.length-1].t/Te,0),ke[1]=Se.getValueAtTime(Se.keyframes[Se.keyframes.length-1].t/Te,0),Ae[0]=xe.getValueAtTime((xe.keyframes[xe.keyframes.length-1].t-.01)/Te,0),Ae[1]=Se.getValueAtTime((Se.keyframes[Se.keyframes.length-1].t-.01)/Te,0)):(ke=[xe.pv,Se.pv],Ae[0]=xe.getValueAtTime((xe._caching.lastFrame+xe.offsetTime-.01)/Te,xe.offsetTime),Ae[1]=Se.getValueAtTime((Se._caching.lastFrame+Se.offsetTime-.01)/Te,Se.offsetTime))}else Ae=t,ke=Ae;this.v.rotate(-Math.atan2(ke[1]-Ae[1],ke[0]-Ae[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function _e(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function Ce(){}function Ee(St){this._addDynamicProperty(St),this.elem.addDynamicProperty(St),this._isDirty=!0}function Re(St,Te,ke){if(this.elem=St,this.frameId=-1,this.propType="transform",this.data=Te,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ke||St),Te.p&&Te.p.s?(this.px=PropertyFactory.getProp(St,Te.p.x,0,0,this),this.py=PropertyFactory.getProp(St,Te.p.y,0,0,this),Te.p.z&&(this.pz=PropertyFactory.getProp(St,Te.p.z,0,0,this))):this.p=PropertyFactory.getProp(St,Te.p||{k:[0,0,0]},1,0,this),Te.rx){if(this.rx=PropertyFactory.getProp(St,Te.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(St,Te.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(St,Te.rz,0,degToRads,this),Te.or.k[0].ti){var Ae,xe=Te.or.k.length;for(Ae=0;Ae<xe;Ae+=1)Te.or.k[Ae].to=null,Te.or.k[Ae].ti=null}this.or=PropertyFactory.getProp(St,Te.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(St,Te.r||{k:0},0,degToRads,this);Te.sk&&(this.sk=PropertyFactory.getProp(St,Te.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(St,Te.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(St,Te.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(St,Te.s||{k:[100,100,100]},1,.01,this),Te.o?this.o=PropertyFactory.getProp(St,Te.o,0,.01,St):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}Re.prototype={applyToMatrix:e,getValue:r,precalculateMatrix:_e,autoOrient:Ce},extendPrototype([DynamicPropertyContainer],Re),Re.prototype.addDynamicProperty=Ee,Re.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function Pe(St,Te,ke){return new Re(St,Te,ke)}return{getTransformProperty:Pe}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,_e,Ce,Ee){var Re=Ee?-1:1,Pe=_e.s.v[0]+(1-_e.s.v[0])*(1-Ce),St=_e.s.v[1]+(1-_e.s.v[1])*(1-Ce);t.translate(_e.p.v[0]*Re*Ce,_e.p.v[1]*Re*Ce,_e.p.v[2]),e.translate(-_e.a.v[0],-_e.a.v[1],_e.a.v[2]),e.rotate(-_e.r.v*Re*Ce),e.translate(_e.a.v[0],_e.a.v[1],_e.a.v[2]),r.translate(-_e.a.v[0],-_e.a.v[1],_e.a.v[2]),r.scale(Ee?1/Pe:Pe,Ee?1/St:St),r.translate(_e.a.v[0],_e.a.v[1],_e.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,_e){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=_e,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,t[e].ty==="gr"&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,_e=t.length;for(r=0;r<_e;r+=1)t[r]._render=e,t[r].ty==="gr"&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,_e,Ce,Ee,Re=!1;if(this._mdf||t){var Pe=Math.ceil(this.c.v);if(this._groups.length<Pe){for(;this._groups.length<Pe;){var St={it:this.cloneElements(this._elements),ty:"gr"};St.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,St),this._groups.splice(0,0,St),this._currentCopies+=1}this.elem.reloadShapes(),Re=!0}Ee=0;var Te;for(_e=0;_e<=this._groups.length-1;_e+=1){if(Te=Ee<Pe,this._groups[_e]._render=Te,this.changeGroupRender(this._groups[_e].it,Te),!Te){var ke=this.elemsData[_e].it,Ae=ke[ke.length-1];Ae.transform.op.v!==0?(Ae.transform.op._mdf=!0,Ae.transform.op.v=0):Ae.transform.op._mdf=!1}Ee+=1}this._currentCopies=Pe;var xe=this.o.v,Se=xe%1,Fe=xe>0?Math.floor(xe):Math.ceil(xe),Ie=this.pMatrix.props,Me=this.rMatrix.props,Oe=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var De=0;if(xe>0){for(;De<Fe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),De+=1;Se&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,Se,!1),De+=Se)}else if(xe<0){for(;De>Fe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),De-=1;Se&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-Se,!0),De-=Se)}_e=this.data.m===1?0:this._currentCopies-1,Ce=this.data.m===1?1:-1,Ee=this._currentCopies;for(var Be,je;Ee;){if(e=this.elemsData[_e].it,r=e[e.length-1].transform.mProps.v.props,je=r.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(_e/(this._currentCopies-1)),De!==0){for((_e!==0&&Ce===1||_e!==this._currentCopies-1&&Ce===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Me[0],Me[1],Me[2],Me[3],Me[4],Me[5],Me[6],Me[7],Me[8],Me[9],Me[10],Me[11],Me[12],Me[13],Me[14],Me[15]),this.matrix.transform(Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5],Oe[6],Oe[7],Oe[8],Oe[9],Oe[10],Oe[11],Oe[12],Oe[13],Oe[14],Oe[15]),this.matrix.transform(Ie[0],Ie[1],Ie[2],Ie[3],Ie[4],Ie[5],Ie[6],Ie[7],Ie[8],Ie[9],Ie[10],Ie[11],Ie[12],Ie[13],Ie[14],Ie[15]),Be=0;Be<je;Be+=1)r[Be]=this.matrix.props[Be];this.matrix.reset()}else for(this.matrix.reset(),Be=0;Be<je;Be+=1)r[Be]=this.matrix.props[Be];De+=1,Ee-=1,_e+=Ce}}else for(Ee=this._currentCopies,_e=0,Ce=1;Ee;)e=this.elemsData[_e].it,r=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,Ee-=1,_e+=Ce;return Re},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r=shapePool.newElement();r.c=t.c;var _e,Ce=t._length,Ee,Re,Pe,St,Te,ke,Ae=0,xe,Se,Fe,Ie,Me,Oe;for(_e=0;_e<Ce;_e+=1)Ee=t.v[_e],Pe=t.o[_e],Re=t.i[_e],Ee[0]===Pe[0]&&Ee[1]===Pe[1]&&Ee[0]===Re[0]&&Ee[1]===Re[1]?(_e===0||_e===Ce-1)&&!t.c?(r.setTripleAt(Ee[0],Ee[1],Pe[0],Pe[1],Re[0],Re[1],Ae),Ae+=1):(_e===0?St=t.v[Ce-1]:St=t.v[_e-1],Te=Math.sqrt(Math.pow(Ee[0]-St[0],2)+Math.pow(Ee[1]-St[1],2)),ke=Te?Math.min(Te/2,e)/Te:0,Me=Ee[0]+(St[0]-Ee[0])*ke,xe=Me,Oe=Ee[1]-(Ee[1]-St[1])*ke,Se=Oe,Fe=xe-(xe-Ee[0])*roundCorner,Ie=Se-(Se-Ee[1])*roundCorner,r.setTripleAt(xe,Se,Fe,Ie,Me,Oe,Ae),Ae+=1,_e===Ce-1?St=t.v[0]:St=t.v[_e+1],Te=Math.sqrt(Math.pow(Ee[0]-St[0],2)+Math.pow(Ee[1]-St[1],2)),ke=Te?Math.min(Te/2,e)/Te:0,Fe=Ee[0]+(St[0]-Ee[0])*ke,xe=Fe,Ie=Ee[1]+(St[1]-Ee[1])*ke,Se=Ie,Me=xe-(xe-Ee[0])*roundCorner,Oe=Se-(Se-Ee[1])*roundCorner,r.setTripleAt(xe,Se,Fe,Ie,Me,Oe,Ae),Ae+=1):(r.setTripleAt(t.v[_e][0],t.v[_e][1],t.o[_e][0],t.o[_e][1],t.i[_e][0],t.i[_e][1],Ae),Ae+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var e,r,_e=this.shapes.length,Ce,Ee,Re=this.rd.v;if(Re!==0){var Pe,St;for(r=0;r<_e;r+=1){if(Pe=this.shapes[r],St=Pe.localShapeCollection,!(!Pe.shape._mdf&&!this._mdf&&!t))for(St.releaseShapes(),Pe.shape._mdf=!0,e=Pe.shape.paths.shapes,Ee=Pe.shape.paths._length,Ce=0;Ce<Ee;Ce+=1)St.addShape(this.processPath(e[Ce],Re));Pe.shape.paths=Pe.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],r="normal",_e="normal",Ce=e.length,Ee,Re=0;Re<Ce;Re+=1)switch(Ee=e[Re].toLowerCase(),Ee){case"italic":_e="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200";break}return{style:_e,weight:t.fWeight||r}}var FontManager=function(){var t=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},r=[];r=r.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var _e=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],Ce=[65039,8205];function Ee(je){var ze=je.split(","),Ge,We=ze.length,Ue=[];for(Ge=0;Ge<We;Ge+=1)ze[Ge]!=="sans-serif"&&ze[Ge]!=="monospace"&&Ue.push(ze[Ge]);return Ue.join(",")}function Re(je,ze){var Ge=createTag("span");Ge.setAttribute("aria-hidden",!0),Ge.style.fontFamily=ze;var We=createTag("span");We.innerText="giItT1WQy@!-/#",Ge.style.position="absolute",Ge.style.left="-10000px",Ge.style.top="-10000px",Ge.style.fontSize="300px",Ge.style.fontVariant="normal",Ge.style.fontStyle="normal",Ge.style.fontWeight="normal",Ge.style.letterSpacing="0",Ge.appendChild(We),document.body.appendChild(Ge);var Ue=We.offsetWidth;return We.style.fontFamily=Ee(je)+", "+ze,{node:We,w:Ue,parent:Ge}}function Pe(){var je,ze=this.fonts.length,Ge,We,Ue=ze;for(je=0;je<ze;je+=1)this.fonts[je].loaded?Ue-=1:this.fonts[je].fOrigin==="n"||this.fonts[je].origin===0?this.fonts[je].loaded=!0:(Ge=this.fonts[je].monoCase.node,We=this.fonts[je].monoCase.w,Ge.offsetWidth!==We?(Ue-=1,this.fonts[je].loaded=!0):(Ge=this.fonts[je].sansCase.node,We=this.fonts[je].sansCase.w,Ge.offsetWidth!==We&&(Ue-=1,this.fonts[je].loaded=!0)),this.fonts[je].loaded&&(this.fonts[je].sansCase.parent.parentNode.removeChild(this.fonts[je].sansCase.parent),this.fonts[je].monoCase.parent.parentNode.removeChild(this.fonts[je].monoCase.parent)));Ue!==0&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function St(je,ze){var Ge=document.body&&ze?"svg":"canvas",We,Ue=getFontProperties(je);if(Ge==="svg"){var hr=createNS("text");hr.style.fontSize="100px",hr.setAttribute("font-family",je.fFamily),hr.setAttribute("font-style",Ue.style),hr.setAttribute("font-weight",Ue.weight),hr.textContent="1",je.fClass?(hr.style.fontFamily="inherit",hr.setAttribute("class",je.fClass)):hr.style.fontFamily=je.fFamily,ze.appendChild(hr),We=hr}else{var xr=new OffscreenCanvas(500,500).getContext("2d");xr.font=Ue.style+" "+Ue.weight+" 100px "+je.fFamily,We=xr}function rr(er){return Ge==="svg"?(We.textContent=er,We.getComputedTextLength()):We.measureText(er).width}return{measureText:rr}}function Te(je,ze){if(!je){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=je.list;return}if(!document.body){this.isLoaded=!0,je.list.forEach(function(sr){sr.helper=St(sr),sr.cache={}}),this.fonts=je.list;return}var Ge=je.list,We,Ue=Ge.length,hr=Ue;for(We=0;We<Ue;We+=1){var xr=!0,rr,er;if(Ge[We].loaded=!1,Ge[We].monoCase=Re(Ge[We].fFamily,"monospace"),Ge[We].sansCase=Re(Ge[We].fFamily,"sans-serif"),!Ge[We].fPath)Ge[We].loaded=!0,hr-=1;else if(Ge[We].fOrigin==="p"||Ge[We].origin===3){if(rr=document.querySelectorAll('style[f-forigin="p"][f-family="'+Ge[We].fFamily+'"], style[f-origin="3"][f-family="'+Ge[We].fFamily+'"]'),rr.length>0&&(xr=!1),xr){var vr=createTag("style");vr.setAttribute("f-forigin",Ge[We].fOrigin),vr.setAttribute("f-origin",Ge[We].origin),vr.setAttribute("f-family",Ge[We].fFamily),vr.type="text/css",vr.innerText="@font-face {font-family: "+Ge[We].fFamily+"; font-style: normal; src: url('"+Ge[We].fPath+"');}",ze.appendChild(vr)}}else if(Ge[We].fOrigin==="g"||Ge[We].origin===1){for(rr=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),er=0;er<rr.length;er+=1)rr[er].href.indexOf(Ge[We].fPath)!==-1&&(xr=!1);if(xr){var gr=createTag("link");gr.setAttribute("f-forigin",Ge[We].fOrigin),gr.setAttribute("f-origin",Ge[We].origin),gr.type="text/css",gr.rel="stylesheet",gr.href=Ge[We].fPath,document.body.appendChild(gr)}}else if(Ge[We].fOrigin==="t"||Ge[We].origin===2){for(rr=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),er=0;er<rr.length;er+=1)Ge[We].fPath===rr[er].src&&(xr=!1);if(xr){var br=createTag("link");br.setAttribute("f-forigin",Ge[We].fOrigin),br.setAttribute("f-origin",Ge[We].origin),br.setAttribute("rel","stylesheet"),br.setAttribute("href",Ge[We].fPath),ze.appendChild(br)}}Ge[We].helper=St(Ge[We],ze),Ge[We].cache={},this.fonts.push(Ge[We])}hr===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function ke(je){if(!!je){this.chars||(this.chars=[]);var ze,Ge=je.length,We,Ue=this.chars.length,hr;for(ze=0;ze<Ge;ze+=1){for(We=0,hr=!1;We<Ue;)this.chars[We].style===je[ze].style&&this.chars[We].fFamily===je[ze].fFamily&&this.chars[We].ch===je[ze].ch&&(hr=!0),We+=1;hr||(this.chars.push(je[ze]),Ue+=1)}}}function Ae(je,ze,Ge){for(var We=0,Ue=this.chars.length;We<Ue;){if(this.chars[We].ch===je&&this.chars[We].style===ze&&this.chars[We].fFamily===Ge)return this.chars[We];We+=1}return(typeof je=="string"&&je.charCodeAt(0)!==13||!je)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",je,ze,Ge)),e}function xe(je,ze,Ge){var We=this.getFontByName(ze),Ue=je.charCodeAt(0);if(!We.cache[Ue+1]){var hr=We.helper;if(je===" "){var xr=hr.measureText("|"+je+"|"),rr=hr.measureText("||");We.cache[Ue+1]=(xr-rr)/100}else We.cache[Ue+1]=hr.measureText(je)/100}return We.cache[Ue+1]*Ge}function Se(je){for(var ze=0,Ge=this.fonts.length;ze<Ge;){if(this.fonts[ze].fName===je)return this.fonts[ze];ze+=1}return this.fonts[0]}function Fe(je,ze){var Ge=je.toString(16)+ze.toString(16);return _e.indexOf(Ge)!==-1}function Ie(je,ze){return ze?je===Ce[0]&&ze===Ce[1]:je===Ce[1]}function Me(je){return r.indexOf(je)!==-1}function Oe(){this.isLoaded=!0}var De=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};De.isModifier=Fe,De.isZeroWidthJoiner=Ie,De.isCombinedCharacter=Me;var Be={addChars:ke,addFonts:Te,getCharData:Ae,getFontByName:Se,measureText:xe,checkLoadedFonts:Pe,setIsLoaded:Oe};return De.prototype=Be,De}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,r=this.renderableComponents.length;for(e=0;e<r;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function t(r,_e){this._mask=r,this._data=_e}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var e=function(_e){var Ce=createSizedArray(_e.viewData.length),Ee,Re=_e.viewData.length;for(Ee=0;Ee<Re;Ee+=1)Ce[Ee]=new t(_e.viewData[Ee],_e.masksProperties[Ee]);var Pe=function(Te){for(Ee=0;Ee<Re;){if(_e.masksProperties[Ee].nm===Te)return Ce[Ee];Ee+=1}return null};return Pe};return e}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function r(Re,Pe,St){Object.defineProperty(Re,"velocity",{get:function(){return Pe.getVelocityAtTime(Pe.comp.currentFrame)}}),Re.numKeys=Pe.keyframes?Pe.keyframes.length:0,Re.key=function(Te){if(!Re.numKeys)return 0;var ke="";"s"in Pe.keyframes[Te-1]?ke=Pe.keyframes[Te-1].s:"e"in Pe.keyframes[Te-2]?ke=Pe.keyframes[Te-2].e:ke=Pe.keyframes[Te-2].s;var Ae=St==="unidimensional"?new Number(ke):Object.assign({},ke);return Ae.time=Pe.keyframes[Te-1].t/Pe.elem.comp.globalData.frameRate,Ae.value=St==="unidimensional"?ke[0]:ke,Ae},Re.valueAtTime=Pe.getValueAtTime,Re.speedAtTime=Pe.getSpeedAtTime,Re.velocityAtTime=Pe.getVelocityAtTime,Re.propertyGroup=Pe.propertyGroup}function _e(Re){(!Re||!("pv"in Re))&&(Re=t);var Pe=1/Re.mult,St=Re.pv*Pe,Te=new Number(St);return Te.value=St,r(Te,Re,"unidimensional"),function(){return Re.k&&Re.getValue(),St=Re.v*Pe,Te.value!==St&&(Te=new Number(St),Te.value=St,r(Te,Re,"unidimensional")),Te}}function Ce(Re){(!Re||!("pv"in Re))&&(Re=e);var Pe=1/Re.mult,St=Re.data&&Re.data.l||Re.pv.length,Te=createTypedArray("float32",St),ke=createTypedArray("float32",St);return Te.value=ke,r(Te,Re,"multidimensional"),function(){Re.k&&Re.getValue();for(var Ae=0;Ae<St;Ae+=1)ke[Ae]=Re.v[Ae]*Pe,Te[Ae]=ke[Ae];return Te}}function Ee(){return t}return function(Re){return Re?Re.propType==="unidimensional"?_e(Re):Ce(Re):Ee}}(),TransformExpressionInterface=function(){return function(t){function e(Re){switch(Re){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)});var r,_e,Ce,Ee;return t.p?Ee=ExpressionPropertyInterface(t.p):(r=ExpressionPropertyInterface(t.px),_e=ExpressionPropertyInterface(t.py),t.pz&&(Ce=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?Ee():[r(),_e(),Ce?Ce():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e}}(),LayerExpressionInterface=function(){function t(Te){var ke=new Matrix;if(Te!==void 0){var Ae=this._elem.finalTransform.mProp.getValueAtTime(Te);Ae.clone(ke)}else{var xe=this._elem.finalTransform.mProp;xe.applyToMatrix(ke)}return ke}function e(Te,ke){var Ae=this.getMatrix(ke);return Ae.props[12]=0,Ae.props[13]=0,Ae.props[14]=0,this.applyPoint(Ae,Te)}function r(Te,ke){var Ae=this.getMatrix(ke);return this.applyPoint(Ae,Te)}function _e(Te,ke){var Ae=this.getMatrix(ke);return Ae.props[12]=0,Ae.props[13]=0,Ae.props[14]=0,this.invertPoint(Ae,Te)}function Ce(Te,ke){var Ae=this.getMatrix(ke);return this.invertPoint(Ae,Te)}function Ee(Te,ke){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Ae,xe=this._elem.hierarchy.length;for(Ae=0;Ae<xe;Ae+=1)this._elem.hierarchy[Ae].finalTransform.mProp.applyToMatrix(Te)}return Te.applyToPointArray(ke[0],ke[1],ke[2]||0)}function Re(Te,ke){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Ae,xe=this._elem.hierarchy.length;for(Ae=0;Ae<xe;Ae+=1)this._elem.hierarchy[Ae].finalTransform.mProp.applyToMatrix(Te)}return Te.inversePoint(ke)}function Pe(Te){var ke=new Matrix;if(ke.reset(),this._elem.finalTransform.mProp.applyToMatrix(ke),this._elem.hierarchy&&this._elem.hierarchy.length){var Ae,xe=this._elem.hierarchy.length;for(Ae=0;Ae<xe;Ae+=1)this._elem.hierarchy[Ae].finalTransform.mProp.applyToMatrix(ke);return ke.inversePoint(Te)}return ke.inversePoint(Te)}function St(){return[1,1,1,1]}return function(Te){var ke;function Ae(Ie){Se.mask=new MaskManagerInterface(Ie,Te)}function xe(Ie){Se.effect=Ie}function Se(Ie){switch(Ie){case"ADBE Root Vectors Group":case"Contents":case 2:return Se.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ke;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return Se.effect;case"ADBE Text Properties":return Se.textInterface;default:return null}}Se.getMatrix=t,Se.invertPoint=Re,Se.applyPoint=Ee,Se.toWorld=r,Se.toWorldVec=e,Se.fromWorld=Ce,Se.fromWorldVec=_e,Se.toComp=r,Se.fromComp=Pe,Se.sampleImage=St,Se.sourceRectAtTime=Te.sourceRectAtTime.bind(Te),Se._elem=Te,ke=TransformExpressionInterface(Te.finalTransform.mProp);var Fe=getDescriptor(ke,"anchorPoint");return Object.defineProperties(Se,{hasParent:{get:function(){return Te.hierarchy.length}},parent:{get:function(){return Te.hierarchy[0].layerInterface}},rotation:getDescriptor(ke,"rotation"),scale:getDescriptor(ke,"scale"),position:getDescriptor(ke,"position"),opacity:getDescriptor(ke,"opacity"),anchorPoint:Fe,anchor_point:Fe,transform:{get:function(){return ke}},active:{get:function(){return Te.isInRange}}}),Se.startTime=Te.data.st,Se.index=Te.data.ind,Se.source=Te.data.refId,Se.height=Te.data.ty===0?Te.data.h:100,Se.width=Te.data.ty===0?Te.data.w:100,Se.inPoint=Te.data.ip/Te.comp.globalData.frameRate,Se.outPoint=Te.data.op/Te.comp.globalData.frameRate,Se._name=Te.data.nm,Se.registerMaskInterface=Ae,Se.registerEffectsInterface=xe,Se}}(),propertyGroupFactory=function(){return function(t,e){return function(r){return r=r===void 0?1:r,r<=0?t:e(r-1)}}}(),PropertyInterface=function(){return function(t,e){var r={_name:t};function _e(Ce){return Ce=Ce===void 0?1:Ce,Ce<=0?r:e(Ce-1)}return _e}}(),EffectsExpressionInterface=function(){var t={createEffectsInterface:e};function e(Ce,Ee){if(Ce.effectsManager){var Re=[],Pe=Ce.data.ef,St,Te=Ce.effectsManager.effectElements.length;for(St=0;St<Te;St+=1)Re.push(r(Pe[St],Ce.effectsManager.effectElements[St],Ee,Ce));var ke=Ce.data.ef||[],Ae=function(Se){for(St=0,Te=ke.length;St<Te;){if(Se===ke[St].nm||Se===ke[St].mn||Se===ke[St].ix)return Re[St];St+=1}return null};return Object.defineProperty(Ae,"numProperties",{get:function(){return ke.length}}),Ae}return null}function r(Ce,Ee,Re,Pe){function St(Se){for(var Fe=Ce.ef,Ie=0,Me=Fe.length;Ie<Me;){if(Se===Fe[Ie].nm||Se===Fe[Ie].mn||Se===Fe[Ie].ix)return Fe[Ie].ty===5?ke[Ie]:ke[Ie]();Ie+=1}throw new Error}var Te=propertyGroupFactory(St,Re),ke=[],Ae,xe=Ce.ef.length;for(Ae=0;Ae<xe;Ae+=1)Ce.ef[Ae].ty===5?ke.push(r(Ce.ef[Ae],Ee.effectElements[Ae],Ee.effectElements[Ae].propertyGroup,Pe)):ke.push(_e(Ee.effectElements[Ae],Ce.ef[Ae].ty,Pe,Te));return Ce.mn==="ADBE Color Control"&&Object.defineProperty(St,"color",{get:function(){return ke[0]()}}),Object.defineProperties(St,{numProperties:{get:function(){return Ce.np}},_name:{value:Ce.nm},propertyGroup:{value:Te}}),St.enabled=Ce.en!==0,St.active=St.enabled,St}function _e(Ce,Ee,Re,Pe){var St=ExpressionPropertyInterface(Ce.p);function Te(){return Ee===10?Re.comp.compInterface(Ce.p.v):St()}return Ce.p.setGroupProperty&&Ce.p.setGroupProperty(PropertyInterface("",Pe)),Te}return t}(),CompExpressionInterface=function(){return function(t){function e(r){for(var _e=0,Ce=t.layers.length;_e<Ce;){if(t.layers[_e].nm===r||t.layers[_e].ind===r)return t.elements[_e].layerInterface;_e+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e}}(),ShapePathInterface=function(){return function(e,r,_e){var Ce=r.sh;function Ee(Pe){return Pe==="Shape"||Pe==="shape"||Pe==="Path"||Pe==="path"||Pe==="ADBE Vector Shape"||Pe===2?Ee.path:null}var Re=propertyGroupFactory(Ee,_e);return Ce.setGroupProperty(PropertyInterface("Path",Re)),Object.defineProperties(Ee,{path:{get:function(){return Ce.k&&Ce.getValue(),Ce}},shape:{get:function(){return Ce.k&&Ce.getValue(),Ce}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:_e}}),Ee}}(),ShapeExpressionInterface=function(){function t(Fe,Ie,Me){var Oe=[],De,Be=Fe?Fe.length:0;for(De=0;De<Be;De+=1)Fe[De].ty==="gr"?Oe.push(r(Fe[De],Ie[De],Me)):Fe[De].ty==="fl"?Oe.push(_e(Fe[De],Ie[De],Me)):Fe[De].ty==="st"?Oe.push(Re(Fe[De],Ie[De],Me)):Fe[De].ty==="tm"?Oe.push(Pe(Fe[De],Ie[De],Me)):Fe[De].ty==="tr"||(Fe[De].ty==="el"?Oe.push(Te(Fe[De],Ie[De],Me)):Fe[De].ty==="sr"?Oe.push(ke(Fe[De],Ie[De],Me)):Fe[De].ty==="sh"?Oe.push(ShapePathInterface(Fe[De],Ie[De],Me)):Fe[De].ty==="rc"?Oe.push(Ae(Fe[De],Ie[De],Me)):Fe[De].ty==="rd"?Oe.push(xe(Fe[De],Ie[De],Me)):Fe[De].ty==="rp"?Oe.push(Se(Fe[De],Ie[De],Me)):Fe[De].ty==="gf"?Oe.push(Ce(Fe[De],Ie[De],Me)):Oe.push(Ee(Fe[De],Ie[De])));return Oe}function e(Fe,Ie,Me){var Oe,De=function(ze){for(var Ge=0,We=Oe.length;Ge<We;){if(Oe[Ge]._name===ze||Oe[Ge].mn===ze||Oe[Ge].propertyIndex===ze||Oe[Ge].ix===ze||Oe[Ge].ind===ze)return Oe[Ge];Ge+=1}return typeof ze=="number"?Oe[ze-1]:null};De.propertyGroup=propertyGroupFactory(De,Me),Oe=t(Fe.it,Ie.it,De.propertyGroup),De.numProperties=Oe.length;var Be=St(Fe.it[Fe.it.length-1],Ie.it[Ie.it.length-1],De.propertyGroup);return De.transform=Be,De.propertyIndex=Fe.cix,De._name=Fe.nm,De}function r(Fe,Ie,Me){var Oe=function(ze){switch(ze){case"ADBE Vectors Group":case"Contents":case 2:return Oe.content;default:return Oe.transform}};Oe.propertyGroup=propertyGroupFactory(Oe,Me);var De=e(Fe,Ie,Oe.propertyGroup),Be=St(Fe.it[Fe.it.length-1],Ie.it[Ie.it.length-1],Oe.propertyGroup);return Oe.content=De,Oe.transform=Be,Object.defineProperty(Oe,"_name",{get:function(){return Fe.nm}}),Oe.numProperties=Fe.np,Oe.propertyIndex=Fe.ix,Oe.nm=Fe.nm,Oe.mn=Fe.mn,Oe}function _e(Fe,Ie,Me){function Oe(De){return De==="Color"||De==="color"?Oe.color:De==="Opacity"||De==="opacity"?Oe.opacity:null}return Object.defineProperties(Oe,{color:{get:ExpressionPropertyInterface(Ie.c)},opacity:{get:ExpressionPropertyInterface(Ie.o)},_name:{value:Fe.nm},mn:{value:Fe.mn}}),Ie.c.setGroupProperty(PropertyInterface("Color",Me)),Ie.o.setGroupProperty(PropertyInterface("Opacity",Me)),Oe}function Ce(Fe,Ie,Me){function Oe(De){return De==="Start Point"||De==="start point"?Oe.startPoint:De==="End Point"||De==="end point"?Oe.endPoint:De==="Opacity"||De==="opacity"?Oe.opacity:null}return Object.defineProperties(Oe,{startPoint:{get:ExpressionPropertyInterface(Ie.s)},endPoint:{get:ExpressionPropertyInterface(Ie.e)},opacity:{get:ExpressionPropertyInterface(Ie.o)},type:{get:function(){return"a"}},_name:{value:Fe.nm},mn:{value:Fe.mn}}),Ie.s.setGroupProperty(PropertyInterface("Start Point",Me)),Ie.e.setGroupProperty(PropertyInterface("End Point",Me)),Ie.o.setGroupProperty(PropertyInterface("Opacity",Me)),Oe}function Ee(){function Fe(){return null}return Fe}function Re(Fe,Ie,Me){var Oe=propertyGroupFactory(We,Me),De=propertyGroupFactory(Ge,Oe);function Be(Ue){Object.defineProperty(Ge,Fe.d[Ue].nm,{get:ExpressionPropertyInterface(Ie.d.dataProps[Ue].p)})}var je,ze=Fe.d?Fe.d.length:0,Ge={};for(je=0;je<ze;je+=1)Be(je),Ie.d.dataProps[je].p.setGroupProperty(De);function We(Ue){return Ue==="Color"||Ue==="color"?We.color:Ue==="Opacity"||Ue==="opacity"?We.opacity:Ue==="Stroke Width"||Ue==="stroke width"?We.strokeWidth:null}return Object.defineProperties(We,{color:{get:ExpressionPropertyInterface(Ie.c)},opacity:{get:ExpressionPropertyInterface(Ie.o)},strokeWidth:{get:ExpressionPropertyInterface(Ie.w)},dash:{get:function(){return Ge}},_name:{value:Fe.nm},mn:{value:Fe.mn}}),Ie.c.setGroupProperty(PropertyInterface("Color",Oe)),Ie.o.setGroupProperty(PropertyInterface("Opacity",Oe)),Ie.w.setGroupProperty(PropertyInterface("Stroke Width",Oe)),We}function Pe(Fe,Ie,Me){function Oe(Be){return Be===Fe.e.ix||Be==="End"||Be==="end"?Oe.end:Be===Fe.s.ix?Oe.start:Be===Fe.o.ix?Oe.offset:null}var De=propertyGroupFactory(Oe,Me);return Oe.propertyIndex=Fe.ix,Ie.s.setGroupProperty(PropertyInterface("Start",De)),Ie.e.setGroupProperty(PropertyInterface("End",De)),Ie.o.setGroupProperty(PropertyInterface("Offset",De)),Oe.propertyIndex=Fe.ix,Oe.propertyGroup=Me,Object.defineProperties(Oe,{start:{get:ExpressionPropertyInterface(Ie.s)},end:{get:ExpressionPropertyInterface(Ie.e)},offset:{get:ExpressionPropertyInterface(Ie.o)},_name:{value:Fe.nm}}),Oe.mn=Fe.mn,Oe}function St(Fe,Ie,Me){function Oe(Be){return Fe.a.ix===Be||Be==="Anchor Point"?Oe.anchorPoint:Fe.o.ix===Be||Be==="Opacity"?Oe.opacity:Fe.p.ix===Be||Be==="Position"?Oe.position:Fe.r.ix===Be||Be==="Rotation"||Be==="ADBE Vector Rotation"?Oe.rotation:Fe.s.ix===Be||Be==="Scale"?Oe.scale:Fe.sk&&Fe.sk.ix===Be||Be==="Skew"?Oe.skew:Fe.sa&&Fe.sa.ix===Be||Be==="Skew Axis"?Oe.skewAxis:null}var De=propertyGroupFactory(Oe,Me);return Ie.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",De)),Ie.transform.mProps.p.setGroupProperty(PropertyInterface("Position",De)),Ie.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",De)),Ie.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",De)),Ie.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",De)),Ie.transform.mProps.sk&&(Ie.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",De)),Ie.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",De))),Ie.transform.op.setGroupProperty(PropertyInterface("Opacity",De)),Object.defineProperties(Oe,{opacity:{get:ExpressionPropertyInterface(Ie.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Ie.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Ie.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Ie.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Ie.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Ie.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Ie.transform.mProps.sa)},_name:{value:Fe.nm}}),Oe.ty="tr",Oe.mn=Fe.mn,Oe.propertyGroup=Me,Oe}function Te(Fe,Ie,Me){function Oe(je){return Fe.p.ix===je?Oe.position:Fe.s.ix===je?Oe.size:null}var De=propertyGroupFactory(Oe,Me);Oe.propertyIndex=Fe.ix;var Be=Ie.sh.ty==="tm"?Ie.sh.prop:Ie.sh;return Be.s.setGroupProperty(PropertyInterface("Size",De)),Be.p.setGroupProperty(PropertyInterface("Position",De)),Object.defineProperties(Oe,{size:{get:ExpressionPropertyInterface(Be.s)},position:{get:ExpressionPropertyInterface(Be.p)},_name:{value:Fe.nm}}),Oe.mn=Fe.mn,Oe}function ke(Fe,Ie,Me){function Oe(je){return Fe.p.ix===je?Oe.position:Fe.r.ix===je?Oe.rotation:Fe.pt.ix===je?Oe.points:Fe.or.ix===je||je==="ADBE Vector Star Outer Radius"?Oe.outerRadius:Fe.os.ix===je?Oe.outerRoundness:Fe.ir&&(Fe.ir.ix===je||je==="ADBE Vector Star Inner Radius")?Oe.innerRadius:Fe.is&&Fe.is.ix===je?Oe.innerRoundness:null}var De=propertyGroupFactory(Oe,Me),Be=Ie.sh.ty==="tm"?Ie.sh.prop:Ie.sh;return Oe.propertyIndex=Fe.ix,Be.or.setGroupProperty(PropertyInterface("Outer Radius",De)),Be.os.setGroupProperty(PropertyInterface("Outer Roundness",De)),Be.pt.setGroupProperty(PropertyInterface("Points",De)),Be.p.setGroupProperty(PropertyInterface("Position",De)),Be.r.setGroupProperty(PropertyInterface("Rotation",De)),Fe.ir&&(Be.ir.setGroupProperty(PropertyInterface("Inner Radius",De)),Be.is.setGroupProperty(PropertyInterface("Inner Roundness",De))),Object.defineProperties(Oe,{position:{get:ExpressionPropertyInterface(Be.p)},rotation:{get:ExpressionPropertyInterface(Be.r)},points:{get:ExpressionPropertyInterface(Be.pt)},outerRadius:{get:ExpressionPropertyInterface(Be.or)},outerRoundness:{get:ExpressionPropertyInterface(Be.os)},innerRadius:{get:ExpressionPropertyInterface(Be.ir)},innerRoundness:{get:ExpressionPropertyInterface(Be.is)},_name:{value:Fe.nm}}),Oe.mn=Fe.mn,Oe}function Ae(Fe,Ie,Me){function Oe(je){return Fe.p.ix===je?Oe.position:Fe.r.ix===je?Oe.roundness:Fe.s.ix===je||je==="Size"||je==="ADBE Vector Rect Size"?Oe.size:null}var De=propertyGroupFactory(Oe,Me),Be=Ie.sh.ty==="tm"?Ie.sh.prop:Ie.sh;return Oe.propertyIndex=Fe.ix,Be.p.setGroupProperty(PropertyInterface("Position",De)),Be.s.setGroupProperty(PropertyInterface("Size",De)),Be.r.setGroupProperty(PropertyInterface("Rotation",De)),Object.defineProperties(Oe,{position:{get:ExpressionPropertyInterface(Be.p)},roundness:{get:ExpressionPropertyInterface(Be.r)},size:{get:ExpressionPropertyInterface(Be.s)},_name:{value:Fe.nm}}),Oe.mn=Fe.mn,Oe}function xe(Fe,Ie,Me){function Oe(je){return Fe.r.ix===je||je==="Round Corners 1"?Oe.radius:null}var De=propertyGroupFactory(Oe,Me),Be=Ie;return Oe.propertyIndex=Fe.ix,Be.rd.setGroupProperty(PropertyInterface("Radius",De)),Object.defineProperties(Oe,{radius:{get:ExpressionPropertyInterface(Be.rd)},_name:{value:Fe.nm}}),Oe.mn=Fe.mn,Oe}function Se(Fe,Ie,Me){function Oe(je){return Fe.c.ix===je||je==="Copies"?Oe.copies:Fe.o.ix===je||je==="Offset"?Oe.offset:null}var De=propertyGroupFactory(Oe,Me),Be=Ie;return Oe.propertyIndex=Fe.ix,Be.c.setGroupProperty(PropertyInterface("Copies",De)),Be.o.setGroupProperty(PropertyInterface("Offset",De)),Object.defineProperties(Oe,{copies:{get:ExpressionPropertyInterface(Be.c)},offset:{get:ExpressionPropertyInterface(Be.o)},_name:{value:Fe.nm}}),Oe.mn=Fe.mn,Oe}return function(Fe,Ie,Me){var Oe;function De(je){if(typeof je=="number")return je=je===void 0?1:je,je===0?Me:Oe[je-1];for(var ze=0,Ge=Oe.length;ze<Ge;){if(Oe[ze]._name===je)return Oe[ze];ze+=1}return null}function Be(){return Me}return De.propertyGroup=propertyGroupFactory(De,Be),Oe=t(Fe,Ie,De.propertyGroup),De.numProperties=Oe.length,De._name="Contents",De}}(),TextExpressionInterface=function(){return function(t){var e,r;function _e(Ce){switch(Ce){case"ADBE Text Document":return _e.sourceText;default:return null}}return Object.defineProperty(_e,"sourceText",{get:function(){t.textProperty.getValue();var Ee=t.textProperty.currentData.t;return Ee!==e&&(t.textProperty.currentData.t=e,r=new String(Ee),r.value=Ee||new String(Ee)),r}}),_e}}(),getBlendMode=function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return t[e]||""}}();function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var r=t.ef||[];this.effectElements=[];var _e,Ce=r.length,Ee;for(_e=0;_e<Ce;_e+=1)Ee=new GroupEffect(r[_e],e),this.effectElements.push(Ee)}function GroupEffect(t,e){this.init(t,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var r,_e=this.data.ef.length,Ce,Ee=this.data.ef;for(r=0;r<_e;r+=1){switch(Ce=null,Ee[r].ty){case 0:Ce=new SliderEffect(Ee[r],e,this);break;case 1:Ce=new AngleEffect(Ee[r],e,this);break;case 2:Ce=new ColorEffect(Ee[r],e,this);break;case 3:Ce=new PointEffect(Ee[r],e,this);break;case 4:case 7:Ce=new CheckboxEffect(Ee[r],e,this);break;case 10:Ce=new LayerIndexEffect(Ee[r],e,this);break;case 11:Ce=new MaskIndexEffect(Ee[r],e,this);break;case 5:Ce=new EffectsManager(Ee[r],e);break;default:Ce=new NoValueEffect(Ee[r]);break}Ce&&this.effectElements.push(Ce)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,r=this.data.masksProperties.length;e<r;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=getBlendMode(this.data.bm),r=this.baseElement||this.layerElement;r.style["mix-blend-mode"]=e},initBaseData:function(e,r,_e){this.globalData=r,this.comp=_e,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,r){var _e,Ce=this.dynamicProperties.length;for(_e=0;_e<Ce;_e+=1)(r||this._isParent&&this.dynamicProperties[_e].propType==="transform")&&(this.dynamicProperties[_e].getValue(),this.dynamicProperties[_e]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}};function _typeof$2(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(r){return typeof r}:_typeof$2=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$2(t)}var FootageInterface=function(){var t=function(_e){var Ce="",Ee=_e.getFootageData();function Re(){return Ce="",Ee=_e.getFootageData(),Pe}function Pe(St){if(Ee[St])return Ce=St,Ee=Ee[St],_typeof$2(Ee)==="object"?Pe:Ee;var Te=St.indexOf(Ce);if(Te!==-1){var ke=parseInt(St.substr(Te+Ce.length),10);return Ee=Ee[ke],_typeof$2(Ee)==="object"?Pe:Ee}return""}return Re},e=function(_e){function Ce(Ee){return Ee==="Outline"?Ce.outlineInterface():null}return Ce._name="Outline",Ce.outlineInterface=t(_e),Ce};return function(r){function _e(Ce){return Ce==="Data"?_e.dataInterface:null}return _e._name="Data",_e.dataInterface=e(r),_e}}();function FootageElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,r)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,r),this._isPlaying=!1,this._canPlay=!1;var _e=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(_e),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(t){var e,r=this.layers.length,_e;for(this.completeLayers=!0,e=r-1;e>=0;e-=1)this.elements[e]||(_e=this.layers[e],_e.ip-_e.st<=t-this.layers[e].st&&_e.op-_e.st>t-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,r=t.length,_e,Ce=this.layers.length;for(e=0;e<r;e+=1)for(_e=0;_e<Ce;){if(this.layers[_e].id===t[e].id){this.layers[_e]=t[e];break}_e+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var _e=this.elements,Ce=this.layers,Ee=0,Re=Ce.length;Ee<Re;)Ce[Ee].ind==e&&(!_e[Ee]||_e[Ee]===!0?(this.buildItem(Ee),this.addPendingElement(t)):(r.push(_e[Ee]),_e[Ee].setAsParent(),Ce[Ee].parent!==void 0?this.buildElementParenting(t,Ce[Ee].parent,r):t.setHierarchy(r))),Ee+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var _e=this.createComp(t[e]);_e.initExpressions(),this.globalData.projectInterface.registerComposition(_e)}},BaseRenderer.prototype.getElementByPath=function(t){var e=t.shift(),r;if(typeof e=="number")r=this.elements[e];else{var _e,Ce=this.elements.length;for(_e=0;_e<Ce;_e+=1)if(this.elements[_e].data.nm===e){r=this.elements[_e];break}}return t.length===0?r:r.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};function TransformElement(){}TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,r=this.finalTransform.mat,_e=0,Ce=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;_e<Ce;){if(this.hierarchy[_e].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}_e+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,r.cloneFromProps(e),_e=0;_e<Ce;_e+=1)e=this.hierarchy[_e].finalTransform.mProp.v.props,r.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var r=[];r.push(this.finalTransform);for(var _e=!0,Ce=this.comp;_e;)Ce.finalTransform?(Ce.data.hasMask&&r.splice(0,0,Ce.finalTransform),Ce=Ce.comp):_e=!1;var Ee,Re=r.length,Pe;for(Ee=0;Ee<Re;Ee+=1)Pe=r[Ee].mat.applyToPointArray(0,0,0),e=[e[0]-Pe[0],e[1]-Pe[1],0];return e},mHelper:new Matrix};function MaskElement(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var _e=this.globalData.defs,Ce,Ee=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(Ee),this.solidPath="";var Re,Pe=this.masksProperties,St=0,Te=[],ke,Ae,xe=createElementID(),Se,Fe,Ie,Me,Oe="clipPath",De="clip-path";for(Ce=0;Ce<Ee;Ce+=1)if((Pe[Ce].mode!=="a"&&Pe[Ce].mode!=="n"||Pe[Ce].inv||Pe[Ce].o.k!==100||Pe[Ce].o.x)&&(Oe="mask",De="mask"),(Pe[Ce].mode==="s"||Pe[Ce].mode==="i")&&St===0?(Se=createNS("rect"),Se.setAttribute("fill","#ffffff"),Se.setAttribute("width",this.element.comp.data.w||0),Se.setAttribute("height",this.element.comp.data.h||0),Te.push(Se)):Se=null,Re=createNS("path"),Pe[Ce].mode==="n")this.viewData[Ce]={op:PropertyFactory.getProp(this.element,Pe[Ce].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Pe[Ce],3),elem:Re,lastPath:""},_e.appendChild(Re);else{St+=1,Re.setAttribute("fill",Pe[Ce].mode==="s"?"#000000":"#ffffff"),Re.setAttribute("clip-rule","nonzero");var Be;if(Pe[Ce].x.k!==0?(Oe="mask",De="mask",Me=PropertyFactory.getProp(this.element,Pe[Ce].x,0,null,this.element),Be=createElementID(),Fe=createNS("filter"),Fe.setAttribute("id",Be),Ie=createNS("feMorphology"),Ie.setAttribute("operator","erode"),Ie.setAttribute("in","SourceGraphic"),Ie.setAttribute("radius","0"),Fe.appendChild(Ie),_e.appendChild(Fe),Re.setAttribute("stroke",Pe[Ce].mode==="s"?"#000000":"#ffffff")):(Ie=null,Me=null),this.storedData[Ce]={elem:Re,x:Me,expan:Ie,lastPath:"",lastOperator:"",filterId:Be,lastRadius:0},Pe[Ce].mode==="i"){Ae=Te.length;var je=createNS("g");for(ke=0;ke<Ae;ke+=1)je.appendChild(Te[ke]);var ze=createNS("mask");ze.setAttribute("mask-type","alpha"),ze.setAttribute("id",xe+"_"+St),ze.appendChild(Re),_e.appendChild(ze),je.setAttribute("mask","url("+getLocationHref()+"#"+xe+"_"+St+")"),Te.length=0,Te.push(je)}else Te.push(Re);Pe[Ce].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[Ce]={elem:Re,lastPath:"",op:PropertyFactory.getProp(this.element,Pe[Ce].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Pe[Ce],3),invRect:Se},this.viewData[Ce].prop.k||this.drawPath(Pe[Ce],this.viewData[Ce].prop.v,this.viewData[Ce])}for(this.maskElement=createNS(Oe),Ee=Te.length,Ce=0;Ce<Ee;Ce+=1)this.maskElement.appendChild(Te[Ce]);St>0&&(this.maskElement.setAttribute("id",xe),this.element.maskedElement.setAttribute(De,"url("+getLocationHref()+"#"+xe+")"),_e.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e=this.element.finalTransform.mat,r,_e=this.masksProperties.length;for(r=0;r<_e;r+=1)if((this.viewData[r].prop._mdf||t)&&this.drawPath(this.masksProperties[r],this.viewData[r].prop.v,this.viewData[r]),(this.viewData[r].op._mdf||t)&&this.viewData[r].elem.setAttribute("fill-opacity",this.viewData[r].op.v),this.masksProperties[r].mode!=="n"&&(this.viewData[r].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[r].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[r].x&&(this.storedData[r].x._mdf||t))){var Ce=this.storedData[r].expan;this.storedData[r].x.v<0?(this.storedData[r].lastOperator!=="erode"&&(this.storedData[r].lastOperator="erode",this.storedData[r].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[r].filterId+")")),Ce.setAttribute("radius",-this.storedData[r].x.v)):(this.storedData[r].lastOperator!=="dilate"&&(this.storedData[r].lastOperator="dilate",this.storedData[r].elem.setAttribute("filter",null)),this.storedData[r].elem.setAttribute("stroke-width",this.storedData[r].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" ",t},MaskElement.prototype.drawPath=function(t,e,r){var _e=" M"+e.v[0][0]+","+e.v[0][1],Ce,Ee;for(Ee=e._length,Ce=1;Ce<Ee;Ce+=1)_e+=" C"+e.o[Ce-1][0]+","+e.o[Ce-1][1]+" "+e.i[Ce][0]+","+e.i[Ce][1]+" "+e.v[Ce][0]+","+e.v[Ce][1];if(e.c&&Ee>1&&(_e+=" C"+e.o[Ce-1][0]+","+e.o[Ce-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),r.lastPath!==_e){var Re="";r.elem&&(e.c&&(Re=t.inv?this.solidPath+_e:_e),r.elem.setAttribute("d",Re)),r.lastPath=_e}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};t.createFilter=e,t.createAlphaToLuminanceFilter=r;function e(_e,Ce){var Ee=createNS("filter");return Ee.setAttribute("id",_e),Ce!==!0&&(Ee.setAttribute("filterUnits","objectBoundingBox"),Ee.setAttribute("x","0%"),Ee.setAttribute("y","0%"),Ee.setAttribute("width","100%"),Ee.setAttribute("height","100%")),Ee}function r(){var _e=createNS("feColorMatrix");return _e.setAttribute("type","matrix"),_e.setAttribute("color-interpolation-filters","sRGB"),_e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),_e}return t}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(t){var e,r="SourceGraphic",_e=t.data.ef?t.data.ef.length:0,Ce=createElementID(),Ee=filtersFactory.createFilter(Ce,!0),Re=0;this.filters=[];var Pe;for(e=0;e<_e;e+=1){Pe=null;var St=t.data.ef[e].ty;if(registeredEffects[St]){var Te=registeredEffects[St].effect;Pe=new Te(Ee,t.effectsManager.effectElements[e],t,idPrefix+Re,r),r=idPrefix+Re,registeredEffects[St].countsAsEffect&&(Re+=1)}Pe&&this.filters.push(Pe)}Re&&(t.globalData.defs.appendChild(Ee),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+Ce+")")),this.filters.length&&t.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)};function registerEffect(t,e,r){registeredEffects[t]={effect:e,countsAsEffect:r}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null,r,_e,Ce;if(this.data.td){if(this.data.td==3||this.data.td==1){var Ee=createNS("mask");Ee.setAttribute("id",this.layerId),Ee.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),Ee.appendChild(this.layerElement),e=Ee,this.globalData.defs.appendChild(Ee),!featureSupport.maskType&&this.data.td==1&&(Ee.setAttribute("mask-type","luminance"),r=createElementID(),_e=filtersFactory.createFilter(r),this.globalData.defs.appendChild(_e),_e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Ce=createNS("g"),Ce.appendChild(this.layerElement),e=Ce,Ee.appendChild(Ce),Ce.setAttribute("filter","url("+getLocationHref()+"#"+r+")"))}else if(this.data.td==2){var Re=createNS("mask");Re.setAttribute("id",this.layerId),Re.setAttribute("mask-type","alpha");var Pe=createNS("g");Re.appendChild(Pe),r=createElementID(),_e=filtersFactory.createFilter(r);var St=createNS("feComponentTransfer");St.setAttribute("in","SourceGraphic"),_e.appendChild(St);var Te=createNS("feFuncA");Te.setAttribute("type","table"),Te.setAttribute("tableValues","1.0 0.0"),St.appendChild(Te),this.globalData.defs.appendChild(_e);var ke=createNS("rect");ke.setAttribute("width",this.comp.data.w),ke.setAttribute("height",this.comp.data.h),ke.setAttribute("x","0"),ke.setAttribute("y","0"),ke.setAttribute("fill","#ffffff"),ke.setAttribute("opacity","0"),Pe.setAttribute("filter","url("+getLocationHref()+"#"+r+")"),Pe.appendChild(ke),Pe.appendChild(this.layerElement),e=Pe,featureSupport.maskType||(Re.setAttribute("mask-type","luminance"),_e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Ce=createNS("g"),Pe.appendChild(ke),Ce.appendChild(this.layerElement),e=Ce,Pe.appendChild(Ce)),this.globalData.defs.appendChild(Re)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var Ae=createNS("clipPath"),xe=createNS("path");xe.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var Se=createElementID();if(Ae.setAttribute("id",Se),Ae.appendChild(xe),this.globalData.defs.appendChild(Ae),this.checkMasks()){var Fe=createNS("g");Fe.setAttribute("clip-path","url("+getLocationHref()+"#"+Se+")"),Fe.appendChild(this.layerElement),this.transformedElement=Fe,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Se+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(e){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var t={initElement:function(r,_e,Ce){this.initFrame(),this.initBaseData(r,_e,Ce),this.initTransform(r,_e,Ce),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var r=this.baseElement||this.layerElement;r.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var r=this.baseElement||this.layerElement;r.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(r){this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(t)],RenderableDOMElement)})();function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(e){var r,_e=this.shapeModifiers.length;for(r=0;r<_e;r+=1)this.shapeModifiers[r].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var r=0,_e=this.shapeModifiers.length;r<_e;)if(this.shapeModifiers[r].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(!!this.shapeModifiers.length){var e,r=this.shapes.length;for(e=0;e<r;e+=1)this.shapes[e].sh.reset();r=this.shapeModifiers.length;var _e;for(e=r-1;e>=0&&(_e=this.shapeModifiers[e].processShapes(this._isFirstFrame),!_e);e-=1);}},searchProcessedElement:function(e){for(var r=this.processedElements,_e=0,Ce=r.length;_e<Ce;){if(r[_e].elem===e)return r[_e].pos;_e+=1}return 0},addProcessedElement:function(e,r){for(var _e=this.processedElements,Ce=_e.length;Ce;)if(Ce-=1,_e[Ce].elem===e){_e[Ce].pos=r;return}_e.push(new ProcessedElement(e,r))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var _e=0,Ce=t.length;_e<Ce;){if(t[_e].mProps.dynamicProperties.length){this._isAnimated=!0;break}_e+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(t,e,r,_e){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(_e);var Ce,Ee=e.length||0,Re;for(Ce=0;Ce<Ee;Ce+=1)Re=PropertyFactory.getProp(t,e[Ce].v,0,0,this),this.k=Re.k||this.k,this.dataProps[Ce]={n:e[Ce].n,p:Re};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(t){if(!(this.elem.globalData.frameId===this.frameId&&!t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<r;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=r}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(t,e,r){this.data=e,this.c=createTypedArray("uint8c",e.p*4);var _e=e.k.k[0].s?e.k.k[0].s.length-e.p*4:e.k.k.length-e.p*4;this.o=createTypedArray("float32",_e),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=_e,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,_e=this.o.length/2,Ce;r<_e;){if(Ce=Math.abs(t[r*4]-t[e*4+r*2]),Ce>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r=this.data.p*4,_e,Ce;for(e=0;e<r;e+=1)_e=e%4===0?100:255,Ce=Math.round(this.prop.v[e]*_e),this.c[e]!==Ce&&(this.c[e]=Ce,this._cmdf=!t);if(this.o.length)for(r=this.prop.v.length,e=this.data.p*4;e<r;e+=1)_e=e%2===0?100:1,Ce=e%2===0?Math.round(this.prop.v[e]*100):this.prop.v[e],this.o[e-this.data.p*4]!==Ce&&(this.o[e-this.data.p*4]=Ce,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}SVGGradientFillStyleData.prototype.initGradientData=function(t,e,r){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var r=createElementID(),_e=createNS(e.t===1?"linearGradient":"radialGradient");_e.setAttribute("id",r),_e.setAttribute("spreadMethod","pad"),_e.setAttribute("gradientUnits","userSpaceOnUse");var Ce=[],Ee,Re,Pe;for(Pe=e.g.p*4,Re=0;Re<Pe;Re+=4)Ee=createNS("stop"),_e.appendChild(Ee),Ce.push(Ee);t.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=_e,this.cst=Ce},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,_e,Ce,Ee=createNS("mask"),Re=createNS("path");Ee.appendChild(Re);var Pe=createElementID(),St=createElementID();Ee.setAttribute("id",St);var Te=createNS(t.t===1?"linearGradient":"radialGradient");Te.setAttribute("id",Pe),Te.setAttribute("spreadMethod","pad"),Te.setAttribute("gradientUnits","userSpaceOnUse"),Ce=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var ke=this.stops;for(_e=t.g.p*4;_e<Ce;_e+=2)r=createNS("stop"),r.setAttribute("stop-color","rgb(255,255,255)"),Te.appendChild(r),ke.push(r);Re.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Pe+")"),t.ty==="gs"&&(Re.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),Re.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&Re.setAttribute("stroke-miterlimit",t.ml)),this.of=Te,this.ms=Ee,this.ost=ke,this.maskId=St,e.msElem=Re}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(e,r,_e,Ce){if(r===0)return"";var Ee=e.o,Re=e.i,Pe=e.v,St,Te=" M"+Ce.applyToPointStringified(Pe[0][0],Pe[0][1]);for(St=1;St<r;St+=1)Te+=" C"+Ce.applyToPointStringified(Ee[St-1][0],Ee[St-1][1])+" "+Ce.applyToPointStringified(Re[St][0],Re[St][1])+" "+Ce.applyToPointStringified(Pe[St][0],Pe[St][1]);return _e&&r&&(Te+=" C"+Ce.applyToPointStringified(Ee[St-1][0],Ee[St-1][1])+" "+Ce.applyToPointStringified(Re[0][0],Re[0][1])+" "+Ce.applyToPointStringified(Pe[0][0],Pe[0][1]),Te+="z"),Te},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix,r={createRenderFunction:_e};function _e(Ae){switch(Ae.ty){case"fl":return Pe;case"gf":return Te;case"gs":return St;case"st":return ke;case"sh":case"el":case"rc":case"sr":return Re;case"tr":return Ce;case"no":return Ee;default:return null}}function Ce(Ae,xe,Se){(Se||xe.transform.op._mdf)&&xe.transform.container.setAttribute("opacity",xe.transform.op.v),(Se||xe.transform.mProps._mdf)&&xe.transform.container.setAttribute("transform",xe.transform.mProps.v.to2dCSS())}function Ee(){}function Re(Ae,xe,Se){var Fe,Ie,Me,Oe,De,Be,je=xe.styles.length,ze=xe.lvl,Ge,We,Ue,hr,xr;for(Be=0;Be<je;Be+=1){if(Oe=xe.sh._mdf||Se,xe.styles[Be].lvl<ze){for(We=e.reset(),hr=ze-xe.styles[Be].lvl,xr=xe.transformers.length-1;!Oe&&hr>0;)Oe=xe.transformers[xr].mProps._mdf||Oe,hr-=1,xr-=1;if(Oe)for(hr=ze-xe.styles[Be].lvl,xr=xe.transformers.length-1;hr>0;)Ue=xe.transformers[xr].mProps.v.props,We.transform(Ue[0],Ue[1],Ue[2],Ue[3],Ue[4],Ue[5],Ue[6],Ue[7],Ue[8],Ue[9],Ue[10],Ue[11],Ue[12],Ue[13],Ue[14],Ue[15]),hr-=1,xr-=1}else We=t;if(Ge=xe.sh.paths,Ie=Ge._length,Oe){for(Me="",Fe=0;Fe<Ie;Fe+=1)De=Ge.shapes[Fe],De&&De._length&&(Me+=buildShapeString(De,De._length,De.c,We));xe.caches[Be]=Me}else Me=xe.caches[Be];xe.styles[Be].d+=Ae.hd===!0?"":Me,xe.styles[Be]._mdf=Oe||xe.styles[Be]._mdf}}function Pe(Ae,xe,Se){var Fe=xe.style;(xe.c._mdf||Se)&&Fe.pElem.setAttribute("fill","rgb("+bmFloor(xe.c.v[0])+","+bmFloor(xe.c.v[1])+","+bmFloor(xe.c.v[2])+")"),(xe.o._mdf||Se)&&Fe.pElem.setAttribute("fill-opacity",xe.o.v)}function St(Ae,xe,Se){Te(Ae,xe,Se),ke(Ae,xe,Se)}function Te(Ae,xe,Se){var Fe=xe.gf,Ie=xe.g._hasOpacity,Me=xe.s.v,Oe=xe.e.v;if(xe.o._mdf||Se){var De=Ae.ty==="gf"?"fill-opacity":"stroke-opacity";xe.style.pElem.setAttribute(De,xe.o.v)}if(xe.s._mdf||Se){var Be=Ae.t===1?"x1":"cx",je=Be==="x1"?"y1":"cy";Fe.setAttribute(Be,Me[0]),Fe.setAttribute(je,Me[1]),Ie&&!xe.g._collapsable&&(xe.of.setAttribute(Be,Me[0]),xe.of.setAttribute(je,Me[1]))}var ze,Ge,We,Ue;if(xe.g._cmdf||Se){ze=xe.cst;var hr=xe.g.c;for(We=ze.length,Ge=0;Ge<We;Ge+=1)Ue=ze[Ge],Ue.setAttribute("offset",hr[Ge*4]+"%"),Ue.setAttribute("stop-color","rgb("+hr[Ge*4+1]+","+hr[Ge*4+2]+","+hr[Ge*4+3]+")")}if(Ie&&(xe.g._omdf||Se)){var xr=xe.g.o;for(xe.g._collapsable?ze=xe.cst:ze=xe.ost,We=ze.length,Ge=0;Ge<We;Ge+=1)Ue=ze[Ge],xe.g._collapsable||Ue.setAttribute("offset",xr[Ge*2]+"%"),Ue.setAttribute("stop-opacity",xr[Ge*2+1])}if(Ae.t===1)(xe.e._mdf||Se)&&(Fe.setAttribute("x2",Oe[0]),Fe.setAttribute("y2",Oe[1]),Ie&&!xe.g._collapsable&&(xe.of.setAttribute("x2",Oe[0]),xe.of.setAttribute("y2",Oe[1])));else{var rr;if((xe.s._mdf||xe.e._mdf||Se)&&(rr=Math.sqrt(Math.pow(Me[0]-Oe[0],2)+Math.pow(Me[1]-Oe[1],2)),Fe.setAttribute("r",rr),Ie&&!xe.g._collapsable&&xe.of.setAttribute("r",rr)),xe.e._mdf||xe.h._mdf||xe.a._mdf||Se){rr||(rr=Math.sqrt(Math.pow(Me[0]-Oe[0],2)+Math.pow(Me[1]-Oe[1],2)));var er=Math.atan2(Oe[1]-Me[1],Oe[0]-Me[0]),vr=xe.h.v;vr>=1?vr=.99:vr<=-1&&(vr=-.99);var gr=rr*vr,br=Math.cos(er+xe.a.v)*gr+Me[0],sr=Math.sin(er+xe.a.v)*gr+Me[1];Fe.setAttribute("fx",br),Fe.setAttribute("fy",sr),Ie&&!xe.g._collapsable&&(xe.of.setAttribute("fx",br),xe.of.setAttribute("fy",sr))}}}function ke(Ae,xe,Se){var Fe=xe.style,Ie=xe.d;Ie&&(Ie._mdf||Se)&&Ie.dashStr&&(Fe.pElem.setAttribute("stroke-dasharray",Ie.dashStr),Fe.pElem.setAttribute("stroke-dashoffset",Ie.dashoffset[0])),xe.c&&(xe.c._mdf||Se)&&Fe.pElem.setAttribute("stroke","rgb("+bmFloor(xe.c.v[0])+","+bmFloor(xe.c.v[1])+","+bmFloor(xe.c.v[2])+")"),(xe.o._mdf||Se)&&Fe.pElem.setAttribute("stroke-opacity",xe.o.v),(xe.w._mdf||Se)&&(Fe.pElem.setAttribute("stroke-width",xe.w.v),Fe.msElem&&Fe.msElem.setAttribute("stroke-width",xe.w.v))}return r}();function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e=this.shapes.length,r,_e,Ce=this.stylesList.length,Ee,Re=[],Pe=!1;for(_e=0;_e<Ce;_e+=1){for(Ee=this.stylesList[_e],Pe=!1,Re.length=0,t=0;t<e;t+=1)r=this.shapes[t],r.styles.indexOf(Ee)!==-1&&(Re.push(r),Pe=r._isAnimated||Pe);Re.length>1&&Pe&&this.setShapesAsAnimated(Re)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,_e=new SVGStyleData(t,e),Ce=_e.pElem;if(t.ty==="st")r=new SVGStrokeStyleData(this,t,_e);else if(t.ty==="fl")r=new SVGFillStyleData(this,t,_e);else if(t.ty==="gf"||t.ty==="gs"){var Ee=t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;r=new Ee(this,t,_e),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),Ce.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))}else t.ty==="no"&&(r=new SVGNoStyleData(this,t,_e));return(t.ty==="st"||t.ty==="gs")&&(Ce.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),Ce.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),Ce.setAttribute("fill-opacity","0"),t.lj===1&&Ce.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&Ce.setAttribute("fill-rule","evenodd"),t.ln&&Ce.setAttribute("id",t.ln),t.cl&&Ce.setAttribute("class",t.cl),t.bm&&(Ce.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(_e),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),_e=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,_e),_e},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var _e=4;t.ty==="rc"?_e=5:t.ty==="el"?_e=6:t.ty==="sr"&&(_e=7);var Ce=ShapePropertyFactory.getShapeProp(this,t,_e,this),Ee=new SVGShapeData(e,r,Ce);return this.shapes.push(Ee),this.addShapeToModifiers(Ee),this.addToAnimatedContents(t,Ee),Ee},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,_e=this.animatedContents.length;r<_e;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e=t.styles,r,_e=this.stylesList.length;for(r=0;r<_e;r+=1)this.stylesList[r].closed||e.push(this.stylesList[r])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,_e,Ce,Ee,Re){var Pe=[].concat(Ee),St,Te=t.length-1,ke,Ae,xe=[],Se=[],Fe,Ie,Me;for(St=Te;St>=0;St-=1){if(Me=this.searchProcessedElement(t[St]),Me?e[St]=r[Me-1]:t[St]._render=Re,t[St].ty==="fl"||t[St].ty==="st"||t[St].ty==="gf"||t[St].ty==="gs"||t[St].ty==="no")Me?e[St].style.closed=!1:e[St]=this.createStyleElement(t[St],Ce),t[St]._render&&e[St].style.pElem.parentNode!==_e&&_e.appendChild(e[St].style.pElem),xe.push(e[St].style);else if(t[St].ty==="gr"){if(!Me)e[St]=this.createGroupElement(t[St]);else for(Ae=e[St].it.length,ke=0;ke<Ae;ke+=1)e[St].prevViewData[ke]=e[St].it[ke];this.searchShapes(t[St].it,e[St].it,e[St].prevViewData,e[St].gr,Ce+1,Pe,Re),t[St]._render&&e[St].gr.parentNode!==_e&&_e.appendChild(e[St].gr)}else t[St].ty==="tr"?(Me||(e[St]=this.createTransformElement(t[St],_e)),Fe=e[St].transform,Pe.push(Fe)):t[St].ty==="sh"||t[St].ty==="rc"||t[St].ty==="el"||t[St].ty==="sr"?(Me||(e[St]=this.createShapeElement(t[St],Pe,Ce)),this.setElementStyles(e[St])):t[St].ty==="tm"||t[St].ty==="rd"||t[St].ty==="ms"||t[St].ty==="pb"?(Me?(Ie=e[St],Ie.closed=!1):(Ie=ShapeModifiers.getModifier(t[St].ty),Ie.init(this,t[St]),e[St]=Ie,this.shapeModifiers.push(Ie)),Se.push(Ie)):t[St].ty==="rp"&&(Me?(Ie=e[St],Ie.closed=!0):(Ie=ShapeModifiers.getModifier(t[St].ty),e[St]=Ie,Ie.init(this,t,St,e),this.shapeModifiers.push(Ie),Re=!1),Se.push(Ie));this.addProcessedElement(t[St],St+1)}for(Te=xe.length,St=0;St<Te;St+=1)xe[St].closed=!0;for(Te=Se.length,St=0;St<Te;St+=1)Se[St].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e=this.animatedContents.length,r;for(t=0;t<e;t+=1)r=this.animatedContents[t],(this._isFirstFrame||r.element._isAnimated)&&r.data!==!0&&r.fn(r.data,r.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(t,e,r,_e,Ce,Ee){this.o=t,this.sw=e,this.sc=r,this.fc=_e,this.m=Ce,this.p=Ee,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!_e,m:!0,p:!0}}LetterProps.prototype.update=function(t,e,r,_e,Ce,Ee){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var Re=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,Re=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,Re=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,Re=!0),this.fc!==_e&&(this.fc=_e,this._mdf.fc=!0,Re=!0),this.m!==Ce&&(this.m=Ce,this._mdf.m=!0,Re=!0),Ee.length&&(this.p[0]!==Ee[0]||this.p[1]!==Ee[1]||this.p[4]!==Ee[4]||this.p[5]!==Ee[5]||this.p[12]!==Ee[12]||this.p[13]!==Ee[13])&&(this.p=Ee,this._mdf.p=!0,Re=!0),Re};function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!t)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var _e,Ce=this.effectsSequence.length,Ee=t||this.data.d.k[this.keysIndex].s;for(_e=0;_e<Ce;_e+=1)r!==this.keysIndex?Ee=this.effectsSequence[_e](Ee,Ee.t):Ee=this.effectsSequence[_e](this.currentData,Ee.t);e!==Ee&&this.setCurrentData(Ee),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,_e=t.length;r<=_e-1&&!(r===_e-1||t[r+1].t>e);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e=[],r=0,_e=t.length,Ce,Ee,Re=!1;r<_e;)Ce=t.charCodeAt(r),FontManager.isCombinedCharacter(Ce)?e[e.length-1]+=t.charAt(r):Ce>=55296&&Ce<=56319?(Ee=t.charCodeAt(r+1),Ee>=56320&&Ee<=57343?(Re||FontManager.isModifier(Ce,Ee)?(e[e.length-1]+=t.substr(r,2),Re=!1):e.push(t.substr(r,2)),r+=1):e.push(t.charAt(r))):Ce>56319?(Ee=t.charCodeAt(r+1),FontManager.isZeroWidthJoiner(Ce,Ee)?(Re=!0,e[e.length-1]+=t.substr(r,2),r+=1):e.push(t.charAt(r))):FontManager.isZeroWidthJoiner(Ce)?(e[e.length-1]+=t.charAt(r),Re=!0):e.push(t.charAt(r)),r+=1;return e},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e=this.elem.globalData.fontManager,r=this.data,_e=[],Ce,Ee,Re,Pe=0,St,Te=r.m.g,ke=0,Ae=0,xe=0,Se=[],Fe=0,Ie=0,Me,Oe,De=e.getFontByName(t.f),Be,je=0,ze=getFontProperties(De);t.fWeight=ze.weight,t.fStyle=ze.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),Ee=t.finalText.length,t.finalLineHeight=t.lh;var Ge=t.tr/1e3*t.finalSize,We;if(t.sz)for(var Ue=!0,hr=t.sz[0],xr=t.sz[1],rr,er;Ue;){er=this.buildFinalText(t.t),rr=0,Fe=0,Ee=er.length,Ge=t.tr/1e3*t.finalSize;var vr=-1;for(Ce=0;Ce<Ee;Ce+=1)We=er[Ce].charCodeAt(0),Re=!1,er[Ce]===" "?vr=Ce:(We===13||We===3)&&(Fe=0,Re=!0,rr+=t.finalLineHeight||t.finalSize*1.2),e.chars?(Be=e.getCharData(er[Ce],De.fStyle,De.fFamily),je=Re?0:Be.w*t.finalSize/100):je=e.measureText(er[Ce],t.f,t.finalSize),Fe+je>hr&&er[Ce]!==" "?(vr===-1?Ee+=1:Ce=vr,rr+=t.finalLineHeight||t.finalSize*1.2,er.splice(Ce,vr===Ce?1:0,"\r"),vr=-1,Fe=0):(Fe+=je,Fe+=Ge);rr+=De.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&xr<rr?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=er,Ee=t.finalText.length,Ue=!1)}Fe=-Ge,je=0;var gr=0,br;for(Ce=0;Ce<Ee;Ce+=1)if(Re=!1,br=t.finalText[Ce],We=br.charCodeAt(0),We===13||We===3?(gr=0,Se.push(Fe),Ie=Fe>Ie?Fe:Ie,Fe=-2*Ge,St="",Re=!0,xe+=1):St=br,e.chars?(Be=e.getCharData(br,De.fStyle,e.getFontByName(t.f).fFamily),je=Re?0:Be.w*t.finalSize/100):je=e.measureText(St,t.f,t.finalSize),br===" "?gr+=je+Ge:(Fe+=je+Ge+gr,gr=0),_e.push({l:je,an:je,add:ke,n:Re,anIndexes:[],val:St,line:xe,animatorJustifyOffset:0}),Te==2){if(ke+=je,St===""||St===" "||Ce===Ee-1){for((St===""||St===" ")&&(ke-=je);Ae<=Ce;)_e[Ae].an=ke,_e[Ae].ind=Pe,_e[Ae].extra=je,Ae+=1;Pe+=1,ke=0}}else if(Te==3){if(ke+=je,St===""||Ce===Ee-1){for(St===""&&(ke-=je);Ae<=Ce;)_e[Ae].an=ke,_e[Ae].ind=Pe,_e[Ae].extra=je,Ae+=1;ke=0,Pe+=1}}else _e[Pe].ind=Pe,_e[Pe].extra=0,Pe+=1;if(t.l=_e,Ie=Fe>Ie?Fe:Ie,Se.push(Fe),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=Ie,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=Se;var sr=r.a,nr,Je;Oe=sr.length;var $e,tr,ir=[];for(Me=0;Me<Oe;Me+=1){for(nr=sr[Me],nr.a.sc&&(t.strokeColorAnim=!0),nr.a.sw&&(t.strokeWidthAnim=!0),(nr.a.fc||nr.a.fh||nr.a.fs||nr.a.fb)&&(t.fillColorAnim=!0),tr=0,$e=nr.s.b,Ce=0;Ce<Ee;Ce+=1)Je=_e[Ce],Je.anIndexes[Me]=tr,($e==1&&Je.val!==""||$e==2&&Je.val!==""&&Je.val!==" "||$e==3&&(Je.n||Je.val==" "||Ce==Ee-1)||$e==4&&(Je.n||Ce==Ee-1))&&(nr.s.rn===1&&ir.push(tr),tr+=1);r.a[Me].s.totalChars=tr;var Xe=-1,cr;if(nr.s.rn===1)for(Ce=0;Ce<Ee;Ce+=1)Je=_e[Ce],Xe!=Je.anIndexes[Me]&&(Xe=Je.anIndexes[Me],cr=ir.splice(Math.floor(Math.random()*ir.length),1)[0]),Je.anIndexes[Me]=cr}t.yOffset=t.finalLineHeight||t.finalSize*1.2,t.ls=t.ls||0,t.ascent=De.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=e===void 0?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function _e(Ee,Re){this._currentTextLength=-1,this.k=!1,this.data=Re,this.elem=Ee,this.comp=Ee.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(Ee),this.s=PropertyFactory.getProp(Ee,Re.s||{k:0},0,0,this),"e"in Re?this.e=PropertyFactory.getProp(Ee,Re.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(Ee,Re.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(Ee,Re.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(Ee,Re.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(Ee,Re.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(Ee,Re.a,0,.01,this),this.dynamicProperties.length||this.getValue()}_e.prototype={getMult:function(Re){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var Pe=0,St=0,Te=1,ke=1;this.ne.v>0?Pe=this.ne.v/100:St=-this.ne.v/100,this.xe.v>0?Te=1-this.xe.v/100:ke=1+this.xe.v/100;var Ae=BezierFactory.getBezierEasing(Pe,St,Te,ke).get,xe=0,Se=this.finalS,Fe=this.finalE,Ie=this.data.sh;if(Ie===2)Fe===Se?xe=Re>=Fe?1:0:xe=t(0,e(.5/(Fe-Se)+(Re-Se)/(Fe-Se),1)),xe=Ae(xe);else if(Ie===3)Fe===Se?xe=Re>=Fe?0:1:xe=1-t(0,e(.5/(Fe-Se)+(Re-Se)/(Fe-Se),1)),xe=Ae(xe);else if(Ie===4)Fe===Se?xe=0:(xe=t(0,e(.5/(Fe-Se)+(Re-Se)/(Fe-Se),1)),xe<.5?xe*=2:xe=1-2*(xe-.5)),xe=Ae(xe);else if(Ie===5){if(Fe===Se)xe=0;else{var Me=Fe-Se;Re=e(t(0,Re+.5-Se),Fe-Se);var Oe=-Me/2+Re,De=Me/2;xe=Math.sqrt(1-Oe*Oe/(De*De))}xe=Ae(xe)}else Ie===6?(Fe===Se?xe=0:(Re=e(t(0,Re+.5-Se),Fe-Se),xe=(1+Math.cos(Math.PI+Math.PI*2*Re/(Fe-Se)))/2),xe=Ae(xe)):(Re>=r(Se)&&(Re-Se<0?xe=t(0,e(e(Fe,1)-(Se-Re),1)):xe=t(0,e(Fe-Re,1))),xe=Ae(xe));if(this.sm.v!==100){var Be=this.sm.v*.01;Be===0&&(Be=1e-8);var je=.5-Be*.5;xe<je?xe=0:(xe=(xe-je)/Be,xe>1&&(xe=1))}return xe*this.a.v},getValue:function(Re){this.iterateDynamicProperties(),this._mdf=Re||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,Re&&this.data.r===2&&(this.e.v=this._currentTextLength);var Pe=this.data.r===2?1:100/this.data.totalChars,St=this.o.v/Pe,Te=this.s.v/Pe+St,ke=this.e.v/Pe+St;if(Te>ke){var Ae=Te;Te=ke,ke=Ae}this.finalS=Te,this.finalE=ke}},extendPrototype([DynamicPropertyContainer],_e);function Ce(Ee,Re,Pe){return new _e(Ee,Re)}return{getTextSelectorProp:Ce}}();function TextAnimatorDataProperty(t,e,r){var _e={propType:!1},Ce=PropertyFactory.getProp,Ee=e.a;this.a={r:Ee.r?Ce(t,Ee.r,0,degToRads,r):_e,rx:Ee.rx?Ce(t,Ee.rx,0,degToRads,r):_e,ry:Ee.ry?Ce(t,Ee.ry,0,degToRads,r):_e,sk:Ee.sk?Ce(t,Ee.sk,0,degToRads,r):_e,sa:Ee.sa?Ce(t,Ee.sa,0,degToRads,r):_e,s:Ee.s?Ce(t,Ee.s,1,.01,r):_e,a:Ee.a?Ce(t,Ee.a,1,0,r):_e,o:Ee.o?Ce(t,Ee.o,0,.01,r):_e,p:Ee.p?Ce(t,Ee.p,1,0,r):_e,sw:Ee.sw?Ce(t,Ee.sw,0,0,r):_e,sc:Ee.sc?Ce(t,Ee.sc,1,0,r):_e,fc:Ee.fc?Ce(t,Ee.fc,1,0,r):_e,fh:Ee.fh?Ce(t,Ee.fh,0,0,r):_e,fs:Ee.fs?Ce(t,Ee.fs,0,.01,r):_e,fb:Ee.fb?Ce(t,Ee.fb,0,.01,r):_e,t:Ee.t?Ce(t,Ee.t,0,0,r):_e},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e=this._textData.a.length,r,_e=PropertyFactory.getProp;for(t=0;t<e;t+=1)r=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,r,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:_e(this._elem,this._textData.p.a,0,0,this),f:_e(this._elem,this._textData.p.f,0,0,this),l:_e(this._elem,this._textData.p.l,0,0,this),r:_e(this._elem,this._textData.p.r,0,0,this),p:_e(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=_e(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,!(!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var r=this._moreOptions.alignment.v,_e=this._animatorsData,Ce=this._textData,Ee=this.mHelper,Re=this._renderType,Pe=this.renderedLetters.length,St,Te,ke,Ae,xe=t.l,Se,Fe,Ie,Me,Oe,De,Be,je,ze,Ge,We,Ue,hr,xr,rr;if(this._hasMaskedPath){if(rr=this._pathData.m,!this._pathData.n||this._pathData._mdf){var er=rr.v;this._pathData.r.v&&(er=er.reverse()),Se={tLength:0,segments:[]},Ae=er._length-1;var vr;for(Ue=0,ke=0;ke<Ae;ke+=1)vr=bez.buildBezierData(er.v[ke],er.v[ke+1],[er.o[ke][0]-er.v[ke][0],er.o[ke][1]-er.v[ke][1]],[er.i[ke+1][0]-er.v[ke+1][0],er.i[ke+1][1]-er.v[ke+1][1]]),Se.tLength+=vr.segmentLength,Se.segments.push(vr),Ue+=vr.segmentLength;ke=Ae,rr.v.c&&(vr=bez.buildBezierData(er.v[ke],er.v[0],[er.o[ke][0]-er.v[ke][0],er.o[ke][1]-er.v[ke][1]],[er.i[0][0]-er.v[0][0],er.i[0][1]-er.v[0][1]]),Se.tLength+=vr.segmentLength,Se.segments.push(vr),Ue+=vr.segmentLength),this._pathData.pi=Se}if(Se=this._pathData.pi,Fe=this._pathData.f.v,Be=0,De=1,Me=0,Oe=!0,Ge=Se.segments,Fe<0&&rr.v.c)for(Se.tLength<Math.abs(Fe)&&(Fe=-Math.abs(Fe)%Se.tLength),Be=Ge.length-1,ze=Ge[Be].points,De=ze.length-1;Fe<0;)Fe+=ze[De].partialLength,De-=1,De<0&&(Be-=1,ze=Ge[Be].points,De=ze.length-1);ze=Ge[Be].points,je=ze[De-1],Ie=ze[De],We=Ie.partialLength}Ae=xe.length,St=0,Te=0;var gr=t.finalSize*1.2*.714,br=!0,sr,nr,Je,$e,tr;$e=_e.length;var ir,Xe=-1,cr,Qe,Ke,lr=Fe,mr=Be,Ar=De,Pr=-1,Rr,Ir,ur,ar,Sr,wr,or,kr,Or="",Lr=this.defaultPropsArray,Dr;if(t.j===2||t.j===1){var Nr=0,Mr=0,Gr=t.j===2?-.5:-1,Yr=0,$r=!0;for(ke=0;ke<Ae;ke+=1)if(xe[ke].n){for(Nr&&(Nr+=Mr);Yr<ke;)xe[Yr].animatorJustifyOffset=Nr,Yr+=1;Nr=0,$r=!0}else{for(Je=0;Je<$e;Je+=1)sr=_e[Je].a,sr.t.propType&&($r&&t.j===2&&(Mr+=sr.t.v*Gr),nr=_e[Je].s,ir=nr.getMult(xe[ke].anIndexes[Je],Ce.a[Je].s.totalChars),ir.length?Nr+=sr.t.v*ir[0]*Gr:Nr+=sr.t.v*ir*Gr);$r=!1}for(Nr&&(Nr+=Mr);Yr<ke;)xe[Yr].animatorJustifyOffset=Nr,Yr+=1}for(ke=0;ke<Ae;ke+=1){if(Ee.reset(),Rr=1,xe[ke].n)St=0,Te+=t.yOffset,Te+=br?1:0,Fe=lr,br=!1,this._hasMaskedPath&&(Be=mr,De=Ar,ze=Ge[Be].points,je=ze[De-1],Ie=ze[De],We=Ie.partialLength,Me=0),Or="",kr="",wr="",Dr="",Lr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Pr!==xe[ke].line){switch(t.j){case 1:Fe+=Ue-t.lineWidths[xe[ke].line];break;case 2:Fe+=(Ue-t.lineWidths[xe[ke].line])/2;break}Pr=xe[ke].line}Xe!==xe[ke].ind&&(xe[Xe]&&(Fe+=xe[Xe].extra),Fe+=xe[ke].an/2,Xe=xe[ke].ind),Fe+=r[0]*xe[ke].an*.005;var ti=0;for(Je=0;Je<$e;Je+=1)sr=_e[Je].a,sr.p.propType&&(nr=_e[Je].s,ir=nr.getMult(xe[ke].anIndexes[Je],Ce.a[Je].s.totalChars),ir.length?ti+=sr.p.v[0]*ir[0]:ti+=sr.p.v[0]*ir),sr.a.propType&&(nr=_e[Je].s,ir=nr.getMult(xe[ke].anIndexes[Je],Ce.a[Je].s.totalChars),ir.length?ti+=sr.a.v[0]*ir[0]:ti+=sr.a.v[0]*ir);for(Oe=!0,this._pathData.a.v&&(Fe=xe[0].an*.5+(Ue-this._pathData.f.v-xe[0].an*.5-xe[xe.length-1].an*.5)*Xe/(Ae-1),Fe+=this._pathData.f.v);Oe;)Me+We>=Fe+ti||!ze?(hr=(Fe+ti-Me)/Ie.partialLength,Qe=je.point[0]+(Ie.point[0]-je.point[0])*hr,Ke=je.point[1]+(Ie.point[1]-je.point[1])*hr,Ee.translate(-r[0]*xe[ke].an*.005,-(r[1]*gr)*.01),Oe=!1):ze&&(Me+=Ie.partialLength,De+=1,De>=ze.length&&(De=0,Be+=1,Ge[Be]?ze=Ge[Be].points:rr.v.c?(De=0,Be=0,ze=Ge[Be].points):(Me-=Ie.partialLength,ze=null)),ze&&(je=Ie,Ie=ze[De],We=Ie.partialLength));cr=xe[ke].an/2-xe[ke].add,Ee.translate(-cr,0,0)}else cr=xe[ke].an/2-xe[ke].add,Ee.translate(-cr,0,0),Ee.translate(-r[0]*xe[ke].an*.005,-r[1]*gr*.01,0);for(Je=0;Je<$e;Je+=1)sr=_e[Je].a,sr.t.propType&&(nr=_e[Je].s,ir=nr.getMult(xe[ke].anIndexes[Je],Ce.a[Je].s.totalChars),(St!==0||t.j!==0)&&(this._hasMaskedPath?ir.length?Fe+=sr.t.v*ir[0]:Fe+=sr.t.v*ir:ir.length?St+=sr.t.v*ir[0]:St+=sr.t.v*ir));for(t.strokeWidthAnim&&(ur=t.sw||0),t.strokeColorAnim&&(t.sc?Ir=[t.sc[0],t.sc[1],t.sc[2]]:Ir=[0,0,0]),t.fillColorAnim&&t.fc&&(ar=[t.fc[0],t.fc[1],t.fc[2]]),Je=0;Je<$e;Je+=1)sr=_e[Je].a,sr.a.propType&&(nr=_e[Je].s,ir=nr.getMult(xe[ke].anIndexes[Je],Ce.a[Je].s.totalChars),ir.length?Ee.translate(-sr.a.v[0]*ir[0],-sr.a.v[1]*ir[1],sr.a.v[2]*ir[2]):Ee.translate(-sr.a.v[0]*ir,-sr.a.v[1]*ir,sr.a.v[2]*ir));for(Je=0;Je<$e;Je+=1)sr=_e[Je].a,sr.s.propType&&(nr=_e[Je].s,ir=nr.getMult(xe[ke].anIndexes[Je],Ce.a[Je].s.totalChars),ir.length?Ee.scale(1+(sr.s.v[0]-1)*ir[0],1+(sr.s.v[1]-1)*ir[1],1):Ee.scale(1+(sr.s.v[0]-1)*ir,1+(sr.s.v[1]-1)*ir,1));for(Je=0;Je<$e;Je+=1){if(sr=_e[Je].a,nr=_e[Je].s,ir=nr.getMult(xe[ke].anIndexes[Je],Ce.a[Je].s.totalChars),sr.sk.propType&&(ir.length?Ee.skewFromAxis(-sr.sk.v*ir[0],sr.sa.v*ir[1]):Ee.skewFromAxis(-sr.sk.v*ir,sr.sa.v*ir)),sr.r.propType&&(ir.length?Ee.rotateZ(-sr.r.v*ir[2]):Ee.rotateZ(-sr.r.v*ir)),sr.ry.propType&&(ir.length?Ee.rotateY(sr.ry.v*ir[1]):Ee.rotateY(sr.ry.v*ir)),sr.rx.propType&&(ir.length?Ee.rotateX(sr.rx.v*ir[0]):Ee.rotateX(sr.rx.v*ir)),sr.o.propType&&(ir.length?Rr+=(sr.o.v*ir[0]-Rr)*ir[0]:Rr+=(sr.o.v*ir-Rr)*ir),t.strokeWidthAnim&&sr.sw.propType&&(ir.length?ur+=sr.sw.v*ir[0]:ur+=sr.sw.v*ir),t.strokeColorAnim&&sr.sc.propType)for(Sr=0;Sr<3;Sr+=1)ir.length?Ir[Sr]+=(sr.sc.v[Sr]-Ir[Sr])*ir[0]:Ir[Sr]+=(sr.sc.v[Sr]-Ir[Sr])*ir;if(t.fillColorAnim&&t.fc){if(sr.fc.propType)for(Sr=0;Sr<3;Sr+=1)ir.length?ar[Sr]+=(sr.fc.v[Sr]-ar[Sr])*ir[0]:ar[Sr]+=(sr.fc.v[Sr]-ar[Sr])*ir;sr.fh.propType&&(ir.length?ar=addHueToRGB(ar,sr.fh.v*ir[0]):ar=addHueToRGB(ar,sr.fh.v*ir)),sr.fs.propType&&(ir.length?ar=addSaturationToRGB(ar,sr.fs.v*ir[0]):ar=addSaturationToRGB(ar,sr.fs.v*ir)),sr.fb.propType&&(ir.length?ar=addBrightnessToRGB(ar,sr.fb.v*ir[0]):ar=addBrightnessToRGB(ar,sr.fb.v*ir))}}for(Je=0;Je<$e;Je+=1)sr=_e[Je].a,sr.p.propType&&(nr=_e[Je].s,ir=nr.getMult(xe[ke].anIndexes[Je],Ce.a[Je].s.totalChars),this._hasMaskedPath?ir.length?Ee.translate(0,sr.p.v[1]*ir[0],-sr.p.v[2]*ir[1]):Ee.translate(0,sr.p.v[1]*ir,-sr.p.v[2]*ir):ir.length?Ee.translate(sr.p.v[0]*ir[0],sr.p.v[1]*ir[1],-sr.p.v[2]*ir[2]):Ee.translate(sr.p.v[0]*ir,sr.p.v[1]*ir,-sr.p.v[2]*ir));if(t.strokeWidthAnim&&(wr=ur<0?0:ur),t.strokeColorAnim&&(or="rgb("+Math.round(Ir[0]*255)+","+Math.round(Ir[1]*255)+","+Math.round(Ir[2]*255)+")"),t.fillColorAnim&&t.fc&&(kr="rgb("+Math.round(ar[0]*255)+","+Math.round(ar[1]*255)+","+Math.round(ar[2]*255)+")"),this._hasMaskedPath){if(Ee.translate(0,-t.ls),Ee.translate(0,r[1]*gr*.01+Te,0),this._pathData.p.v){xr=(Ie.point[1]-je.point[1])/(Ie.point[0]-je.point[0]);var ri=Math.atan(xr)*180/Math.PI;Ie.point[0]<je.point[0]&&(ri+=180),Ee.rotate(-ri*Math.PI/180)}Ee.translate(Qe,Ke,0),Fe-=r[0]*xe[ke].an*.005,xe[ke+1]&&Xe!==xe[ke+1].ind&&(Fe+=xe[ke].an/2,Fe+=t.tr*.001*t.finalSize)}else{switch(Ee.translate(St,Te,0),t.ps&&Ee.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:Ee.translate(xe[ke].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[xe[ke].line]),0,0);break;case 2:Ee.translate(xe[ke].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[xe[ke].line])/2,0,0);break}Ee.translate(0,-t.ls),Ee.translate(cr,0,0),Ee.translate(r[0]*xe[ke].an*.005,r[1]*gr*.01,0),St+=xe[ke].l+t.tr*.001*t.finalSize}Re==="html"?Or=Ee.toCSS():Re==="svg"?Or=Ee.to2dCSS():Lr=[Ee.props[0],Ee.props[1],Ee.props[2],Ee.props[3],Ee.props[4],Ee.props[5],Ee.props[6],Ee.props[7],Ee.props[8],Ee.props[9],Ee.props[10],Ee.props[11],Ee.props[12],Ee.props[13],Ee.props[14],Ee.props[15]],Dr=Rr}Pe<=ke?(tr=new LetterProps(Dr,wr,or,kr,Or,Lr),this.renderedLetters.push(tr),Pe+=1,this.lettersChangedFlag=!0):(tr=this.renderedLetters[ke],this.lettersChangedFlag=tr.update(Dr,wr,or,kr,Or,Lr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var r,_e=e.length,Ce,Ee="";for(r=0;r<_e;r+=1)e[r].ty==="sh"&&(Ce=e[r].ks.k,Ee+=buildShapeString(Ce,Ce.i.length,!0,t));return Ee},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,_e,Ce){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0);break}e.translate(_e,Ce,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(t[0]*255)+","+Math.round(t[1]*255)+","+Math.round(t[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,r){this.textSpans=[],this.renderType="svg",this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,r=t.length,_e=[],Ce="";e<r;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(_e.push(Ce),Ce=""):Ce+=t[e],e+=1;return _e.push(Ce),_e},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var r=t.shapes[0];if(r.it){var _e=r.it[r.it.length-1];_e.s&&(_e.s.k[0]=e,_e.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var t,e,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var _e=this.globalData.fontManager.getFontByName(r.f);if(_e.fClass)this.layerElement.setAttribute("class",_e.fClass);else{this.layerElement.setAttribute("font-family",_e.fFamily);var Ce=r.fWeight,Ee=r.fStyle;this.layerElement.setAttribute("font-style",Ee),this.layerElement.setAttribute("font-weight",Ce)}this.layerElement.setAttribute("aria-label",r.t);var Re=r.l||[],Pe=!!this.globalData.fontManager.chars;e=Re.length;var St,Te=this.mHelper,ke="",Ae=this.data.singleShape,xe=0,Se=0,Fe=!0,Ie=r.tr*.001*r.finalSize;if(Ae&&!Pe&&!r.sz){var Me=this.textContainer,Oe="start";switch(r.j){case 1:Oe="end";break;case 2:Oe="middle";break;default:Oe="start";break}Me.setAttribute("text-anchor",Oe),Me.setAttribute("letter-spacing",Ie);var De=this.buildTextContents(r.finalText);for(e=De.length,Se=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)St=this.textSpans[t].span||createNS("tspan"),St.textContent=De[t],St.setAttribute("x",0),St.setAttribute("y",Se),St.style.display="inherit",Me.appendChild(St),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=St,Se+=r.finalLineHeight;this.layerElement.appendChild(Me)}else{var Be=this.textSpans.length,je;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!Pe||!Ae||t===0){if(St=Be>t?this.textSpans[t].span:createNS(Pe?"g":"text"),Be<=t){if(St.setAttribute("stroke-linecap","butt"),St.setAttribute("stroke-linejoin","round"),St.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=St,Pe){var ze=createNS("g");St.appendChild(ze),this.textSpans[t].childSpan=ze}this.textSpans[t].span=St,this.layerElement.appendChild(St)}St.style.display="inherit"}if(Te.reset(),Ae&&(Re[t].n&&(xe=-Ie,Se+=r.yOffset,Se+=Fe?1:0,Fe=!1),this.applyTextPropertiesToMatrix(r,Te,Re[t].line,xe,Se),xe+=Re[t].l||0,xe+=Ie),Pe){je=this.globalData.fontManager.getCharData(r.finalText[t],_e.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily);var Ge;if(je.t===1)Ge=new SVGCompElement(je.data,this.globalData,this);else{var We=emptyShapeData;je.data&&je.data.shapes&&(We=this.buildShapeData(je.data,r.finalSize)),Ge=new SVGShapeElement(We,this.globalData,this)}if(this.textSpans[t].glyph){var Ue=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(Ue.layerElement),Ue.destroy()}this.textSpans[t].glyph=Ge,Ge._debug=!0,Ge.prepareFrame(0),Ge.renderFrame(),this.textSpans[t].childSpan.appendChild(Ge.layerElement),je.t===1&&this.textSpans[t].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else Ae&&St.setAttribute("transform","translate("+Te.props[12]+","+Te.props[13]+")"),St.textContent=Re[t].val,St.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Ae&&St&&St.setAttribute("d",ke)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e=this.textSpans.length,r;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<e;t+=1)r=this.textSpans[t].glyph,r&&(r.prepareFrame(this.comp.renderedFrame-this.data.st),r._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,e,r=this.textAnimator.renderedLetters,_e=this.textProperty.currentData.l;e=_e.length;var Ce,Ee,Re;for(t=0;t<e;t+=1)_e[t].n||(Ce=r[t],Ee=this.textSpans[t].span,Re=this.textSpans[t].glyph,Re&&Re.renderFrame(),Ce._mdf.m&&Ee.setAttribute("transform",Ce.m),Ce._mdf.o&&Ee.setAttribute("opacity",Ce.o),Ce._mdf.sw&&Ee.setAttribute("stroke-width",Ce.sw),Ce._mdf.sc&&Ee.setAttribute("stroke",Ce.sc),Ce._mdf.fc&&Ee.setAttribute("fill",Ce.fc))}};function ISolidElement(t,e,r){this.initElement(t,e,r)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)};function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),_e=createNS("rect");_e.setAttribute("width",t.w),_e.setAttribute("height",t.h),_e.setAttribute("x",0),_e.setAttribute("y",0);var Ce=createElementID();r.setAttribute("id",Ce),r.appendChild(_e),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Ce+")"),e.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){e[t]=!0;var r=this.createItem(this.layers[t]);e[t]=r,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt&&(!this.elements[t-1]||this.elements[t-1]===!0?(this.buildItem(t-1),this.addPendingElement(r)):r.setMatte(e[t-1].layerId))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(!(this.renderedFrame===t||this.destroyed)){t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(!!r){for(var _e=0,Ce;_e<e;)this.elements[_e]&&this.elements[_e]!==!0&&this.elements[_e].getBaseElement()&&(Ce=this.elements[_e].getBaseElement()),_e+=1;Ce?this.layerElement.insertBefore(r,Ce):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,_e=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=_e-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(e&&e.title){var _e=createNS("title"),Ce=createElementID();_e.setAttribute("id",Ce),_e.textContent=e.title,this.svgElement.appendChild(_e),r+=Ce}if(e&&e.description){var Ee=createNS("desc"),Re=createElementID();Ee.setAttribute("id",Re),Ee.textContent=e.description,this.svgElement.appendChild(Ee),r+=" "+Re}r&&this.svgElement.setAttribute("aria-labelledby",r);var Pe=createNS("defs");this.svgElement.appendChild(Pe);var St=createNS("g");this.svgElement.appendChild(St),this.layerElement=St,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height},this.globalData={_mdf:!1,frameNum:-1,defs:Pe,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var t,e=15;for(this.savedOp=createTypedArray("float32",e),t=0;t<e;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=e}CVContextData.prototype.duplicate=function(){var t=this._length*2,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var r=0;for(r=this._length;r<t;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(e){var r,_e=e.length,Ce="_";for(r=0;r<_e;r+=1)Ce+=e[r].transform.key+"_";var Ee=this.sequences[Ce];return Ee||(Ee={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[Ce]=Ee,this.sequenceList.push(Ee)),Ee},processSequence:function(e,r){for(var _e=0,Ce=e.transforms.length,Ee=r;_e<Ce&&!r;){if(e.transforms[_e].transform.mProps._mdf){Ee=!0;break}_e+=1}if(Ee){var Re;for(e.finalTransform.reset(),_e=Ce-1;_e>=0;_e-=1)Re=e.transforms[_e].transform.mProps.v.props,e.finalTransform.transform(Re[0],Re[1],Re[2],Re[3],Re[4],Re[5],Re[6],Re[7],Re[8],Re[9],Re[10],Re[11],Re[12],Re[13],Re[14],Re[15])}e._mdf=Ee},processSequences:function(e){var r,_e=this.sequenceList.length;for(r=0;r<_e;r+=1)this.processSequence(this.sequenceList[r],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};function CVEffects(){}CVEffects.prototype.renderFrame=function(){};function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,_e=this.masksProperties.length,Ce=!1;for(r=0;r<_e;r+=1)this.masksProperties[r].mode!=="n"&&(Ce=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=Ce,Ce&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(!!this.hasMasks){var t=this.element.finalTransform.mat,e=this.element.canvasContext,r,_e=this.masksProperties.length,Ce,Ee,Re;for(e.beginPath(),r=0;r<_e;r+=1)if(this.masksProperties[r].mode!=="n"){this.masksProperties[r].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),Re=this.viewData[r].v,Ce=t.applyToPointArray(Re.v[0][0],Re.v[0][1],0),e.moveTo(Ce[0],Ce[1]);var Pe,St=Re._length;for(Pe=1;Pe<St;Pe+=1)Ee=t.applyToTriplePoints(Re.o[Pe-1],Re.i[Pe],Re.v[Pe]),e.bezierCurveTo(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5]);Ee=t.applyToTriplePoints(Re.o[Pe-1],Re.i[0],Re.v[0]),e.bezierCurveTo(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var r=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=r}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!(this.hidden||this.data.hd)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=this.data.ty===0;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(t,e,r,_e){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var Ce=4;e.ty==="rc"?Ce=5:e.ty==="el"?Ce=6:e.ty==="sr"&&(Ce=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,Ce,t);var Ee,Re=r.length,Pe;for(Ee=0;Ee<Re;Ee+=1)r[Ee].closed||(Pe={transforms:_e.addTransformSequence(r[Ee].transforms),trNodes:[]},this.styledShapes.push(Pe),r[Ee].elements.push(Pe))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:t.hd===!0},_e={};if(t.ty==="fl"||t.ty==="st"?(_e.c=PropertyFactory.getProp(this,t.c,1,255,this),_e.c.k||(r.co="rgb("+bmFloor(_e.c.v[0])+","+bmFloor(_e.c.v[1])+","+bmFloor(_e.c.v[2])+")")):(t.ty==="gf"||t.ty==="gs")&&(_e.s=PropertyFactory.getProp(this,t.s,1,null,this),_e.e=PropertyFactory.getProp(this,t.e,1,null,this),_e.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),_e.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),_e.g=new GradientProperty(this,t.g,this)),_e.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(r.lc=lineCapEnum[t.lc||2],r.lj=lineJoinEnum[t.lj||2],t.lj==1&&(r.ml=t.ml),_e.w=PropertyFactory.getProp(this,t.w,0,null,this),_e.w.k||(r.wi=_e.w.v),t.d){var Ce=new DashProperty(this,t.d,"canvas",this);_e.d=Ce,_e.d.k||(r.da=_e.d.dashArray,r.do=_e.d.dashoffset[0])}}else r.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(r),_e.style=r,_e},CVShapeElement.prototype.createGroupElement=function(){var t={it:[],prevViewData:[]};return t},CVShapeElement.prototype.createTransformElement=function(t){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}};return e},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,r,_e,Ce){var Ee,Re=t.length-1,Pe,St,Te=[],ke=[],Ae,xe,Se,Fe=[].concat(Ce);for(Ee=Re;Ee>=0;Ee-=1){if(Ae=this.searchProcessedElement(t[Ee]),Ae?e[Ee]=r[Ae-1]:t[Ee]._shouldRender=_e,t[Ee].ty==="fl"||t[Ee].ty==="st"||t[Ee].ty==="gf"||t[Ee].ty==="gs")Ae?e[Ee].style.closed=!1:e[Ee]=this.createStyleElement(t[Ee],Fe),Te.push(e[Ee].style);else if(t[Ee].ty==="gr"){if(!Ae)e[Ee]=this.createGroupElement(t[Ee]);else for(St=e[Ee].it.length,Pe=0;Pe<St;Pe+=1)e[Ee].prevViewData[Pe]=e[Ee].it[Pe];this.searchShapes(t[Ee].it,e[Ee].it,e[Ee].prevViewData,_e,Fe)}else t[Ee].ty==="tr"?(Ae||(Se=this.createTransformElement(t[Ee]),e[Ee]=Se),Fe.push(e[Ee]),this.addTransformToStyleList(e[Ee])):t[Ee].ty==="sh"||t[Ee].ty==="rc"||t[Ee].ty==="el"||t[Ee].ty==="sr"?Ae||(e[Ee]=this.createShapeElement(t[Ee])):t[Ee].ty==="tm"||t[Ee].ty==="rd"||t[Ee].ty==="pb"?(Ae?(xe=e[Ee],xe.closed=!1):(xe=ShapeModifiers.getModifier(t[Ee].ty),xe.init(this,t[Ee]),e[Ee]=xe,this.shapeModifiers.push(xe)),ke.push(xe)):t[Ee].ty==="rp"&&(Ae?(xe=e[Ee],xe.closed=!0):(xe=ShapeModifiers.getModifier(t[Ee].ty),e[Ee]=xe,xe.init(this,t,Ee,e),this.shapeModifiers.push(xe),_e=!1),ke.push(xe));this.addProcessedElement(t[Ee],Ee+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Te),Re=ke.length,Ee=0;Ee<Re;Ee+=1)ke[Ee].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e=this.stylesList.length,r,_e,Ce,Ee,Re,Pe,St=this.globalData.renderer,Te=this.globalData.canvasContext,ke,Ae;for(t=0;t<e;t+=1)if(Ae=this.stylesList[t],ke=Ae.type,!((ke==="st"||ke==="gs")&&Ae.wi===0||!Ae.data._shouldRender||Ae.coOp===0||this.globalData.currentGlobalAlpha===0)){for(St.save(),Re=Ae.elements,ke==="st"||ke==="gs"?(Te.strokeStyle=ke==="st"?Ae.co:Ae.grd,Te.lineWidth=Ae.wi,Te.lineCap=Ae.lc,Te.lineJoin=Ae.lj,Te.miterLimit=Ae.ml||0):Te.fillStyle=ke==="fl"?Ae.co:Ae.grd,St.ctxOpacity(Ae.coOp),ke!=="st"&&ke!=="gs"&&Te.beginPath(),St.ctxTransform(Ae.preTransforms.finalTransform.props),_e=Re.length,r=0;r<_e;r+=1){for((ke==="st"||ke==="gs")&&(Te.beginPath(),Ae.da&&(Te.setLineDash(Ae.da),Te.lineDashOffset=Ae.do)),Pe=Re[r].trNodes,Ee=Pe.length,Ce=0;Ce<Ee;Ce+=1)Pe[Ce].t==="m"?Te.moveTo(Pe[Ce].p[0],Pe[Ce].p[1]):Pe[Ce].t==="c"?Te.bezierCurveTo(Pe[Ce].pts[0],Pe[Ce].pts[1],Pe[Ce].pts[2],Pe[Ce].pts[3],Pe[Ce].pts[4],Pe[Ce].pts[5]):Te.closePath();(ke==="st"||ke==="gs")&&(Te.stroke(),Ae.da&&Te.setLineDash(this.dashResetter))}ke!=="st"&&ke!=="gs"&&Te.fill(Ae.r),St.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,_e){var Ce,Ee=e.length-1,Re;for(Re=t,Ce=Ee;Ce>=0;Ce-=1)e[Ce].ty==="tr"?(Re=r[Ce].transform,this.renderShapeTransform(t,Re)):e[Ce].ty==="sh"||e[Ce].ty==="el"||e[Ce].ty==="rc"||e[Ce].ty==="sr"?this.renderPath(e[Ce],r[Ce]):e[Ce].ty==="fl"?this.renderFill(e[Ce],r[Ce],Re):e[Ce].ty==="st"?this.renderStroke(e[Ce],r[Ce],Re):e[Ce].ty==="gf"||e[Ce].ty==="gs"?this.renderGradientFill(e[Ce],r[Ce],Re):e[Ce].ty==="gr"?this.renderShape(Re,e[Ce].it,r[Ce].it):e[Ce].ty;_e&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var r=t.trNodes,_e=e.paths,Ce,Ee,Re,Pe=_e._length;r.length=0;var St=t.transforms.finalTransform;for(Re=0;Re<Pe;Re+=1){var Te=_e.shapes[Re];if(Te&&Te.v){for(Ee=Te._length,Ce=1;Ce<Ee;Ce+=1)Ce===1&&r.push({t:"m",p:St.applyToPointArray(Te.v[0][0],Te.v[0][1],0)}),r.push({t:"c",pts:St.applyToTriplePoints(Te.o[Ce-1],Te.i[Ce],Te.v[Ce])});Ee===1&&r.push({t:"m",p:St.applyToPointArray(Te.v[0][0],Te.v[0][1],0)}),Te.c&&Ee&&(r.push({t:"c",pts:St.applyToTriplePoints(Te.o[Ce-1],Te.i[0],Te.v[0])}),r.push({t:"z"}))}}t.trNodes=r}},CVShapeElement.prototype.renderPath=function(t,e){if(t.hd!==!0&&t._shouldRender){var r,_e=e.styledShapes.length;for(r=0;r<_e;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,r){var _e=e.style;(e.c._mdf||this._isFirstFrame)&&(_e.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(_e.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var _e=e.style,Ce;if(!_e.grd||e.g._mdf||e.s._mdf||e.e._mdf||t.t!==1&&(e.h._mdf||e.a._mdf)){var Ee=this.globalData.canvasContext,Re=e.s.v,Pe=e.e.v;if(t.t===1)Ce=Ee.createLinearGradient(Re[0],Re[1],Pe[0],Pe[1]);else{var St=Math.sqrt(Math.pow(Re[0]-Pe[0],2)+Math.pow(Re[1]-Pe[1],2)),Te=Math.atan2(Pe[1]-Re[1],Pe[0]-Re[0]),ke=e.h.v;ke>=1?ke=.99:ke<=-1&&(ke=-.99);var Ae=St*ke,xe=Math.cos(Te+e.a.v)*Ae+Re[0],Se=Math.sin(Te+e.a.v)*Ae+Re[1];Ce=Ee.createRadialGradient(xe,Se,0,Re[0],Re[1],St)}var Fe,Ie=t.g.p,Me=e.g.c,Oe=1;for(Fe=0;Fe<Ie;Fe+=1)e.g._hasOpacity&&e.g._collapsable&&(Oe=e.g.o[Fe*2+1]),Ce.addColorStop(Me[Fe*4]/100,"rgba("+Me[Fe*4+1]+","+Me[Fe*4+2]+","+Me[Fe*4+3]+","+Oe+")");_e.grd=Ce}_e.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var _e=e.style,Ce=e.d;Ce&&(Ce._mdf||this._isFirstFrame)&&(_e.da=Ce.dashArray,_e.do=Ce.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(_e.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(_e.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(_e.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var _e=this.globalData.fontManager.getFontByName(t.f),Ce,Ee,Re=t.l,Pe=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,Ee=t.finalText.length;var St,Te,ke,Ae,xe,Se,Fe,Ie,Me,Oe,De=this.data.singleShape,Be=t.tr*.001*t.finalSize,je=0,ze=0,Ge=!0,We=0;for(Ce=0;Ce<Ee;Ce+=1){St=this.globalData.fontManager.getCharData(t.finalText[Ce],_e.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),Te=St&&St.data||{},Pe.reset(),De&&Re[Ce].n&&(je=-Be,ze+=t.yOffset,ze+=Ge?1:0,Ge=!1),xe=Te.shapes?Te.shapes[0].it:[],Fe=xe.length,Pe.scale(t.finalSize/100,t.finalSize/100),De&&this.applyTextPropertiesToMatrix(t,Pe,Re[Ce].line,je,ze),Me=createSizedArray(Fe-1);var Ue=0;for(Se=0;Se<Fe;Se+=1)if(xe[Se].ty==="sh"){for(Ae=xe[Se].ks.k.i.length,Ie=xe[Se].ks.k,Oe=[],ke=1;ke<Ae;ke+=1)ke===1&&Oe.push(Pe.applyToX(Ie.v[0][0],Ie.v[0][1],0),Pe.applyToY(Ie.v[0][0],Ie.v[0][1],0)),Oe.push(Pe.applyToX(Ie.o[ke-1][0],Ie.o[ke-1][1],0),Pe.applyToY(Ie.o[ke-1][0],Ie.o[ke-1][1],0),Pe.applyToX(Ie.i[ke][0],Ie.i[ke][1],0),Pe.applyToY(Ie.i[ke][0],Ie.i[ke][1],0),Pe.applyToX(Ie.v[ke][0],Ie.v[ke][1],0),Pe.applyToY(Ie.v[ke][0],Ie.v[ke][1],0));Oe.push(Pe.applyToX(Ie.o[ke-1][0],Ie.o[ke-1][1],0),Pe.applyToY(Ie.o[ke-1][0],Ie.o[ke-1][1],0),Pe.applyToX(Ie.i[0][0],Ie.i[0][1],0),Pe.applyToY(Ie.i[0][0],Ie.i[0][1],0),Pe.applyToX(Ie.v[0][0],Ie.v[0][1],0),Pe.applyToY(Ie.v[0][0],Ie.v[0][1],0)),Me[Ue]=Oe,Ue+=1}De&&(je+=Re[Ce].l,je+=Be),this.textSpans[We]?this.textSpans[We].elem=Me:this.textSpans[We]={elem:Me},We+=1}},CVTextElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.font=this.values.fValue,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,r,_e,Ce,Ee,Re,Pe=this.textAnimator.renderedLetters,St=this.textProperty.currentData.l;r=St.length;var Te,ke=null,Ae=null,xe=null,Se,Fe;for(e=0;e<r;e+=1)if(!St[e].n){if(Te=Pe[e],Te&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(Te.p),this.globalData.renderer.ctxOpacity(Te.o)),this.fill){for(Te&&Te.fc?ke!==Te.fc&&(ke=Te.fc,t.fillStyle=Te.fc):ke!==this.values.fill&&(ke=this.values.fill,t.fillStyle=this.values.fill),Se=this.textSpans[e].elem,Ce=Se.length,this.globalData.canvasContext.beginPath(),_e=0;_e<Ce;_e+=1)for(Fe=Se[_e],Re=Fe.length,this.globalData.canvasContext.moveTo(Fe[0],Fe[1]),Ee=2;Ee<Re;Ee+=6)this.globalData.canvasContext.bezierCurveTo(Fe[Ee],Fe[Ee+1],Fe[Ee+2],Fe[Ee+3],Fe[Ee+4],Fe[Ee+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(Te&&Te.sw?xe!==Te.sw&&(xe=Te.sw,t.lineWidth=Te.sw):xe!==this.values.sWidth&&(xe=this.values.sWidth,t.lineWidth=this.values.sWidth),Te&&Te.sc?Ae!==Te.sc&&(Ae=Te.sc,t.strokeStyle=Te.sc):Ae!==this.values.stroke&&(Ae=this.values.stroke,t.strokeStyle=this.values.stroke),Se=this.textSpans[e].elem,Ce=Se.length,this.globalData.canvasContext.beginPath(),_e=0;_e<Ce;_e+=1)for(Fe=Se[_e],Re=Fe.length,this.globalData.canvasContext.moveTo(Fe[0],Fe[1]),Ee=2;Ee<Re;Ee+=6)this.globalData.canvasContext.bezierCurveTo(Fe[Ee],Fe[Ee+1],Fe[Ee+2],Fe[Ee+3],Fe[Ee+4],Fe[Ee+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}Te&&this.globalData.renderer.restore()}};function CVImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e=t.getContext("2d"),r=this.img.width,_e=this.img.height,Ce=r/_e,Ee=this.assetData.w/this.assetData.h,Re,Pe,St=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;Ce>Ee&&St==="xMidYMid slice"||Ce<Ee&&St!=="xMidYMid slice"?(Pe=_e,Re=Pe*Ee):(Re=r,Pe=Re/Ee),e.drawImage(this.img,(r-Re)/2,(_e-Pe)/2,Re,Pe,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(t,e,r){this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(t,e){this.animationItem=t,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){if(!(t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0)){if(!this.renderConfig.clearCanvas){this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13]);return}this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}},CanvasRendererBase.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=t<0?0:t,this.globalData.currentGlobalAlpha=this.contextData.cO;return}this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return}t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var r,_e=this.contextData.saved[this.contextData.cArrPos];for(r=0;r<16;r+=1)_e[r]=e[r];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRendererBase.prototype.restore=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e=this.contextData.saved[this.contextData.cArrPos],r,_e=this.contextData.cTr.props;for(r=0;r<16;r+=1)_e[r]=e[r];this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),e=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=e,this.globalData.currentGlobalAlpha!==e&&(this.canvasContext.globalAlpha=e,this.globalData.currentGlobalAlpha=e)},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var r="0px 0px 0px";e.transformOrigin=r,e.mozTransformOrigin=r,e.webkitTransformOrigin=r,e["-webkit-transform"]=r,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){this.reset();var t,e;this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr);var r,_e;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var Ce=this.renderConfig.preserveAspectRatio.split(" "),Ee=Ce[1]||"meet",Re=Ce[0]||"xMidYMid",Pe=Re.substr(0,4),St=Re.substr(4);r=t/e,_e=this.transformCanvas.w/this.transformCanvas.h,_e>r&&Ee==="meet"||_e<r&&Ee==="slice"?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),Pe==="xMid"&&(_e<r&&Ee==="meet"||_e>r&&Ee==="slice")?this.transformCanvas.tx=(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:Pe==="xMax"&&(_e<r&&Ee==="meet"||_e>r&&Ee==="slice")?this.transformCanvas.tx=(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,St==="YMid"&&(_e>r&&Ee==="meet"||_e<r&&Ee==="slice")?this.transformCanvas.ty=(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:St==="YMax"&&(_e>r&&Ee==="meet"||_e<r&&Ee==="slice")?this.transformCanvas.ty=(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var t,e=this.layers?this.layers.length:0;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if(!(this.renderedFrame===t&&this.renderConfig.clearCanvas===!0&&!e||this.destroyed||t===-1)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var r,_e=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=0;r<_e;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=_e-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip();var e,r=this.layers.length;for(e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var r=this.finalTransform.mat.toCSS();e.transform=r,e.webkitTransform=r}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(t,e,r){this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?(t=createNS("rect"),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(t=createTag("div"),t.style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)};function HShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var r,_e=t.length;for(r=0;r<_e;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var r=t.sh.v,_e=t.transformers,Ce,Ee=r._length,Re,Pe,St,Te;if(!(Ee<=1)){for(Ce=0;Ce<Ee-1;Ce+=1)Re=this.getTransformedPoint(_e,r.v[Ce]),Pe=this.getTransformedPoint(_e,r.o[Ce]),St=this.getTransformedPoint(_e,r.i[Ce+1]),Te=this.getTransformedPoint(_e,r.v[Ce+1]),this.checkBounds(Re,Pe,St,Te,e);r.c&&(Re=this.getTransformedPoint(_e,r.v[Ce]),Pe=this.getTransformedPoint(_e,r.o[Ce]),St=this.getTransformedPoint(_e,r.i[0]),Te=this.getTransformedPoint(_e,r.v[0]),this.checkBounds(Re,Pe,St,Te,e))}},HShapeElement.prototype.checkBounds=function(t,e,r,_e,Ce){this.getBoundsOfCurve(t,e,r,_e);var Ee=this.shapeBoundingBox;Ce.x=bmMin(Ee.left,Ce.x),Ce.xMax=bmMax(Ee.right,Ce.xMax),Ce.y=bmMin(Ee.top,Ce.y),Ce.yMax=bmMax(Ee.bottom,Ce.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,r,_e){for(var Ce=[[t[0],_e[0]],[t[1],_e[1]]],Ee,Re,Pe,St,Te,ke,Ae,xe=0;xe<2;++xe)Re=6*t[xe]-12*e[xe]+6*r[xe],Ee=-3*t[xe]+9*e[xe]-9*r[xe]+3*_e[xe],Pe=3*e[xe]-3*t[xe],Re|=0,Ee|=0,Pe|=0,Ee===0&&Re===0||(Ee===0?(St=-Pe/Re,St>0&&St<1&&Ce[xe].push(this.calculateF(St,t,e,r,_e,xe))):(Te=Re*Re-4*Pe*Ee,Te>=0&&(ke=(-Re+bmSqrt(Te))/(2*Ee),ke>0&&ke<1&&Ce[xe].push(this.calculateF(ke,t,e,r,_e,xe)),Ae=(-Re-bmSqrt(Te))/(2*Ee),Ae>0&&Ae<1&&Ce[xe].push(this.calculateF(Ae,t,e,r,_e,xe)))));this.shapeBoundingBox.left=bmMin.apply(null,Ce[0]),this.shapeBoundingBox.top=bmMin.apply(null,Ce[1]),this.shapeBoundingBox.right=bmMax.apply(null,Ce[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,Ce[1])},HShapeElement.prototype.calculateF=function(t,e,r,_e,Ce,Ee){return bmPow(1-t,3)*e[Ee]+3*bmPow(1-t,2)*t*r[Ee]+3*(1-t)*bmPow(t,2)*_e[Ee]+bmPow(t,3)*Ce[Ee]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var r,_e=t.length;for(r=0;r<_e;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it?this.calculateBoundingBox(t[r].it,e):t[r]&&t[r].style&&t[r].w&&this.expandStrokeBoundingBox(t[r].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var r=0;if(t.keyframes){for(var _e=0;_e<t.keyframes.length;_e+=1){var Ce=t.keyframes[_e].s;Ce>r&&(r=Ce)}r*=t.mult}else r=t.v*t.mult;e.x-=r,e.xMax+=r,e.y-=r,e.yMax+=r},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var _e=this.shapeCont.style,Ce="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";_e.transform=Ce,_e.webkitTransform=Ce}}};function HTextElement(t,e,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,r=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=r,e.color=r,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var _e=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",_e.fClass)this.innerElem.className=_e.fClass;else{e.fontFamily=_e.fFamily;var Ce=t.fWeight,Ee=t.fStyle;e.fontStyle=Ee,e.fontWeight=Ce}var Re,Pe,St=t.l;Pe=St.length;var Te,ke,Ae,xe=this.mHelper,Se,Fe="",Ie=0;for(Re=0;Re<Pe;Re+=1){if(this.globalData.fontManager.chars?(this.textPaths[Ie]?Te=this.textPaths[Ie]:(Te=createNS("path"),Te.setAttribute("stroke-linecap",lineCapEnum[1]),Te.setAttribute("stroke-linejoin",lineJoinEnum[2]),Te.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Ie]?(ke=this.textSpans[Ie],Ae=ke.children[0]):(ke=createTag("div"),ke.style.lineHeight=0,Ae=createNS("svg"),Ae.appendChild(Te),styleDiv(ke)))):this.isMasked?Te=this.textPaths[Ie]?this.textPaths[Ie]:createNS("text"):this.textSpans[Ie]?(ke=this.textSpans[Ie],Te=this.textPaths[Ie]):(ke=createTag("span"),styleDiv(ke),Te=createTag("span"),styleDiv(Te),ke.appendChild(Te)),this.globalData.fontManager.chars){var Me=this.globalData.fontManager.getCharData(t.finalText[Re],_e.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),Oe;if(Me?Oe=Me.data:Oe=null,xe.reset(),Oe&&Oe.shapes&&Oe.shapes.length&&(Se=Oe.shapes[0].it,xe.scale(t.finalSize/100,t.finalSize/100),Fe=this.createPathShape(xe,Se),Te.setAttribute("d",Fe)),this.isMasked)this.innerElem.appendChild(Te);else{if(this.innerElem.appendChild(ke),Oe&&Oe.shapes){document.body.appendChild(Ae);var De=Ae.getBBox();Ae.setAttribute("width",De.width+2),Ae.setAttribute("height",De.height+2),Ae.setAttribute("viewBox",De.x-1+" "+(De.y-1)+" "+(De.width+2)+" "+(De.height+2));var Be=Ae.style,je="translate("+(De.x-1)+"px,"+(De.y-1)+"px)";Be.transform=je,Be.webkitTransform=je,St[Re].yOffset=De.y-1}else Ae.setAttribute("width",1),Ae.setAttribute("height",1);ke.appendChild(Ae)}}else if(Te.textContent=St[Re].val,Te.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Te);else{this.innerElem.appendChild(ke);var ze=Te.style,Ge="translate3d(0,"+-t.finalSize/1.2+"px,0)";ze.transform=Ge,ze.webkitTransform=Ge}this.isMasked?this.textSpans[Ie]=Te:this.textSpans[Ie]=ke,this.textSpans[Ie].style.display="block",this.textPaths[Ie]=Te,Ie+=1}for(;Ie<this.textSpans.length;)this.textSpans[Ie].style.display="none",Ie+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var r,_e,Ce=0,Ee=this.textAnimator.renderedLetters,Re=this.textProperty.currentData.l;_e=Re.length;var Pe,St,Te;for(r=0;r<_e;r+=1)Re[r].n?Ce+=1:(St=this.textSpans[r],Te=this.textPaths[r],Pe=Ee[Ce],Ce+=1,Pe._mdf.m&&(this.isMasked?St.setAttribute("transform",Pe.m):(St.style.webkitTransform=Pe.m,St.style.transform=Pe.m)),St.style.opacity=Pe.o,Pe.sw&&Pe._mdf.sw&&Te.setAttribute("stroke-width",Pe.sw),Pe.sc&&Pe._mdf.sc&&Te.setAttribute("stroke",Pe.sc),Pe.fc&&Pe._mdf.fc&&(Te.setAttribute("fill",Pe.fc),Te.style.color=Pe.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ke=this.innerElem.getBBox();this.currentBBox.w!==ke.width&&(this.currentBBox.w=ke.width,this.svgElement.setAttribute("width",ke.width)),this.currentBBox.h!==ke.height&&(this.currentBBox.h=ke.height,this.svgElement.setAttribute("height",ke.height));var Ae=1;if(this.currentBBox.w!==ke.width+Ae*2||this.currentBBox.h!==ke.height+Ae*2||this.currentBBox.x!==ke.x-Ae||this.currentBBox.y!==ke.y-Ae){this.currentBBox.w=ke.width+Ae*2,this.currentBBox.h=ke.height+Ae*2,this.currentBBox.x=ke.x-Ae,this.currentBBox.y=ke.y-Ae,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var xe="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=xe,t.webkitTransform=xe}}}};function HCameraElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initHierarchy();var _e=PropertyFactory.getProp;if(this.pe=_e(this,t.pe,0,0,this),t.ks.p.s?(this.px=_e(this,t.ks.p.x,1,0,this),this.py=_e(this,t.ks.p.y,1,0,this),this.pz=_e(this,t.ks.p.z,1,0,this)):this.p=_e(this,t.ks.p,1,0,this),t.ks.a&&(this.a=_e(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var Ce,Ee=t.ks.or.k.length;for(Ce=0;Ce<Ee;Ce+=1)t.ks.or.k[Ce].to=null,t.ks.or.k[Ce].ti=null}this.or=_e(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=_e(this,t.ks.rx,0,degToRads,this),this.ry=_e(this,t.ks.ry,0,degToRads,this),this.rz=_e(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e=this.comp.threeDElements.length,r,_e,Ce;for(t=0;t<e;t+=1)if(r=this.comp.threeDElements[t],r.type==="3d"){_e=r.perspectiveElem.style,Ce=r.container.style;var Ee=this.pe.v+"px",Re="0px 0px 0px",Pe="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";_e.perspective=Ee,_e.webkitPerspective=Ee,Ce.transformOrigin=Re,Ce.mozTransformOrigin=Re,Ce.webkitTransformOrigin=Re,_e.transform=Pe,_e.webkitTransform=Pe}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t=this._isFirstFrame,e,r;if(this.hierarchy)for(r=this.hierarchy.length,e=0;e<r;e+=1)t=this.hierarchy[e].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(r=this.hierarchy.length-1,e=r;e>=0;e-=1){var _e=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-_e.p.v[0],-_e.p.v[1],_e.p.v[2]),this.mat.rotateX(-_e.or.v[0]).rotateY(-_e.or.v[1]).rotateZ(_e.or.v[2]),this.mat.rotateX(-_e.rx.v).rotateY(-_e.ry.v).rotateZ(_e.rz.v),this.mat.scale(1/_e.s.v[0],1/_e.s.v[1],1/_e.s.v[2]),this.mat.translate(_e.a.v[0],_e.a.v[1],_e.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var Ce;this.p?Ce=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:Ce=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var Ee=Math.sqrt(Math.pow(Ce[0],2)+Math.pow(Ce[1],2)+Math.pow(Ce[2],2)),Re=[Ce[0]/Ee,Ce[1]/Ee,Ce[2]/Ee],Pe=Math.sqrt(Re[2]*Re[2]+Re[0]*Re[0]),St=Math.atan2(Re[1],Pe),Te=Math.atan2(Re[0],-Re[2]);this.mat.rotateY(Te).rotateX(-St)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ke=!this._prevMat.equals(this.mat);if((ke||this.pe._mdf)&&this.comp.threeDElements){r=this.comp.threeDElements.length;var Ae,xe,Se;for(e=0;e<r;e+=1)if(Ae=this.comp.threeDElements[e],Ae.type==="3d"){if(ke){var Fe=this.mat.toCSS();Se=Ae.container.style,Se.transform=Fe,Se.webkitTransform=Fe}this.pe._mdf&&(xe=Ae.perspectiveElem.style,xe.perspective=this.pe.v+"px",xe.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(!!r){var _e=this.layers[e];if(!_e.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(r,e);else{for(var Ce=0,Ee,Re,Pe;Ce<e;)this.elements[Ce]&&this.elements[Ce]!==!0&&this.elements[Ce].getBaseElement&&(Re=this.elements[Ce],Pe=this.layers[Ce].ddd?this.getThreeDContainerByPos(Ce):Re.getBaseElement(),Ee=Pe||Ee),Ce+=1;Ee?(!_e.ddd||!this.supports3d)&&this.layerElement.insertBefore(r,Ee):(!_e.ddd||!this.supports3d)&&this.layerElement.appendChild(r)}else this.addTo3dContainer(r,e)}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;e<r;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var r=createTag("div"),_e,Ce;styleDiv(r);var Ee=createTag("div");if(styleDiv(Ee),e==="3d"){_e=r.style,_e.width=this.globalData.compSize.w+"px",_e.height=this.globalData.compSize.h+"px";var Re="50% 50%";_e.webkitTransformOrigin=Re,_e.mozTransformOrigin=Re,_e.transformOrigin=Re,Ce=Ee.style;var Pe="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Ce.transform=Pe,Ce.webkitTransform=Pe}r.appendChild(Ee);var St={container:Ee,perspectiveElem:r,startPos:t,endPos:t,type:e};return this.threeDElements.push(St),St},HybridRendererBase.prototype.build3dContainers=function(){var t,e=this.layers.length,r,_e="";for(t=0;t<e;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(_e!=="3d"&&(_e="3d",r=this.createThreeDContainer(t,"3d")),r.endPos=Math.max(r.endPos,t)):(_e!=="2d"&&(_e="2d",r=this.createThreeDContainer(t,"2d")),r.endPos=Math.max(r.endPos,t));for(e=this.threeDElements.length,t=e-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var r=0,_e=this.threeDElements.length;r<_e;){if(e<=this.threeDElements[r].endPos){for(var Ce=this.threeDElements[r].startPos,Ee;Ce<e;)this.elements[Ce]&&this.elements[Ce].getBaseElement&&(Ee=this.elements[Ce].getBaseElement()),Ce+=1;Ee?this.threeDElements[r].container.insertBefore(t,Ee):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),r=this.animationItem.wrapper,_e=e.style;_e.width=t.w+"px",_e.height=t.h+"px",this.resizerElem=e,styleDiv(e),_e.transformStyle="flat",_e.mozTransformStyle="flat",_e.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),r.appendChild(e),_e.overflow="hidden";var Ce=createNS("svg");Ce.setAttribute("width","1"),Ce.setAttribute("height","1"),styleDiv(Ce),this.resizerElem.appendChild(Ce);var Ee=createNS("defs");Ce.appendChild(Ee),this.data=t,this.setupGlobalData(t,Ce),this.globalData.defs=Ee,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,r=t/e,_e=this.globalData.compSize.w/this.globalData.compSize.h,Ce,Ee,Re,Pe;_e>r?(Ce=t/this.globalData.compSize.w,Ee=t/this.globalData.compSize.w,Re=0,Pe=(e-this.globalData.compSize.h*(t/this.globalData.compSize.w))/2):(Ce=e/this.globalData.compSize.h,Ee=e/this.globalData.compSize.h,Re=(t-this.globalData.compSize.w*(e/this.globalData.compSize.h))/2,Pe=0);var St=this.resizerElem.style;St.webkitTransform="matrix3d("+Ce+",0,0,0,0,"+Ee+",0,0,0,0,1,0,"+Re+","+Pe+",0,1)",St.transform=St.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t=this.globalData.compSize.w,e=this.globalData.compSize.h,r,_e=this.threeDElements.length;for(r=0;r<_e;r+=1){var Ce=this.threeDElements[r].perspectiveElem.style;Ce.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(e,2))+"px",Ce.perspective=Ce.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,r=t.length,_e=createTag("div");for(e=0;e<r;e+=1)if(t[e].xt){var Ce=this.createComp(t[e],_e,this.globalData.comp,null);Ce.initExpressions(),this.globalData.projectInterface.registerComposition(Ce)}};function HCompElement(t,e,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var r=0,_e;r<e;)this.elements[r]&&this.elements[r].getBaseElement&&(_e=this.elements[r].getBaseElement()),r+=1;_e?this.layerElement.insertBefore(t,_e):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var Expressions=function(){var t={};t.initExpressions=e;function e(r){var _e=0,Ce=[];function Ee(){_e+=1}function Re(){_e-=1,_e===0&&St()}function Pe(Te){Ce.indexOf(Te)===-1&&Ce.push(Te)}function St(){var Te,ke=Ce.length;for(Te=0;Te<ke;Te+=1)Ce[Te].release();Ce.length=0}r.renderer.compInterface=CompExpressionInterface(r.renderer),r.renderer.globalData.projectInterface.registerComposition(r.renderer),r.renderer.globalData.pushExpression=Ee,r.renderer.globalData.popExpression=Re,r.renderer.globalData.registerExpressionProperty=Pe}return t}();function _typeof$1(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(r){return typeof r}:_typeof$1=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$1(t)}function seedRandom(t,e){var r=this,_e=256,Ce=6,Ee=52,Re="random",Pe=e.pow(_e,Ce),St=e.pow(2,Ee),Te=St*2,ke=_e-1,Ae;function xe(Be,je,ze){var Ge=[];je=je===!0?{entropy:!0}:je||{};var We=Me(Ie(je.entropy?[Be,De(t)]:Be===null?Oe():Be,3),Ge),Ue=new Se(Ge),hr=function(){for(var rr=Ue.g(Ce),er=Pe,vr=0;rr<St;)rr=(rr+vr)*_e,er*=_e,vr=Ue.g(1);for(;rr>=Te;)rr/=2,er/=2,vr>>>=1;return(rr+vr)/er};return hr.int32=function(){return Ue.g(4)|0},hr.quick=function(){return Ue.g(4)/4294967296},hr.double=hr,Me(De(Ue.S),t),(je.pass||ze||function(xr,rr,er,vr){return vr&&(vr.S&&Fe(vr,Ue),xr.state=function(){return Fe(Ue,{})}),er?(e[Re]=xr,rr):xr})(hr,We,"global"in je?je.global:this==e,je.state)}e["seed"+Re]=xe;function Se(Be){var je,ze=Be.length,Ge=this,We=0,Ue=Ge.i=Ge.j=0,hr=Ge.S=[];for(ze||(Be=[ze++]);We<_e;)hr[We]=We++;for(We=0;We<_e;We++)hr[We]=hr[Ue=ke&Ue+Be[We%ze]+(je=hr[We])],hr[Ue]=je;Ge.g=function(xr){for(var rr,er=0,vr=Ge.i,gr=Ge.j,br=Ge.S;xr--;)rr=br[vr=ke&vr+1],er=er*_e+br[ke&(br[vr]=br[gr=ke&gr+rr])+(br[gr]=rr)];return Ge.i=vr,Ge.j=gr,er}}function Fe(Be,je){return je.i=Be.i,je.j=Be.j,je.S=Be.S.slice(),je}function Ie(Be,je){var ze=[],Ge=_typeof$1(Be),We;if(je&&Ge=="object")for(We in Be)try{ze.push(Ie(Be[We],je-1))}catch{}return ze.length?ze:Ge=="string"?Be:Be+"\0"}function Me(Be,je){for(var ze=Be+"",Ge,We=0;We<ze.length;)je[ke&We]=ke&(Ge^=je[ke&We]*19)+ze.charCodeAt(We++);return De(je)}function Oe(){try{var Be=new Uint8Array(_e);return(r.crypto||r.msCrypto).getRandomValues(Be),De(Be)}catch{var je=r.navigator,ze=je&&je.plugins;return[+new Date,r,ze,r.screen,De(t)]}}function De(Be){return String.fromCharCode.apply(0,Be)}Me(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(r){return typeof r}:_typeof=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;initialize$2(BMMath);function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return t==="number"||t==="boolean"||t==="string"||e instanceof Number}function $bm_neg(t){var e=_typeof(t);if(e==="number"||e==="boolean"||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var r,_e=t.length,Ce=[];for(r=0;r<_e;r+=1)Ce[r]=-t[r];return Ce}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var r=_typeof(t),_e=_typeof(e);if(r==="string"||_e==="string"||isNumerable(r,t)&&isNumerable(_e,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(_e,e))return t=t.slice(0),t[0]+=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var Ce=0,Ee=t.length,Re=e.length,Pe=[];Ce<Ee||Ce<Re;)(typeof t[Ce]=="number"||t[Ce]instanceof Number)&&(typeof e[Ce]=="number"||e[Ce]instanceof Number)?Pe[Ce]=t[Ce]+e[Ce]:Pe[Ce]=e[Ce]===void 0?t[Ce]:t[Ce]||e[Ce],Ce+=1;return Pe}return 0}var add=sum;function sub(t,e){var r=_typeof(t),_e=_typeof(e);if(isNumerable(r,t)&&isNumerable(_e,e))return r==="string"&&(t=parseInt(t,10)),_e==="string"&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(_e,e))return t=t.slice(0),t[0]-=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var Ce=0,Ee=t.length,Re=e.length,Pe=[];Ce<Ee||Ce<Re;)(typeof t[Ce]=="number"||t[Ce]instanceof Number)&&(typeof e[Ce]=="number"||e[Ce]instanceof Number)?Pe[Ce]=t[Ce]-e[Ce]:Pe[Ce]=e[Ce]===void 0?t[Ce]:t[Ce]||e[Ce],Ce+=1;return Pe}return 0}function mul(t,e){var r=_typeof(t),_e=_typeof(e),Ce;if(isNumerable(r,t)&&isNumerable(_e,e))return t*e;var Ee,Re;if($bm_isInstanceOfArray(t)&&isNumerable(_e,e)){for(Re=t.length,Ce=createTypedArray("float32",Re),Ee=0;Ee<Re;Ee+=1)Ce[Ee]=t[Ee]*e;return Ce}if(isNumerable(r,t)&&$bm_isInstanceOfArray(e)){for(Re=e.length,Ce=createTypedArray("float32",Re),Ee=0;Ee<Re;Ee+=1)Ce[Ee]=t*e[Ee];return Ce}return 0}function div(t,e){var r=_typeof(t),_e=_typeof(e),Ce;if(isNumerable(r,t)&&isNumerable(_e,e))return t/e;var Ee,Re;if($bm_isInstanceOfArray(t)&&isNumerable(_e,e)){for(Re=t.length,Ce=createTypedArray("float32",Re),Ee=0;Ee<Re;Ee+=1)Ce[Ee]=t[Ee]/e;return Ce}if(isNumerable(r,t)&&$bm_isInstanceOfArray(e)){for(Re=e.length,Ce=createTypedArray("float32",Re),Ee=0;Ee<Re;Ee+=1)Ce[Ee]=t/e[Ee];return Ce}return 0}function mod(t,e){return typeof t=="string"&&(t=parseInt(t,10)),typeof e=="string"&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,r){if(e>r){var _e=r;r=e,e=_e}return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if(typeof t=="number"||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var r,_e=Math.min(t.length,e.length),Ce=0;for(r=0;r<_e;r+=1)Ce+=Math.pow(e[r]-t[r],2);return Math.sqrt(Ce)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e=t[0],r=t[1],_e=t[2],Ce=Math.max(e,r,_e),Ee=Math.min(e,r,_e),Re,Pe,St=(Ce+Ee)/2;if(Ce===Ee)Re=0,Pe=0;else{var Te=Ce-Ee;switch(Pe=St>.5?Te/(2-Ce-Ee):Te/(Ce+Ee),Ce){case e:Re=(r-_e)/Te+(r<_e?6:0);break;case r:Re=(_e-e)/Te+2;break;case _e:Re=(e-r)/Te+4;break}Re/=6}return[Re,Pe,St,t[3]]}function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hslToRgb(t){var e=t[0],r=t[1],_e=t[2],Ce,Ee,Re;if(r===0)Ce=_e,Re=_e,Ee=_e;else{var Pe=_e<.5?_e*(1+r):_e+r-_e*r,St=2*_e-Pe;Ce=hue2rgb(St,Pe,e+1/3),Ee=hue2rgb(St,Pe,e),Re=hue2rgb(St,Pe,e-1/3)}return[Ce,Ee,Re,t[3]]}function linear(t,e,r,_e,Ce){if((_e===void 0||Ce===void 0)&&(_e=e,Ce=r,e=0,r=1),r<e){var Ee=r;r=e,e=Ee}if(t<=e)return _e;if(t>=r)return Ce;var Re=r===e?0:(t-e)/(r-e);if(!_e.length)return _e+(Ce-_e)*Re;var Pe,St=_e.length,Te=createTypedArray("float32",St);for(Pe=0;Pe<St;Pe+=1)Te[Pe]=_e[Pe]+(Ce[Pe]-_e[Pe])*Re;return Te}function random(t,e){if(e===void 0&&(t===void 0?(t=0,e=1):(e=t,t=void 0)),e.length){var r,_e=e.length;t||(t=createTypedArray("float32",_e));var Ce=createTypedArray("float32",_e),Ee=BMMath.random();for(r=0;r<_e;r+=1)Ce[r]=t[r]+Ee*(e[r]-t[r]);return Ce}t===void 0&&(t=0);var Re=BMMath.random();return t+Re*(e-t)}function createPath(t,e,r,_e){var Ce,Ee=t.length,Re=shapePool.newElement();Re.setPathData(!!_e,Ee);var Pe=[0,0],St,Te;for(Ce=0;Ce<Ee;Ce+=1)St=e&&e[Ce]?e[Ce]:Pe,Te=r&&r[Ce]?r[Ce]:Pe,Re.setTripleAt(t[Ce][0],t[Ce][1],Te[0]+t[Ce][0],Te[1]+t[Ce][1],St[0]+t[Ce][0],St[1]+t[Ce][1],Ce,!0);return Re}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function t(e,r){var _e,Ce,Ee=this.pv.length?this.pv.length:1,Re=createTypedArray("float32",Ee);e=5;var Pe=Math.floor(time*e);for(_e=0,Ce=0;_e<Pe;){for(Ce=0;Ce<Ee;Ce+=1)Re[Ce]+=-r+r*2*BMMath.random();_e+=1}var St=time*e,Te=St-Math.floor(St),ke=createTypedArray("float32",Ee);if(Ee>1){for(Ce=0;Ce<Ee;Ce+=1)ke[Ce]=this.pv[Ce]+Re[Ce]+(-r+r*2*BMMath.random())*Te;return ke}return this.pv+Re[0]+(-r+r*2*BMMath.random())*Te}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],_e=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads,Ce=-Math.atan2(r[1],r[2])/degToRads;return[Ce,_e,0]}function easeOut(t,e,r,_e,Ce){return applyEase(easeOutBez,t,e,r,_e,Ce)}function easeIn(t,e,r,_e,Ce){return applyEase(easeInBez,t,e,r,_e,Ce)}function ease(t,e,r,_e,Ce){return applyEase(easeInOutBez,t,e,r,_e,Ce)}function applyEase(t,e,r,_e,Ce,Ee){Ce===void 0?(Ce=r,Ee=_e):e=(e-r)/(_e-r),e>1?e=1:e<0&&(e=0);var Re=t(e);if($bm_isInstanceOfArray(Ce)){var Pe,St=Ce.length,Te=createTypedArray("float32",St);for(Pe=0;Pe<St;Pe+=1)Te[Pe]=(Ee[Pe]-Ce[Pe])*Re+Ce[Pe];return Te}return(Ee-Ce)*Re+Ce}function nearestKey(t){var e,r=data.k.length,_e,Ce;if(!data.k.length||typeof data.k[0]=="number")_e=0,Ce=0;else if(_e=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)_e=1,Ce=data.k[0].t;else{for(e=0;e<r-1;e+=1)if(t===data.k[e].t){_e=e+1,Ce=data.k[e].t;break}else if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(_e=e+2,Ce=data.k[e+1].t):(_e=e+1,Ce=data.k[e].t);break}_e===-1&&(_e=e+1,Ce=data.k[e].t)}var Ee={};return Ee.index=_e,Ee.time=Ce/elem.comp.globalData.frameRate,Ee}function key(t){var e,r,_e;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var Ce=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(_e=Ce.length,r=0;r<_e;r+=1)e[r]=Ce[r],e.value[r]=Ce[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return!t&&t!==0&&(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return typeof value=="string"?e===void 0?value.substring(t):value.substring(t,e):""}function substr(t,e){return typeof value=="string"?e===void 0?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers=function(){function t(Re,Pe,St){Pe.x&&(St.k=!0,St.x=!0,St.initiateExpression=ExpressionManager.initiateExpression,St.effectsSequence.push(St.initiateExpression(Re,Pe,St).bind(St)))}function e(Re){return Re*=this.elem.globalData.frameRate,Re-=this.offsetTime,Re!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<Re?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(Re,this._cachingAtTime),this._cachingAtTime.lastFrame=Re),this._cachingAtTime.value}function r(Re){var Pe=-.01,St=this.getValueAtTime(Re),Te=this.getValueAtTime(Re+Pe),ke=0;if(St.length){var Ae;for(Ae=0;Ae<St.length;Ae+=1)ke+=Math.pow(Te[Ae]-St[Ae],2);ke=Math.sqrt(ke)*100}else ke=0;return ke}function _e(Re){if(this.vel!==void 0)return this.vel;var Pe=-.001,St=this.getValueAtTime(Re),Te=this.getValueAtTime(Re+Pe),ke;if(St.length){ke=createTypedArray("float32",St.length);var Ae;for(Ae=0;Ae<St.length;Ae+=1)ke[Ae]=(Te[Ae]-St[Ae])/Pe}else ke=(Te-St)/Pe;return ke}function Ce(){return this.pv}function Ee(Re){this.propertyGroup=Re}return{searchExpressions:t,getSpeedAtTime:r,getVelocityAtTime:_e,getValueAtTime:e,getStaticValueAtTime:Ce,setGroupProperty:Ee}}();function addPropertyDecorator(){function t(xe,Se,Fe){if(!this.k||!this.keyframes)return this.pv;xe=xe?xe.toLowerCase():"";var Ie=this.comp.renderedFrame,Me=this.keyframes,Oe=Me[Me.length-1].t;if(Ie<=Oe)return this.pv;var De,Be;Fe?(Se?De=Math.abs(Oe-this.elem.comp.globalData.frameRate*Se):De=Math.max(0,Oe-this.elem.data.ip),Be=Oe-De):((!Se||Se>Me.length-1)&&(Se=Me.length-1),Be=Me[Me.length-1-Se].t,De=Oe-Be);var je,ze,Ge;if(xe==="pingpong"){var We=Math.floor((Ie-Be)/De);if(We%2!==0)return this.getValueAtTime((De-(Ie-Be)%De+Be)/this.comp.globalData.frameRate,0)}else if(xe==="offset"){var Ue=this.getValueAtTime(Be/this.comp.globalData.frameRate,0),hr=this.getValueAtTime(Oe/this.comp.globalData.frameRate,0),xr=this.getValueAtTime(((Ie-Be)%De+Be)/this.comp.globalData.frameRate,0),rr=Math.floor((Ie-Be)/De);if(this.pv.length){for(Ge=new Array(Ue.length),ze=Ge.length,je=0;je<ze;je+=1)Ge[je]=(hr[je]-Ue[je])*rr+xr[je];return Ge}return(hr-Ue)*rr+xr}else if(xe==="continue"){var er=this.getValueAtTime(Oe/this.comp.globalData.frameRate,0),vr=this.getValueAtTime((Oe-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ge=new Array(er.length),ze=Ge.length,je=0;je<ze;je+=1)Ge[je]=er[je]+(er[je]-vr[je])*((Ie-Oe)/this.comp.globalData.frameRate)/5e-4;return Ge}return er+(er-vr)*((Ie-Oe)/.001)}return this.getValueAtTime(((Ie-Be)%De+Be)/this.comp.globalData.frameRate,0)}function e(xe,Se,Fe){if(!this.k)return this.pv;xe=xe?xe.toLowerCase():"";var Ie=this.comp.renderedFrame,Me=this.keyframes,Oe=Me[0].t;if(Ie>=Oe)return this.pv;var De,Be;Fe?(Se?De=Math.abs(this.elem.comp.globalData.frameRate*Se):De=Math.max(0,this.elem.data.op-Oe),Be=Oe+De):((!Se||Se>Me.length-1)&&(Se=Me.length-1),Be=Me[Se].t,De=Be-Oe);var je,ze,Ge;if(xe==="pingpong"){var We=Math.floor((Oe-Ie)/De);if(We%2===0)return this.getValueAtTime(((Oe-Ie)%De+Oe)/this.comp.globalData.frameRate,0)}else if(xe==="offset"){var Ue=this.getValueAtTime(Oe/this.comp.globalData.frameRate,0),hr=this.getValueAtTime(Be/this.comp.globalData.frameRate,0),xr=this.getValueAtTime((De-(Oe-Ie)%De+Oe)/this.comp.globalData.frameRate,0),rr=Math.floor((Oe-Ie)/De)+1;if(this.pv.length){for(Ge=new Array(Ue.length),ze=Ge.length,je=0;je<ze;je+=1)Ge[je]=xr[je]-(hr[je]-Ue[je])*rr;return Ge}return xr-(hr-Ue)*rr}else if(xe==="continue"){var er=this.getValueAtTime(Oe/this.comp.globalData.frameRate,0),vr=this.getValueAtTime((Oe+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ge=new Array(er.length),ze=Ge.length,je=0;je<ze;je+=1)Ge[je]=er[je]+(er[je]-vr[je])*(Oe-Ie)/.001;return Ge}return er+(er-vr)*(Oe-Ie)/.001}return this.getValueAtTime((De-((Oe-Ie)%De+Oe))/this.comp.globalData.frameRate,0)}function r(xe,Se){if(!this.k)return this.pv;if(xe=(xe||.4)*.5,Se=Math.floor(Se||5),Se<=1)return this.pv;var Fe=this.comp.renderedFrame/this.comp.globalData.frameRate,Ie=Fe-xe,Me=Fe+xe,Oe=Se>1?(Me-Ie)/(Se-1):1,De=0,Be=0,je;this.pv.length?je=createTypedArray("float32",this.pv.length):je=0;for(var ze;De<Se;){if(ze=this.getValueAtTime(Ie+De*Oe),this.pv.length)for(Be=0;Be<this.pv.length;Be+=1)je[Be]+=ze[Be];else je+=ze;De+=1}if(this.pv.length)for(Be=0;Be<this.pv.length;Be+=1)je[Be]/=Se;else je/=Se;return je}function _e(xe){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var Se=this._transformCachingAtTime.v;if(Se.cloneFromProps(this.pre.props),this.appliedTransformations<1){var Fe=this.a.getValueAtTime(xe);Se.translate(-Fe[0]*this.a.mult,-Fe[1]*this.a.mult,Fe[2]*this.a.mult)}if(this.appliedTransformations<2){var Ie=this.s.getValueAtTime(xe);Se.scale(Ie[0]*this.s.mult,Ie[1]*this.s.mult,Ie[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Me=this.sk.getValueAtTime(xe),Oe=this.sa.getValueAtTime(xe);Se.skewFromAxis(-Me*this.sk.mult,Oe*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var De=this.r.getValueAtTime(xe);Se.rotate(-De*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Be=this.rz.getValueAtTime(xe),je=this.ry.getValueAtTime(xe),ze=this.rx.getValueAtTime(xe),Ge=this.or.getValueAtTime(xe);Se.rotateZ(-Be*this.rz.mult).rotateY(je*this.ry.mult).rotateX(ze*this.rx.mult).rotateZ(-Ge[2]*this.or.mult).rotateY(Ge[1]*this.or.mult).rotateX(Ge[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var We=this.px.getValueAtTime(xe),Ue=this.py.getValueAtTime(xe);if(this.data.p.z){var hr=this.pz.getValueAtTime(xe);Se.translate(We*this.px.mult,Ue*this.py.mult,-hr*this.pz.mult)}else Se.translate(We*this.px.mult,Ue*this.py.mult,0)}else{var xr=this.p.getValueAtTime(xe);Se.translate(xr[0]*this.p.mult,xr[1]*this.p.mult,-xr[2]*this.p.mult)}return Se}function Ce(){return this.v.clone(new Matrix)}var Ee=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(xe,Se,Fe){var Ie=Ee(xe,Se,Fe);return Ie.dynamicProperties.length?Ie.getValueAtTime=_e.bind(Ie):Ie.getValueAtTime=Ce.bind(Ie),Ie.setGroupProperty=expressionHelpers.setGroupProperty,Ie};var Re=PropertyFactory.getProp;PropertyFactory.getProp=function(xe,Se,Fe,Ie,Me){var Oe=Re(xe,Se,Fe,Ie,Me);Oe.kf?Oe.getValueAtTime=expressionHelpers.getValueAtTime.bind(Oe):Oe.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Oe),Oe.setGroupProperty=expressionHelpers.setGroupProperty,Oe.loopOut=t,Oe.loopIn=e,Oe.smooth=r,Oe.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Oe),Oe.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Oe),Oe.numKeys=Se.a===1?Se.k.length:0,Oe.propertyIndex=Se.ix;var De=0;return Fe!==0&&(De=createTypedArray("float32",Se.a===1?Se.k[0].s.length:Se.k.length)),Oe._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:De},expressionHelpers.searchExpressions(xe,Se,Oe),Oe.k&&Me.addDynamicProperty(Oe),Oe};function Pe(xe){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),xe*=this.elem.globalData.frameRate,xe-=this.offsetTime,xe!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<xe?this._caching.lastIndex:0,this._cachingAtTime.lastTime=xe,this.interpolateShape(xe,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var St=ShapePropertyFactory.getConstructorFunction(),Te=ShapePropertyFactory.getKeyframedConstructorFunction();function ke(){}ke.prototype={vertices:function(Se,Fe){this.k&&this.getValue();var Ie=this.v;Fe!==void 0&&(Ie=this.getValueAtTime(Fe,0));var Me,Oe=Ie._length,De=Ie[Se],Be=Ie.v,je=createSizedArray(Oe);for(Me=0;Me<Oe;Me+=1)Se==="i"||Se==="o"?je[Me]=[De[Me][0]-Be[Me][0],De[Me][1]-Be[Me][1]]:je[Me]=[De[Me][0],De[Me][1]];return je},points:function(Se){return this.vertices("v",Se)},inTangents:function(Se){return this.vertices("i",Se)},outTangents:function(Se){return this.vertices("o",Se)},isClosed:function(){return this.v.c},pointOnPath:function(Se,Fe){var Ie=this.v;Fe!==void 0&&(Ie=this.getValueAtTime(Fe,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Ie));for(var Me=this._segmentsLength,Oe=Me.lengths,De=Me.totalLength*Se,Be=0,je=Oe.length,ze=0,Ge;Be<je;){if(ze+Oe[Be].addedLength>De){var We=Be,Ue=Ie.c&&Be===je-1?0:Be+1,hr=(De-ze)/Oe[Be].addedLength;Ge=bez.getPointInSegment(Ie.v[We],Ie.v[Ue],Ie.o[We],Ie.i[Ue],hr,Oe[Be]);break}else ze+=Oe[Be].addedLength;Be+=1}return Ge||(Ge=Ie.c?[Ie.v[0][0],Ie.v[0][1]]:[Ie.v[Ie._length-1][0],Ie.v[Ie._length-1][1]]),Ge},vectorOnPath:function(Se,Fe,Ie){Se==1?Se=this.v.c:Se==0&&(Se=.999);var Me=this.pointOnPath(Se,Fe),Oe=this.pointOnPath(Se+.001,Fe),De=Oe[0]-Me[0],Be=Oe[1]-Me[1],je=Math.sqrt(Math.pow(De,2)+Math.pow(Be,2));if(je===0)return[0,0];var ze=Ie==="tangent"?[De/je,Be/je]:[-Be/je,De/je];return ze},tangentOnPath:function(Se,Fe){return this.vectorOnPath(Se,Fe,"tangent")},normalOnPath:function(Se,Fe){return this.vectorOnPath(Se,Fe,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ke],St),extendPrototype([ke],Te),Te.prototype.getValueAtTime=Pe,Te.prototype.initiateExpression=ExpressionManager.initiateExpression;var Ae=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(xe,Se,Fe,Ie,Me){var Oe=Ae(xe,Se,Fe,Ie,Me);return Oe.propertyIndex=Se.ix,Oe.lock=!1,Fe===3?expressionHelpers.searchExpressions(xe,Se.pt,Oe):Fe===4&&expressionHelpers.searchExpressions(xe,Se.ks,Oe),Oe.k&&xe.addDynamicProperty(Oe),Oe}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(e,r){var _e=this.calculateExpression(r);if(e.t!==_e){var Ce={};return this.copyData(Ce,e),Ce.t=_e.toString(),Ce.__complete=!1,Ce}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),r=this.searchExpressions();return this.kf=e||r,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function t(e,r){var _e=createNS("feMerge");_e.setAttribute("result",e);var Ce,Ee;for(Ee=0;Ee<r.length;Ee+=1)Ce=createNS("feMergeNode"),Ce.setAttribute("in",r[Ee]),_e.appendChild(Ce),_e.appendChild(Ce);return _e}};function SVGTintFilter(t,e,r,_e,Ce){this.filterManager=e;var Ee=createNS("feColorMatrix");Ee.setAttribute("type","matrix"),Ee.setAttribute("color-interpolation-filters","linearRGB"),Ee.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),Ee.setAttribute("result",_e+"_tint_1"),t.appendChild(Ee),Ee=createNS("feColorMatrix"),Ee.setAttribute("type","matrix"),Ee.setAttribute("color-interpolation-filters","sRGB"),Ee.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Ee.setAttribute("result",_e+"_tint_2"),t.appendChild(Ee),this.matrixFilter=Ee;var Re=this.createMergeNode(_e,[Ce,_e+"_tint_1",_e+"_tint_2"]);t.appendChild(Re)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,_e=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-e[0]+" 0 0 0 "+e[0]+" "+(r[1]-e[1])+" 0 0 0 "+e[1]+" "+(r[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+_e+" 0")}};function SVGFillFilter(t,e,r,_e){this.filterManager=e;var Ce=createNS("feColorMatrix");Ce.setAttribute("type","matrix"),Ce.setAttribute("color-interpolation-filters","sRGB"),Ce.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Ce.setAttribute("result",_e),t.appendChild(Ce),this.matrixFilter=Ce}SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}};function SVGStrokeEffect(t,e,r){this.initialized=!1,this.filterManager=e,this.elem=r,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var t=this.elem.layerElement.children||this.elem.layerElement.childNodes,e,r,_e,Ce;for(this.filterManager.effectElements[1].p.v===1?(Ce=this.elem.maskManager.masksProperties.length,_e=0):(_e=this.filterManager.effectElements[0].p.v-1,Ce=_e+1),r=createNS("g"),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),r.setAttribute("stroke-dashoffset",1),_e;_e<Ce;_e+=1)e=createNS("path"),r.appendChild(e),this.paths.push({p:e,m:_e});if(this.filterManager.effectElements[10].p.v===3){var Ee=createNS("mask"),Re=createElementID();Ee.setAttribute("id",Re),Ee.setAttribute("mask-type","alpha"),Ee.appendChild(r),this.elem.globalData.defs.appendChild(Ee);var Pe=createNS("g");for(Pe.setAttribute("mask","url("+getLocationHref()+"#"+Re+")");t[0];)Pe.appendChild(t[0]);this.elem.layerElement.appendChild(Pe),this.masker=Ee,r.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(t=this.elem.layerElement.children||this.elem.layerElement.childNodes;t.length;)this.elem.layerElement.removeChild(t[0]);this.elem.layerElement.appendChild(r),this.elem.layerElement.removeAttribute("mask"),r.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=r},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,r=this.paths.length,_e,Ce;for(e=0;e<r;e+=1)if(this.paths[e].m!==-1&&(_e=this.elem.maskManager.viewData[this.paths[e].m],Ce=this.paths[e].p,(t||this.filterManager._mdf||_e.prop._mdf)&&Ce.setAttribute("d",_e.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||_e.prop._mdf)){var Ee;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var Re=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Pe=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,St=Ce.getTotalLength();Ee="0 0 0 "+St*Re+" ";var Te=St*(Pe-Re),ke=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,Ae=Math.floor(Te/ke),xe;for(xe=0;xe<Ae;xe+=1)Ee+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";Ee+="0 "+St*10+" 0 0"}else Ee="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;Ce.setAttribute("stroke-dasharray",Ee)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var Se=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(Se[0]*255)+","+bmFloor(Se[1]*255)+","+bmFloor(Se[2]*255)+")")}};function SVGTritoneFilter(t,e,r,_e){this.filterManager=e;var Ce=createNS("feColorMatrix");Ce.setAttribute("type","matrix"),Ce.setAttribute("color-interpolation-filters","linearRGB"),Ce.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(Ce);var Ee=createNS("feComponentTransfer");Ee.setAttribute("color-interpolation-filters","sRGB"),Ee.setAttribute("result",_e),this.matrixFilter=Ee;var Re=createNS("feFuncR");Re.setAttribute("type","table"),Ee.appendChild(Re),this.feFuncR=Re;var Pe=createNS("feFuncG");Pe.setAttribute("type","table"),Ee.appendChild(Pe),this.feFuncG=Pe;var St=createNS("feFuncB");St.setAttribute("type","table"),Ee.appendChild(St),this.feFuncB=St,t.appendChild(Ee)}SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,_e=this.filterManager.effectElements[2].p.v,Ce=_e[0]+" "+r[0]+" "+e[0],Ee=_e[1]+" "+r[1]+" "+e[1],Re=_e[2]+" "+r[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",Ce),this.feFuncG.setAttribute("tableValues",Ee),this.feFuncB.setAttribute("tableValues",Re)}};function SVGProLevelsFilter(t,e,r,_e){this.filterManager=e;var Ce=this.filterManager.effectElements,Ee=createNS("feComponentTransfer");(Ce[10].p.k||Ce[10].p.v!==0||Ce[11].p.k||Ce[11].p.v!==1||Ce[12].p.k||Ce[12].p.v!==1||Ce[13].p.k||Ce[13].p.v!==0||Ce[14].p.k||Ce[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",Ee)),(Ce[17].p.k||Ce[17].p.v!==0||Ce[18].p.k||Ce[18].p.v!==1||Ce[19].p.k||Ce[19].p.v!==1||Ce[20].p.k||Ce[20].p.v!==0||Ce[21].p.k||Ce[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",Ee)),(Ce[24].p.k||Ce[24].p.v!==0||Ce[25].p.k||Ce[25].p.v!==1||Ce[26].p.k||Ce[26].p.v!==1||Ce[27].p.k||Ce[27].p.v!==0||Ce[28].p.k||Ce[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",Ee)),(Ce[31].p.k||Ce[31].p.v!==0||Ce[32].p.k||Ce[32].p.v!==1||Ce[33].p.k||Ce[33].p.v!==1||Ce[34].p.k||Ce[34].p.v!==0||Ce[35].p.k||Ce[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",Ee)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(Ee.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(Ee)),(Ce[3].p.k||Ce[3].p.v!==0||Ce[4].p.k||Ce[4].p.v!==1||Ce[5].p.k||Ce[5].p.v!==1||Ce[6].p.k||Ce[6].p.v!==0||Ce[7].p.k||Ce[7].p.v!==1)&&(Ee=createNS("feComponentTransfer"),Ee.setAttribute("color-interpolation-filters","sRGB"),Ee.setAttribute("result",_e),t.appendChild(Ee),this.feFuncRComposed=this.createFeFunc("feFuncR",Ee),this.feFuncGComposed=this.createFeFunc("feFuncG",Ee),this.feFuncBComposed=this.createFeFunc("feFuncB",Ee))}SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=createNS(t);return r.setAttribute("type","table"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,_e,Ce){for(var Ee=0,Re=256,Pe,St=Math.min(t,e),Te=Math.max(t,e),ke=Array.call(null,{length:Re}),Ae,xe=0,Se=Ce-_e,Fe=e-t;Ee<=256;)Pe=Ee/256,Pe<=St?Ae=Fe<0?Ce:_e:Pe>=Te?Ae=Fe<0?_e:Ce:Ae=_e+Se*Math.pow((Pe-t)/Fe,1/r),ke[xe]=Ae,xe+=1,Ee+=256/(Re-1);return ke.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};function SVGDropShadowEffect(t,e,r,_e,Ce){var Ee=e.container.globalData.renderConfig.filterSize,Re=e.data.fs||Ee;t.setAttribute("x",Re.x||Ee.x),t.setAttribute("y",Re.y||Ee.y),t.setAttribute("width",Re.width||Ee.width),t.setAttribute("height",Re.height||Ee.height),this.filterManager=e;var Pe=createNS("feGaussianBlur");Pe.setAttribute("in","SourceAlpha"),Pe.setAttribute("result",_e+"_drop_shadow_1"),Pe.setAttribute("stdDeviation","0"),this.feGaussianBlur=Pe,t.appendChild(Pe);var St=createNS("feOffset");St.setAttribute("dx","25"),St.setAttribute("dy","0"),St.setAttribute("in",_e+"_drop_shadow_1"),St.setAttribute("result",_e+"_drop_shadow_2"),this.feOffset=St,t.appendChild(St);var Te=createNS("feFlood");Te.setAttribute("flood-color","#00ff00"),Te.setAttribute("flood-opacity","1"),Te.setAttribute("result",_e+"_drop_shadow_3"),this.feFlood=Te,t.appendChild(Te);var ke=createNS("feComposite");ke.setAttribute("in",_e+"_drop_shadow_3"),ke.setAttribute("in2",_e+"_drop_shadow_2"),ke.setAttribute("operator","in"),ke.setAttribute("result",_e+"_drop_shadow_4"),t.appendChild(ke);var Ae=this.createMergeNode(_e,[_e+"_drop_shadow_4",Ce]);t.appendChild(Ae)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(e[0]*255),Math.round(e[1]*255),Math.round(e[2]*255)))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,_e=(this.filterManager.effectElements[2].p.v-90)*degToRads,Ce=r*Math.cos(_e),Ee=r*Math.sin(_e);this.feOffset.setAttribute("dx",Ce),this.feOffset.setAttribute("dy",Ee)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,r=_svgMatteSymbols.length;e<r;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(!!r){for(var _e=r.children,Ce=0,Ee=_e.length;Ce<Ee&&_e[Ce]!==t.layerElement;)Ce+=1;var Re;Ce<=Ee-2&&(Re=_e[Ce+1]);var Pe=createNS("use");Pe.setAttribute("href","#"+e),Re?r.insertBefore(Pe,Re):r.appendChild(Pe)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r=createElementID(),_e=createNS("mask");_e.setAttribute("id",e.layerId),_e.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var Ce=t.globalData.defs;Ce.appendChild(_e);var Ee=createNS("symbol");Ee.setAttribute("id",r),this.replaceInParent(e,r),Ee.appendChild(e.layerElement),Ce.appendChild(Ee);var Re=createNS("use");Re.setAttribute("href","#"+r),_e.appendChild(Re),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,r=0,_e=e.length;r<_e;)e[r]&&e[r].data.ind===t&&this.setElementAsMask(this.elem,e[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(t,e,r,_e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var Ce=createNS("feGaussianBlur");Ce.setAttribute("result",_e),t.appendChild(Ce),this.feGaussianBlur=Ce}return SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3,r=this.filterManager.effectElements[0].p.v*e,_e=this.filterManager.effectElements[1].p.v,Ce=_e==3?0:r,Ee=_e==2?0:r;this.feGaussianBlur.setAttribute("stdDeviation",Ce+" "+Ee);var Re=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",Re)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie})})(lottie$1,lottie$1.exports);const lottie=lottie$1.exports,v$1="4.6.6",fr=24,ip=0,op=48,w$1=800,h$1=800,nm="Pencil",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"line",ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[400,400,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-198.875,197.5],[197.938,197.5]],c:!1}},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},n:["0p667_1_0p333_0"],t:9,s:[0],e:[100]},{t:27}],ix:1},e:{a:1,k:[{i:{x:[.442],y:[1]},o:{x:[.522],y:[0]},n:["0p442_1_0p522_0"],t:0,s:[0],e:[100]},{t:20}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim"},{ty:"st",c:{a:0,k:[.25882352941176473,.25882352941176473,.25882352941176473,1]},o:{a:0,k:100},w:{a:0,k:14},lc:1,lj:1,ml:4,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:4,cix:2,ix:1,mn:"ADBE Vector Group"}],ip:0,op:49,st:0,bm:0,sr:1},{ddd:0,ind:2,ty:3,nm:"pencilRot",ks:{o:{a:0,k:0},r:{a:1,k:[{i:{x:[.256],y:[1]},o:{x:[.7],y:[0]},n:["0p256_1_0p7_0"],t:20,s:[0],e:[-360]},{t:48}]},p:{a:1,k:[{i:{x:.442,y:1},o:{x:.522,y:0},n:"0p442_1_0p522_0",t:0,s:[200,422,0],e:[600,422,0],to:[0,0,0],ti:[0,0,0]},{i:{x:1,y:1},o:{x:.333,y:0},n:"1_1_0p333_0",t:20,s:[600,422,0],e:[400,217,0],to:[0,0,0],ti:[194,0,0]},{i:{x:.667,y:1},o:{x:0,y:0},n:"0p667_1_0_0",t:36,s:[400,217,0],e:[200,422,0],to:[-179,0,0],ti:[0,0,0]},{t:48}]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,ip:0,op:49,st:0,bm:0,sr:1},{ddd:0,ind:3,ty:4,nm:"pencil",parent:2,ks:{o:{a:0,k:100},r:{a:1,k:[{i:{x:[.212],y:[1]},o:{x:[.469],y:[0]},n:["0p212_1_0p469_0"],t:0,s:[-6],e:[11]},{i:{x:[1],y:[1]},o:{x:[.441],y:[0]},n:["1_1_0p441_0"],t:20,s:[11],e:[0]},{i:{x:[.415],y:[1]},o:{x:[0],y:[0]},n:["0p415_1_0_0"],t:36,s:[0],e:[-6]},{t:48}]},p:{a:0,k:[0,162.022,0]},a:{a:0,k:[524.082,810.037,0]},s:{a:0,k:[60,60,100]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[548,341],[548,657]],c:!1}},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"st",c:{a:0,k:[.25882352941176473,.25882352941176473,.25882352941176473,1]},o:{a:0,k:100},w:{a:0,k:10},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,ix:1,mn:"ADBE Vector Group"},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-.063,-159.25],[.063,159.25]],c:!1}},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"st",c:{a:0,k:[.25882352941176473,.25882352941176473,.25882352941176473,1]},o:{a:0,k:100},w:{a:0,k:10},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[500.063,497.25],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,ix:2,mn:"ADBE Vector Group"},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[13.222,0],[0,13.222]],o:[[0,13.222],[-13.221,0],[0,0]],v:[[23.94,-11.97],[0,11.97],[-23.94,-11.97]],c:!1}},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"st",c:{a:0,k:[.25882352941176473,.25882352941176473,.25882352941176473,1]},o:{a:0,k:100},w:{a:0,k:10},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[524.06,668.47],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,ix:3,mn:"ADBE Vector Group"},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-13.222,0],[0,-13.221],[0,0]],o:[[0,-13.222],[13.221,0],[0,0],[0,0]],v:[[-23.939,-6.583],[0,-30.523],[23.94,-6.583],[0,30.523]],c:!0}},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"fl",c:{a:0,k:[.25882352941176473,.25882352941176473,.25882352941176473,1]},o:{a:0,k:100},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill"},{ty:"tr",p:{a:0,k:[524.06,773.81],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,ix:4,mn:"ADBE Vector Group"},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[6.412,0],[0,13.222]],o:[[-4.297,4.104],[-13.222,0],[0,0]],v:[[20.236,5.345],[3.704,11.97],[-20.236,-11.97]],c:!1}},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"st",c:{a:0,k:[.25882352941176473,.25882352941176473,.25882352941176473,1]},o:{a:0,k:100},w:{a:0,k:10},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[568.231,668.47],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 5",np:2,cix:2,ix:5,mn:"ADBE Vector Group"},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[13.222,0],[3.802,2.543]],o:[[0,13.222],[-4.917,0],[0,0]],v:[[18.616,-11.97],[-5.324,11.97],[-18.616,7.944]],c:!1}},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"st",c:{a:0,k:[.25882352941176473,.25882352941176473,.25882352941176473,1]},o:{a:0,k:100},w:{a:0,k:10},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[481.509,668.47],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 6",np:2,cix:2,ix:6,mn:"ADBE Vector Group"},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[-33.936,0],[0,-34]],o:[[0,-34],[33.935,0],[0,0]],v:[[-61.446,30.723],[0,-30.723],[61.446,30.723]],c:!1}},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"st",c:{a:0,k:[.25882352941176473,.25882352941176473,.25882352941176473,1]},o:{a:0,k:100},w:{a:0,k:20},lc:3,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[524.06,245.277],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 7",np:2,cix:2,ix:7,mn:"ADBE Vector Group"},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[61.446,10.827],[-61.446,10.827],[-61.446,-10.827],[61.446,-10.827]],c:!0}},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"fl",c:{a:0,k:[.25882352941176473,.25882352941176473,.25882352941176473,1]},o:{a:0,k:100},r:1,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill"},{ty:"tr",p:{a:0,k:[524.06,336.333],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 8",np:2,cix:2,ix:8,mn:"ADBE Vector Group"},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[61.446,130.452],[0,258.452],[-61.446,130.452],[-61.446,-258.452],[61.446,-258.452]],c:!0}},nm:"Path 1",mn:"ADBE Vector Shape - Group"},{ty:"st",c:{a:0,k:[.25882352941176473,.25882352941176473,.25882352941176473,1]},o:{a:0,k:100},w:{a:0,k:20},lc:1,lj:1,ml:10,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[524.06,551.548],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 9",np:2,cix:2,ix:9,mn:"ADBE Vector Group"}],ip:0,op:49,st:0,bm:0,sr:1},{ddd:0,ind:4,ty:4,nm:"Shape Layer 1",ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[400,400,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[],ip:0,op:49,st:0,bm:0,sr:1}],animLoading={v:v$1,fr,ip,op,w:w$1,h:h$1,nm,ddd,assets,layers},_hoisted_1$6={class:"absolute inset-0 bg-bg flex-ccc"},_hoisted_2$4=createBaseVNode("div",{class:"w-32 h-32"},null,-1),_sfc_main$6={__name:"Loading",setup(t){const e=ref(null);return onMounted(()=>{lottie.loadAnimation({container:e.value,renderer:"svg",loop:!0,autoplay:!0,animationData:animLoading})}),(r,_e)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("div",{class:"w-32 h-32",ref_key:"bodyAnimation",ref:e},null,512),renderSlot(r.$slots,"default"),_hoisted_2$4]))}},_hoisted_1$5={class:"w-full min-w-[320px] h-full relative"},_sfc_main$5={__name:"App",setup(t){const e=computed(()=>useStore().state.loadingMsg),r=computed(()=>useStore().state.isLoading);return(_e,Ce)=>{const Ee=resolveComponent("router-view");return openBlock(),createElementBlock("div",_hoisted_1$5,[createVNode(Ee),createVNode(_sfc_main$6,{class:normalizeClass(["transition-all duration-500",unref(r)?"z-50 opacity-100":"-z-10 opacity-0"])},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(e)),1)]),_:1},8,["class"])])}}};/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(t,e){const r={};for(const _e in e){const Ce=e[_e];r[_e]=isArray(Ce)?Ce.map(t):t(Ce)}return r}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=t=>t.replace(TRAILING_SLASH_RE,"");function parseURL(t,e,r="/"){let _e,Ce={},Ee="",Re="";const Pe=e.indexOf("#");let St=e.indexOf("?");return Pe<St&&Pe>=0&&(St=-1),St>-1&&(_e=e.slice(0,St),Ee=e.slice(St+1,Pe>-1?Pe:e.length),Ce=t(Ee)),Pe>-1&&(_e=_e||e.slice(0,Pe),Re=e.slice(Pe,e.length)),_e=resolveRelativePath(_e!=null?_e:e,r),{fullPath:_e+(Ee&&"?")+Ee+Re,path:_e,query:Ce,hash:Re}}function stringifyURL(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function stripBase(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function isSameRouteLocation(t,e,r){const _e=e.matched.length-1,Ce=r.matched.length-1;return _e>-1&&_e===Ce&&isSameRouteRecord(e.matched[_e],r.matched[Ce])&&isSameRouteLocationParams(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function isSameRouteRecord(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function isSameRouteLocationParams(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!isSameRouteLocationParamsValue(t[r],e[r]))return!1;return!0}function isSameRouteLocationParamsValue(t,e){return isArray(t)?isEquivalentArray(t,e):isArray(e)?isEquivalentArray(e,t):t===e}function isEquivalentArray(t,e){return isArray(e)?t.length===e.length&&t.every((r,_e)=>r===e[_e]):t.length===1&&t[0]===e}function resolveRelativePath(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),_e=t.split("/");let Ce=r.length-1,Ee,Re;for(Ee=0;Ee<_e.length;Ee++)if(Re=_e[Ee],Re!==".")if(Re==="..")Ce>1&&Ce--;else break;return r.slice(0,Ce).join("/")+"/"+_e.slice(Ee-(Ee===_e.length?1:0)).join("/")}var NavigationType;(function(t){t.pop="pop",t.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(t){t.back="back",t.forward="forward",t.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(t){if(!t)if(isBrowser){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),removeTrailingSlash(t)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(t,e){return t.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(t,e){const r=document.documentElement.getBoundingClientRect(),_e=t.getBoundingClientRect();return{behavior:e.behavior,left:_e.left-r.left-(e.left||0),top:_e.top-r.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(t){let e;if("el"in t){const r=t.el,_e=typeof r=="string"&&r.startsWith("#"),Ce=typeof r=="string"?_e?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!Ce)return;e=getElementPosition(Ce,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(t,e){return(history.state?history.state.position-e:-1)+t}const scrollPositions=new Map;function saveScrollPosition(t,e){scrollPositions.set(t,e)}function getSavedScrollPosition(t){const e=scrollPositions.get(t);return scrollPositions.delete(t),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(t,e){const{pathname:r,search:_e,hash:Ce}=e,Ee=t.indexOf("#");if(Ee>-1){let Pe=Ce.includes(t.slice(Ee))?t.slice(Ee).length:1,St=Ce.slice(Pe);return St[0]!=="/"&&(St="/"+St),stripBase(St,"")}return stripBase(r,t)+_e+Ce}function useHistoryListeners(t,e,r,_e){let Ce=[],Ee=[],Re=null;const Pe=({state:xe})=>{const Se=createCurrentLocation(t,location),Fe=r.value,Ie=e.value;let Me=0;if(xe){if(r.value=Se,e.value=xe,Re&&Re===Fe){Re=null;return}Me=Ie?xe.position-Ie.position:0}else _e(Se);Ce.forEach(Oe=>{Oe(r.value,Fe,{delta:Me,type:NavigationType.pop,direction:Me?Me>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function St(){Re=r.value}function Te(xe){Ce.push(xe);const Se=()=>{const Fe=Ce.indexOf(xe);Fe>-1&&Ce.splice(Fe,1)};return Ee.push(Se),Se}function ke(){const{history:xe}=window;!xe.state||xe.replaceState(assign({},xe.state,{scroll:computeScrollPosition()}),"")}function Ae(){for(const xe of Ee)xe();Ee=[],window.removeEventListener("popstate",Pe),window.removeEventListener("beforeunload",ke)}return window.addEventListener("popstate",Pe),window.addEventListener("beforeunload",ke),{pauseListeners:St,listen:Te,destroy:Ae}}function buildState(t,e,r,_e=!1,Ce=!1){return{back:t,current:e,forward:r,replaced:_e,position:window.history.length,scroll:Ce?computeScrollPosition():null}}function useHistoryStateNavigation(t){const{history:e,location:r}=window,_e={value:createCurrentLocation(t,r)},Ce={value:e.state};Ce.value||Ee(_e.value,{back:null,current:_e.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function Ee(St,Te,ke){const Ae=t.indexOf("#"),xe=Ae>-1?(r.host&&document.querySelector("base")?t:t.slice(Ae))+St:createBaseLocation()+t+St;try{e[ke?"replaceState":"pushState"](Te,"",xe),Ce.value=Te}catch(Se){console.error(Se),r[ke?"replace":"assign"](xe)}}function Re(St,Te){const ke=assign({},e.state,buildState(Ce.value.back,St,Ce.value.forward,!0),Te,{position:Ce.value.position});Ee(St,ke,!0),_e.value=St}function Pe(St,Te){const ke=assign({},Ce.value,e.state,{forward:St,scroll:computeScrollPosition()});Ee(ke.current,ke,!0);const Ae=assign({},buildState(_e.value,St,null),{position:ke.position+1},Te);Ee(St,Ae,!1),_e.value=St}return{location:_e,state:Ce,push:Pe,replace:Re}}function createWebHistory(t){t=normalizeBase(t);const e=useHistoryStateNavigation(t),r=useHistoryListeners(t,e.state,e.location,e.replace);function _e(Ee,Re=!0){Re||r.pauseListeners(),history.go(Ee)}const Ce=assign({location:"",base:t,go:_e,createHref:createHref.bind(null,t)},e,r);return Object.defineProperty(Ce,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(Ce,"state",{enumerable:!0,get:()=>e.state.value}),Ce}function createWebHashHistory(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),createWebHistory(t)}function isRouteLocation(t){return typeof t=="string"||t&&typeof t=="object"}function isRouteName(t){return typeof t=="string"||typeof t=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(t,e){return assign(new Error,{type:t,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(t,e){return t instanceof Error&&NavigationFailureSymbol in t&&(e==null||!!(t.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(t,e){const r=assign({},BASE_PATH_PARSER_OPTIONS,e),_e=[];let Ce=r.start?"^":"";const Ee=[];for(const Te of t){const ke=Te.length?[]:[90];r.strict&&!Te.length&&(Ce+="/");for(let Ae=0;Ae<Te.length;Ae++){const xe=Te[Ae];let Se=40+(r.sensitive?.25:0);if(xe.type===0)Ae||(Ce+="/"),Ce+=xe.value.replace(REGEX_CHARS_RE,"\\$&"),Se+=40;else if(xe.type===1){const{value:Fe,repeatable:Ie,optional:Me,regexp:Oe}=xe;Ee.push({name:Fe,repeatable:Ie,optional:Me});const De=Oe||BASE_PARAM_PATTERN;if(De!==BASE_PARAM_PATTERN){Se+=10;try{new RegExp(`(${De})`)}catch(je){throw new Error(`Invalid custom RegExp for param "${Fe}" (${De}): `+je.message)}}let Be=Ie?`((?:${De})(?:/(?:${De}))*)`:`(${De})`;Ae||(Be=Me&&Te.length<2?`(?:/${Be})`:"/"+Be),Me&&(Be+="?"),Ce+=Be,Se+=20,Me&&(Se+=-8),Ie&&(Se+=-20),De===".*"&&(Se+=-50)}ke.push(Se)}_e.push(ke)}if(r.strict&&r.end){const Te=_e.length-1;_e[Te][_e[Te].length-1]+=.7000000000000001}r.strict||(Ce+="/?"),r.end?Ce+="$":r.strict&&(Ce+="(?:/|$)");const Re=new RegExp(Ce,r.sensitive?"":"i");function Pe(Te){const ke=Te.match(Re),Ae={};if(!ke)return null;for(let xe=1;xe<ke.length;xe++){const Se=ke[xe]||"",Fe=Ee[xe-1];Ae[Fe.name]=Se&&Fe.repeatable?Se.split("/"):Se}return Ae}function St(Te){let ke="",Ae=!1;for(const xe of t){(!Ae||!ke.endsWith("/"))&&(ke+="/"),Ae=!1;for(const Se of xe)if(Se.type===0)ke+=Se.value;else if(Se.type===1){const{value:Fe,repeatable:Ie,optional:Me}=Se,Oe=Fe in Te?Te[Fe]:"";if(isArray(Oe)&&!Ie)throw new Error(`Provided param "${Fe}" is an array but it is not repeatable (* or + modifiers)`);const De=isArray(Oe)?Oe.join("/"):Oe;if(!De)if(Me)xe.length<2&&(ke.endsWith("/")?ke=ke.slice(0,-1):Ae=!0);else throw new Error(`Missing required param "${Fe}"`);ke+=De}}return ke||"/"}return{re:Re,score:_e,keys:Ee,parse:Pe,stringify:St}}function compareScoreArray(t,e){let r=0;for(;r<t.length&&r<e.length;){const _e=e[r]-t[r];if(_e)return _e;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function comparePathParserScore(t,e){let r=0;const _e=t.score,Ce=e.score;for(;r<_e.length&&r<Ce.length;){const Ee=compareScoreArray(_e[r],Ce[r]);if(Ee)return Ee;r++}if(Math.abs(Ce.length-_e.length)===1){if(isLastScoreNegative(_e))return 1;if(isLastScoreNegative(Ce))return-1}return Ce.length-_e.length}function isLastScoreNegative(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(t){if(!t)return[[]];if(t==="/")return[[ROOT_TOKEN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(Se){throw new Error(`ERR (${r})/"${Te}": ${Se}`)}let r=0,_e=r;const Ce=[];let Ee;function Re(){Ee&&Ce.push(Ee),Ee=[]}let Pe=0,St,Te="",ke="";function Ae(){!Te||(r===0?Ee.push({type:0,value:Te}):r===1||r===2||r===3?(Ee.length>1&&(St==="*"||St==="+")&&e(`A repeatable param (${Te}) must be alone in its segment. eg: '/:ids+.`),Ee.push({type:1,value:Te,regexp:ke,repeatable:St==="*"||St==="+",optional:St==="*"||St==="?"})):e("Invalid state to consume buffer"),Te="")}function xe(){Te+=St}for(;Pe<t.length;){if(St=t[Pe++],St==="\\"&&r!==2){_e=r,r=4;continue}switch(r){case 0:St==="/"?(Te&&Ae(),Re()):St===":"?(Ae(),r=1):xe();break;case 4:xe(),r=_e;break;case 1:St==="("?r=2:VALID_PARAM_RE.test(St)?xe():(Ae(),r=0,St!=="*"&&St!=="?"&&St!=="+"&&Pe--);break;case 2:St===")"?ke[ke.length-1]=="\\"?ke=ke.slice(0,-1)+St:r=3:ke+=St;break;case 3:Ae(),r=0,St!=="*"&&St!=="?"&&St!=="+"&&Pe--,ke="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${Te}"`),Ae(),Re(),Ce}function createRouteRecordMatcher(t,e,r){const _e=tokensToParser(tokenizePath(t.path),r),Ce=assign(_e,{record:t,parent:e,children:[],alias:[]});return e&&!Ce.record.aliasOf==!e.record.aliasOf&&e.children.push(Ce),Ce}function createRouterMatcher(t,e){const r=[],_e=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function Ce(ke){return _e.get(ke)}function Ee(ke,Ae,xe){const Se=!xe,Fe=normalizeRouteRecord(ke);Fe.aliasOf=xe&&xe.record;const Ie=mergeOptions(e,ke),Me=[Fe];if("alias"in ke){const Be=typeof ke.alias=="string"?[ke.alias]:ke.alias;for(const je of Be)Me.push(assign({},Fe,{components:xe?xe.record.components:Fe.components,path:je,aliasOf:xe?xe.record:Fe}))}let Oe,De;for(const Be of Me){const{path:je}=Be;if(Ae&&je[0]!=="/"){const ze=Ae.record.path,Ge=ze[ze.length-1]==="/"?"":"/";Be.path=Ae.record.path+(je&&Ge+je)}if(Oe=createRouteRecordMatcher(Be,Ae,Ie),xe?xe.alias.push(Oe):(De=De||Oe,De!==Oe&&De.alias.push(Oe),Se&&ke.name&&!isAliasRecord(Oe)&&Re(ke.name)),Fe.children){const ze=Fe.children;for(let Ge=0;Ge<ze.length;Ge++)Ee(ze[Ge],Oe,xe&&xe.children[Ge])}xe=xe||Oe,(Oe.record.components&&Object.keys(Oe.record.components).length||Oe.record.name||Oe.record.redirect)&&St(Oe)}return De?()=>{Re(De)}:noop}function Re(ke){if(isRouteName(ke)){const Ae=_e.get(ke);Ae&&(_e.delete(ke),r.splice(r.indexOf(Ae),1),Ae.children.forEach(Re),Ae.alias.forEach(Re))}else{const Ae=r.indexOf(ke);Ae>-1&&(r.splice(Ae,1),ke.record.name&&_e.delete(ke.record.name),ke.children.forEach(Re),ke.alias.forEach(Re))}}function Pe(){return r}function St(ke){let Ae=0;for(;Ae<r.length&&comparePathParserScore(ke,r[Ae])>=0&&(ke.record.path!==r[Ae].record.path||!isRecordChildOf(ke,r[Ae]));)Ae++;r.splice(Ae,0,ke),ke.record.name&&!isAliasRecord(ke)&&_e.set(ke.record.name,ke)}function Te(ke,Ae){let xe,Se={},Fe,Ie;if("name"in ke&&ke.name){if(xe=_e.get(ke.name),!xe)throw createRouterError(1,{location:ke});Ie=xe.record.name,Se=assign(paramsFromLocation(Ae.params,xe.keys.filter(De=>!De.optional).map(De=>De.name)),ke.params&&paramsFromLocation(ke.params,xe.keys.map(De=>De.name))),Fe=xe.stringify(Se)}else if("path"in ke)Fe=ke.path,xe=r.find(De=>De.re.test(Fe)),xe&&(Se=xe.parse(Fe),Ie=xe.record.name);else{if(xe=Ae.name?_e.get(Ae.name):r.find(De=>De.re.test(Ae.path)),!xe)throw createRouterError(1,{location:ke,currentLocation:Ae});Ie=xe.record.name,Se=assign({},Ae.params,ke.params),Fe=xe.stringify(Se)}const Me=[];let Oe=xe;for(;Oe;)Me.unshift(Oe.record),Oe=Oe.parent;return{name:Ie,path:Fe,params:Se,matched:Me,meta:mergeMetaFields(Me)}}return t.forEach(ke=>Ee(ke)),{addRoute:Ee,resolve:Te,removeRoute:Re,getRoutes:Pe,getRecordMatcher:Ce}}function paramsFromLocation(t,e){const r={};for(const _e of e)_e in t&&(r[_e]=t[_e]);return r}function normalizeRouteRecord(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:normalizeRecordProps(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function normalizeRecordProps(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const _e in t.components)e[_e]=typeof r=="boolean"?r:r[_e];return e}function isAliasRecord(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mergeMetaFields(t){return t.reduce((e,r)=>assign(e,r.meta),{})}function mergeOptions(t,e){const r={};for(const _e in t)r[_e]=_e in e?e[_e]:t[_e];return r}function isRecordChildOf(t,e){return e.children.some(r=>r===t||isRecordChildOf(t,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(t){return encodeURI(""+t).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(t){return commonEncode(t).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(t){return commonEncode(t).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(t){return encodeQueryValue(t).replace(EQUAL_RE,"%3D")}function encodePath(t){return commonEncode(t).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(t){return t==null?"":encodePath(t).replace(SLASH_RE,"%2F")}function decode(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function parseQuery(t){const e={};if(t===""||t==="?")return e;const _e=(t[0]==="?"?t.slice(1):t).split("&");for(let Ce=0;Ce<_e.length;++Ce){const Ee=_e[Ce].replace(PLUS_RE," "),Re=Ee.indexOf("="),Pe=decode(Re<0?Ee:Ee.slice(0,Re)),St=Re<0?null:decode(Ee.slice(Re+1));if(Pe in e){let Te=e[Pe];isArray(Te)||(Te=e[Pe]=[Te]),Te.push(St)}else e[Pe]=St}return e}function stringifyQuery(t){let e="";for(let r in t){const _e=t[r];if(r=encodeQueryKey(r),_e==null){_e!==void 0&&(e+=(e.length?"&":"")+r);continue}(isArray(_e)?_e.map(Ee=>Ee&&encodeQueryValue(Ee)):[_e&&encodeQueryValue(_e)]).forEach(Ee=>{Ee!==void 0&&(e+=(e.length?"&":"")+r,Ee!=null&&(e+="="+Ee))})}return e}function normalizeQuery(t){const e={};for(const r in t){const _e=t[r];_e!==void 0&&(e[r]=isArray(_e)?_e.map(Ce=>Ce==null?null:""+Ce):_e==null?_e:""+_e)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let t=[];function e(_e){return t.push(_e),()=>{const Ce=t.indexOf(_e);Ce>-1&&t.splice(Ce,1)}}function r(){t=[]}return{add:e,list:()=>t,reset:r}}function guardToPromiseFn(t,e,r,_e,Ce){const Ee=_e&&(_e.enterCallbacks[Ce]=_e.enterCallbacks[Ce]||[]);return()=>new Promise((Re,Pe)=>{const St=Ae=>{Ae===!1?Pe(createRouterError(4,{from:r,to:e})):Ae instanceof Error?Pe(Ae):isRouteLocation(Ae)?Pe(createRouterError(2,{from:e,to:Ae})):(Ee&&_e.enterCallbacks[Ce]===Ee&&typeof Ae=="function"&&Ee.push(Ae),Re())},Te=t.call(_e&&_e.instances[Ce],e,r,St);let ke=Promise.resolve(Te);t.length<3&&(ke=ke.then(St)),ke.catch(Ae=>Pe(Ae))})}function extractComponentsGuards(t,e,r,_e){const Ce=[];for(const Ee of t)for(const Re in Ee.components){let Pe=Ee.components[Re];if(!(e!=="beforeRouteEnter"&&!Ee.instances[Re]))if(isRouteComponent(Pe)){const Te=(Pe.__vccOpts||Pe)[e];Te&&Ce.push(guardToPromiseFn(Te,r,_e,Ee,Re))}else{let St=Pe();Ce.push(()=>St.then(Te=>{if(!Te)return Promise.reject(new Error(`Couldn't resolve component "${Re}" at "${Ee.path}"`));const ke=isESModule(Te)?Te.default:Te;Ee.components[Re]=ke;const xe=(ke.__vccOpts||ke)[e];return xe&&guardToPromiseFn(xe,r,_e,Ee,Re)()}))}}return Ce}function isRouteComponent(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function useLink(t){const e=inject(routerKey),r=inject(routeLocationKey),_e=computed(()=>e.resolve(unref(t.to))),Ce=computed(()=>{const{matched:St}=_e.value,{length:Te}=St,ke=St[Te-1],Ae=r.matched;if(!ke||!Ae.length)return-1;const xe=Ae.findIndex(isSameRouteRecord.bind(null,ke));if(xe>-1)return xe;const Se=getOriginalPath(St[Te-2]);return Te>1&&getOriginalPath(ke)===Se&&Ae[Ae.length-1].path!==Se?Ae.findIndex(isSameRouteRecord.bind(null,St[Te-2])):xe}),Ee=computed(()=>Ce.value>-1&&includesParams(r.params,_e.value.params)),Re=computed(()=>Ce.value>-1&&Ce.value===r.matched.length-1&&isSameRouteLocationParams(r.params,_e.value.params));function Pe(St={}){return guardEvent(St)?e[unref(t.replace)?"replace":"push"](unref(t.to)).catch(noop):Promise.resolve()}return{route:_e,href:computed(()=>_e.value.href),isActive:Ee,isExactActive:Re,navigate:Pe}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(t,{slots:e}){const r=reactive(useLink(t)),{options:_e}=inject(routerKey),Ce=computed(()=>({[getLinkClass(t.activeClass,_e.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(t.exactActiveClass,_e.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const Ee=e.default&&e.default(r);return t.custom?Ee:h$2("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:Ce.value},Ee)}}}),RouterLink=RouterLinkImpl;function guardEvent(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function includesParams(t,e){for(const r in e){const _e=e[r],Ce=t[r];if(typeof _e=="string"){if(_e!==Ce)return!1}else if(!isArray(Ce)||Ce.length!==_e.length||_e.some((Ee,Re)=>Ee!==Ce[Re]))return!1}return!0}function getOriginalPath(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const getLinkClass=(t,e,r)=>t!=null?t:e!=null?e:r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const _e=inject(routerViewLocationKey),Ce=computed(()=>t.route||_e.value),Ee=inject(viewDepthKey,0),Re=computed(()=>{let Te=unref(Ee);const{matched:ke}=Ce.value;let Ae;for(;(Ae=ke[Te])&&!Ae.components;)Te++;return Te}),Pe=computed(()=>Ce.value.matched[Re.value]);provide(viewDepthKey,computed(()=>Re.value+1)),provide(matchedRouteKey,Pe),provide(routerViewLocationKey,Ce);const St=ref();return watch(()=>[St.value,Pe.value,t.name],([Te,ke,Ae],[xe,Se,Fe])=>{ke&&(ke.instances[Ae]=Te,Se&&Se!==ke&&Te&&Te===xe&&(ke.leaveGuards.size||(ke.leaveGuards=Se.leaveGuards),ke.updateGuards.size||(ke.updateGuards=Se.updateGuards))),Te&&ke&&(!Se||!isSameRouteRecord(ke,Se)||!xe)&&(ke.enterCallbacks[Ae]||[]).forEach(Ie=>Ie(Te))},{flush:"post"}),()=>{const Te=Ce.value,ke=t.name,Ae=Pe.value,xe=Ae&&Ae.components[ke];if(!xe)return normalizeSlot(r.default,{Component:xe,route:Te});const Se=Ae.props[ke],Fe=Se?Se===!0?Te.params:typeof Se=="function"?Se(Te):Se:null,Me=h$2(xe,assign({},Fe,e,{onVnodeUnmounted:Oe=>{Oe.component.isUnmounted&&(Ae.instances[ke]=null)},ref:St}));return normalizeSlot(r.default,{Component:Me,route:Te})||Me}}});function normalizeSlot(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(t){const e=createRouterMatcher(t.routes,t),r=t.parseQuery||parseQuery,_e=t.stringifyQuery||stringifyQuery,Ce=t.history,Ee=useCallbacks(),Re=useCallbacks(),Pe=useCallbacks(),St=shallowRef(START_LOCATION_NORMALIZED);let Te=START_LOCATION_NORMALIZED;isBrowser&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const ke=applyToParams.bind(null,Ke=>""+Ke),Ae=applyToParams.bind(null,encodeParam),xe=applyToParams.bind(null,decode);function Se(Ke,lr){let mr,Ar;return isRouteName(Ke)?(mr=e.getRecordMatcher(Ke),Ar=lr):Ar=Ke,e.addRoute(Ar,mr)}function Fe(Ke){const lr=e.getRecordMatcher(Ke);lr&&e.removeRoute(lr)}function Ie(){return e.getRoutes().map(Ke=>Ke.record)}function Me(Ke){return!!e.getRecordMatcher(Ke)}function Oe(Ke,lr){if(lr=assign({},lr||St.value),typeof Ke=="string"){const ur=parseURL(r,Ke,lr.path),ar=e.resolve({path:ur.path},lr),Sr=Ce.createHref(ur.fullPath);return assign(ur,ar,{params:xe(ar.params),hash:decode(ur.hash),redirectedFrom:void 0,href:Sr})}let mr;if("path"in Ke)mr=assign({},Ke,{path:parseURL(r,Ke.path,lr.path).path});else{const ur=assign({},Ke.params);for(const ar in ur)ur[ar]==null&&delete ur[ar];mr=assign({},Ke,{params:Ae(Ke.params)}),lr.params=Ae(lr.params)}const Ar=e.resolve(mr,lr),Pr=Ke.hash||"";Ar.params=ke(xe(Ar.params));const Rr=stringifyURL(_e,assign({},Ke,{hash:encodeHash(Pr),path:Ar.path})),Ir=Ce.createHref(Rr);return assign({fullPath:Rr,hash:Pr,query:_e===stringifyQuery?normalizeQuery(Ke.query):Ke.query||{}},Ar,{redirectedFrom:void 0,href:Ir})}function De(Ke){return typeof Ke=="string"?parseURL(r,Ke,St.value.path):assign({},Ke)}function Be(Ke,lr){if(Te!==Ke)return createRouterError(8,{from:lr,to:Ke})}function je(Ke){return We(Ke)}function ze(Ke){return je(assign(De(Ke),{replace:!0}))}function Ge(Ke){const lr=Ke.matched[Ke.matched.length-1];if(lr&&lr.redirect){const{redirect:mr}=lr;let Ar=typeof mr=="function"?mr(Ke):mr;return typeof Ar=="string"&&(Ar=Ar.includes("?")||Ar.includes("#")?Ar=De(Ar):{path:Ar},Ar.params={}),assign({query:Ke.query,hash:Ke.hash,params:"path"in Ar?{}:Ke.params},Ar)}}function We(Ke,lr){const mr=Te=Oe(Ke),Ar=St.value,Pr=Ke.state,Rr=Ke.force,Ir=Ke.replace===!0,ur=Ge(mr);if(ur)return We(assign(De(ur),{state:typeof ur=="object"?assign({},Pr,ur.state):Pr,force:Rr,replace:Ir}),lr||mr);const ar=mr;ar.redirectedFrom=lr;let Sr;return!Rr&&isSameRouteLocation(_e,Ar,mr)&&(Sr=createRouterError(16,{to:ar,from:Ar}),tr(Ar,Ar,!0,!1)),(Sr?Promise.resolve(Sr):hr(ar,Ar)).catch(wr=>isNavigationFailure(wr)?isNavigationFailure(wr,2)?wr:$e(wr):nr(wr,ar,Ar)).then(wr=>{if(wr){if(isNavigationFailure(wr,2))return We(assign({replace:Ir},De(wr.to),{state:typeof wr.to=="object"?assign({},Pr,wr.to.state):Pr,force:Rr}),lr||ar)}else wr=rr(ar,Ar,!0,Ir,Pr);return xr(ar,Ar,wr),wr})}function Ue(Ke,lr){const mr=Be(Ke,lr);return mr?Promise.reject(mr):Promise.resolve()}function hr(Ke,lr){let mr;const[Ar,Pr,Rr]=extractChangingRecords(Ke,lr);mr=extractComponentsGuards(Ar.reverse(),"beforeRouteLeave",Ke,lr);for(const ur of Ar)ur.leaveGuards.forEach(ar=>{mr.push(guardToPromiseFn(ar,Ke,lr))});const Ir=Ue.bind(null,Ke,lr);return mr.push(Ir),runGuardQueue(mr).then(()=>{mr=[];for(const ur of Ee.list())mr.push(guardToPromiseFn(ur,Ke,lr));return mr.push(Ir),runGuardQueue(mr)}).then(()=>{mr=extractComponentsGuards(Pr,"beforeRouteUpdate",Ke,lr);for(const ur of Pr)ur.updateGuards.forEach(ar=>{mr.push(guardToPromiseFn(ar,Ke,lr))});return mr.push(Ir),runGuardQueue(mr)}).then(()=>{mr=[];for(const ur of Ke.matched)if(ur.beforeEnter&&!lr.matched.includes(ur))if(isArray(ur.beforeEnter))for(const ar of ur.beforeEnter)mr.push(guardToPromiseFn(ar,Ke,lr));else mr.push(guardToPromiseFn(ur.beforeEnter,Ke,lr));return mr.push(Ir),runGuardQueue(mr)}).then(()=>(Ke.matched.forEach(ur=>ur.enterCallbacks={}),mr=extractComponentsGuards(Rr,"beforeRouteEnter",Ke,lr),mr.push(Ir),runGuardQueue(mr))).then(()=>{mr=[];for(const ur of Re.list())mr.push(guardToPromiseFn(ur,Ke,lr));return mr.push(Ir),runGuardQueue(mr)}).catch(ur=>isNavigationFailure(ur,8)?ur:Promise.reject(ur))}function xr(Ke,lr,mr){for(const Ar of Pe.list())Ar(Ke,lr,mr)}function rr(Ke,lr,mr,Ar,Pr){const Rr=Be(Ke,lr);if(Rr)return Rr;const Ir=lr===START_LOCATION_NORMALIZED,ur=isBrowser?history.state:{};mr&&(Ar||Ir?Ce.replace(Ke.fullPath,assign({scroll:Ir&&ur&&ur.scroll},Pr)):Ce.push(Ke.fullPath,Pr)),St.value=Ke,tr(Ke,lr,mr,Ir),$e()}let er;function vr(){er||(er=Ce.listen((Ke,lr,mr)=>{if(!Qe.listening)return;const Ar=Oe(Ke),Pr=Ge(Ar);if(Pr){We(assign(Pr,{replace:!0}),Ar).catch(noop);return}Te=Ar;const Rr=St.value;isBrowser&&saveScrollPosition(getScrollKey(Rr.fullPath,mr.delta),computeScrollPosition()),hr(Ar,Rr).catch(Ir=>isNavigationFailure(Ir,12)?Ir:isNavigationFailure(Ir,2)?(We(Ir.to,Ar).then(ur=>{isNavigationFailure(ur,20)&&!mr.delta&&mr.type===NavigationType.pop&&Ce.go(-1,!1)}).catch(noop),Promise.reject()):(mr.delta&&Ce.go(-mr.delta,!1),nr(Ir,Ar,Rr))).then(Ir=>{Ir=Ir||rr(Ar,Rr,!1),Ir&&(mr.delta&&!isNavigationFailure(Ir,8)?Ce.go(-mr.delta,!1):mr.type===NavigationType.pop&&isNavigationFailure(Ir,20)&&Ce.go(-1,!1)),xr(Ar,Rr,Ir)}).catch(noop)}))}let gr=useCallbacks(),br=useCallbacks(),sr;function nr(Ke,lr,mr){$e(Ke);const Ar=br.list();return Ar.length?Ar.forEach(Pr=>Pr(Ke,lr,mr)):console.error(Ke),Promise.reject(Ke)}function Je(){return sr&&St.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Ke,lr)=>{gr.add([Ke,lr])})}function $e(Ke){return sr||(sr=!Ke,vr(),gr.list().forEach(([lr,mr])=>Ke?mr(Ke):lr()),gr.reset()),Ke}function tr(Ke,lr,mr,Ar){const{scrollBehavior:Pr}=t;if(!isBrowser||!Pr)return Promise.resolve();const Rr=!mr&&getSavedScrollPosition(getScrollKey(Ke.fullPath,0))||(Ar||!mr)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Pr(Ke,lr,Rr)).then(Ir=>Ir&&scrollToPosition(Ir)).catch(Ir=>nr(Ir,Ke,lr))}const ir=Ke=>Ce.go(Ke);let Xe;const cr=new Set,Qe={currentRoute:St,listening:!0,addRoute:Se,removeRoute:Fe,hasRoute:Me,getRoutes:Ie,resolve:Oe,options:t,push:je,replace:ze,go:ir,back:()=>ir(-1),forward:()=>ir(1),beforeEach:Ee.add,beforeResolve:Re.add,afterEach:Pe.add,onError:br.add,isReady:Je,install(Ke){const lr=this;Ke.component("RouterLink",RouterLink),Ke.component("RouterView",RouterView),Ke.config.globalProperties.$router=lr,Object.defineProperty(Ke.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(St)}),isBrowser&&!Xe&&St.value===START_LOCATION_NORMALIZED&&(Xe=!0,je(Ce.location).catch(Pr=>{}));const mr={};for(const Pr in START_LOCATION_NORMALIZED)mr[Pr]=computed(()=>St.value[Pr]);Ke.provide(routerKey,lr),Ke.provide(routeLocationKey,reactive(mr)),Ke.provide(routerViewLocationKey,St);const Ar=Ke.unmount;cr.add(Ke),Ke.unmount=function(){cr.delete(Ke),cr.size<1&&(Te=START_LOCATION_NORMALIZED,er&&er(),er=null,St.value=START_LOCATION_NORMALIZED,Xe=!1,sr=!1),Ar()}}};return Qe}function runGuardQueue(t){return t.reduce((e,r)=>e.then(()=>r()),Promise.resolve())}function extractChangingRecords(t,e){const r=[],_e=[],Ce=[],Ee=Math.max(e.matched.length,t.matched.length);for(let Re=0;Re<Ee;Re++){const Pe=e.matched[Re];Pe&&(t.matched.find(Te=>isSameRouteRecord(Te,Pe))?_e.push(Pe):r.push(Pe));const St=t.matched[Re];St&&(e.matched.find(Te=>isSameRouteRecord(Te,St))||Ce.push(St))}return[r,_e,Ce]}function useRouter(){return inject(routerKey)}const _imports_0$1="/f2e2022-week2-signer/assets/logo.c1263444.svg",_imports_1$1="/f2e2022-week2-signer/assets/img_file.8cf28e20.png",_imports_2$1="/f2e2022-week2-signer/assets/lawn_1.efab4ff9.png",_imports_3="/f2e2022-week2-signer/assets/lawn_2.8781a0b1.png",_imports_4="/f2e2022-week2-signer/assets/person_1.dcd7e669.png",_imports_5="/f2e2022-week2-signer/assets/person_2.0ca182e4.png",_imports_6="/f2e2022-week2-signer/assets/person_3.fac49e9e.png",_imports_7="/f2e2022-week2-signer/assets/plant_1.ef3b7e88.png",_imports_8="/f2e2022-week2-signer/assets/plant_2.47485d77.png",_imports_9="/f2e2022-week2-signer/assets/plant_3.37bd8059.png",selectImageFile=(t,e=1e11,r="100 GB")=>new Promise((_e,Ce)=>{if(t&&t.target&&t.target.files&&t.target.files.length>0){const Ee=t.target.files[0];if(Ee.size>e){const Re=`${Ee.name} \u9078\u64C7\u5931\u6557\u3002(\u55AE\u6A94\u6700\u5927\u4E0D\u53EF\u8D85\u904E ${r}\u3002)`;console.log(Re),Ce(Re),t.target.value="";return}if(/\.(jpe?g|png|svg)$/i.test(Ee.name)){let Re=new FileReader;Re.addEventListener("load",function(){Ee.preview=Re.result,_e(Ee)},!1),Re.addEventListener("error",Ce),Re.readAsDataURL(Ee)}else if(/\.(pdf)$/i.test(Ee.name)){let Re=new FileReader;Re.addEventListener("load",function(){const Pe=new Uint8Array(Re.result);_e(Pe)},!1),Re.readAsArrayBuffer(Ee)}else{const Re=`${Ee.name} \u683C\u5F0F\u4E0D\u7B26\u5408\u3002`;console.log(Re),Ce(Re)}t.target.value=""}else Ce("\u627E\u4E0D\u5230\u4F86\u6E90\u6A94\u6848\uFF0C\u8ACB\u91CD\u65B0\u9078\u64C7\u3002")}),Home_vue_vue_type_style_index_0_scoped_b4a25878_lang="",_export_sfc=(t,e)=>{const r=t.__vccOpts||t;for(const[_e,Ce]of e)r[_e]=Ce;return r},_withScopeId=t=>(pushScopeId("data-v-b4a25878"),t=t(),popScopeId(),t),_hoisted_1$4={class:"w-full h-full xl:bg-white relative"},_hoisted_2$3={class:"absolute top-0 w-full px-9 pt-6 flex-ctc gap-3 xl:hidden"},_hoisted_3$3=_withScopeId(()=>createBaseVNode("div",{class:"w-full flex-rsbb"},[createBaseVNode("img",{class:"h-15",src:_imports_0$1,alt:"logo"}),createBaseVNode("a",{class:"text-lg text-black",href:"#"},"\u6B77\u53F2\u7D00\u9304")],-1)),_hoisted_4$3={class:"w-full h-[57vh] bg-white border-2 border-dashed border-gray rounded-[26px] p-8 relative"},_hoisted_5$3=_withScopeId(()=>createBaseVNode("img",{class:"absolute top-[10%] inset-x-1/2 -translate-x-1/2 h-[28.6%]",src:_imports_1$1,alt:"image"},null,-1)),_hoisted_6$3={class:"z-10 absolute-center w-full flex-ccc gap-2 pt-16"},_hoisted_7$3={class:"btn-anim rounded-2xl px-16 py-4 bg-gradient-primary text-white text-lg cursor-pointer"},_hoisted_8$3=["value"],_hoisted_9$3=_withScopeId(()=>createBaseVNode("p",{class:"text-primary"},"(\u9650 10MB \u5167\u7684 PDF \u6A94)",-1)),_hoisted_10$2={class:"absolute inset-0 w-auto mt-6 mx-9 mb-14 hidden xl:block"},_hoisted_11$2=createStaticVNode('<div class="w-full flex-rsbb" data-v-b4a25878><img class="h-15" src="'+_imports_0$1+'" alt="logo" data-v-b4a25878><a class="text-lg text-black mr-28" href="#" data-v-b4a25878>\u6B77\u53F2\u7D00\u9304</a></div><div class="absolute inset-x-20 top-20 bottom-0 bg-bg rounded-[34px]" data-v-b4a25878><div class="absolute top-0 left-0 bg-gradient-primary px-12 py-3 text-2xl text-white rounded-tl-[34px] rounded-br-[34px]" data-v-b4a25878>\u514D\u8CBB\u8A66\u7528\u7248</div><div class="absolute top-[19%] left-[7%] flex-ctl gap-4" data-v-b4a25878><h1 class="text-5xl font-bold bg-clip-text text-transparent bg-gradient-primary" data-v-b4a25878>\u5C0F\u7DA0\u7C3D</h1><div class="text-black" data-v-b4a25878><p data-v-b4a25878>\u8B77\u6A39\u3001\u6C38\u7E8C\u3001\u6E1B\u78B3\u7684\u7DA0\u8272\u751F\u6D3B</p><p data-v-b4a25878>\u97FF\u61C9\u74B0\u4FDD\u7121\u7D19\u5316\u96FB\u5B50\u7C3D\u7F72\uFF0C</p><p data-v-b4a25878>\u7701\u6642\u4FBF\u5229\u53C8\u74B0\u4FDD\u3002</p></div></div></div>',2),_hoisted_13$2={class:"absolute top-[13%] right-[15%] w-[32.6%] h-[52%] bg-white border-2 border-dashed border-gray rounded-[26px] p-8"},_hoisted_14$2=_withScopeId(()=>createBaseVNode("img",{class:"absolute top-[10%] inset-x-1/2 -translate-x-1/2 h-[28.6%]",src:_imports_1$1,alt:"image"},null,-1)),_hoisted_15$2={class:"z-10 absolute-center w-full flex-ccc gap-2 pt-16"},_hoisted_16$2={class:"btn-anim rounded-2xl px-16 py-4 bg-gradient-primary text-white text-lg cursor-pointer"},_hoisted_17$2=["value"],_hoisted_18$1=_withScopeId(()=>createBaseVNode("p",{class:"text-primary"},"(\u9650 10MB \u5167\u7684 PDF \u6A94)",-1)),_hoisted_19=createStaticVNode('<section class="absolute bottom-0 w-full h-full" data-v-b4a25878><img class="lawn-1" src="'+_imports_2$1+'" alt="illus lawn 1" data-v-b4a25878><img class="lawn-2" src="'+_imports_3+'" alt="illus lawn 2" data-v-b4a25878><img class="person-1" src="'+_imports_4+'" alt="illus person 1" data-v-b4a25878><img class="person-2" src="'+_imports_5+'" alt="illus person 2" data-v-b4a25878><img class="person-3" src="'+_imports_6+'" alt="illus person 3" data-v-b4a25878><img class="plant-1" src="'+_imports_7+'" alt="illus plant 1" data-v-b4a25878><img class="plant-2" src="'+_imports_8+'" alt="illus plant 2" data-v-b4a25878><img class="plant-3" src="'+_imports_9+'" alt="illus plant 3" data-v-b4a25878></section><footer class="absolute bottom-0 w-full py-2.5 text-center text-xs text-black" data-v-b4a25878> \u5C0F\u7DA0\u7C3D \xA9 Code: Eric Fei / Design: KT </footer>',2),_sfc_main$4={__name:"Home",setup(t){const e=useStore(),r=useRouter(),_e=ref(null),Ce=ref(null),Ee=Re=>{e.dispatch("startLoading","\u6A94\u6848\u8B80\u53D6\u4E2D..."),selectImageFile(Re,1e7,"10 MB").then(Pe=>{setTimeout(()=>{_e.value=Pe,e.dispatch("pdf/setCurrentPDF",Pe),e.dispatch("endLoading"),r.push("/sign/add")},1e3)}).catch(Pe=>{console.log(Pe,!1,!1,!0)})};return(Re,Pe)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("section",_hoisted_2$3,[_hoisted_3$3,createBaseVNode("div",_hoisted_4$3,[_hoisted_5$3,createBaseVNode("div",_hoisted_6$3,[createBaseVNode("label",_hoisted_7$3,[createTextVNode(" \u9078\u64C7\u6A94\u6848 "),createBaseVNode("input",{type:"file",class:"hidden",onChange:Ee,value:Ce.value,accept:".jpg,.jpeg,.pdf"},null,40,_hoisted_8$3)]),_hoisted_9$3])])]),createBaseVNode("section",_hoisted_10$2,[_hoisted_11$2,createBaseVNode("div",_hoisted_13$2,[_hoisted_14$2,createBaseVNode("div",_hoisted_15$2,[createBaseVNode("label",_hoisted_16$2,[createTextVNode(" \u9078\u64C7\u6A94\u6848 "),createBaseVNode("input",{type:"file",class:"hidden",onChange:Ee,value:Ce.value,accept:".jpg,.jpeg,.pdf"},null,40,_hoisted_17$2)]),_hoisted_18$1])])]),_hoisted_19]))}},Home=_export_sfc(_sfc_main$4,[["__scopeId","data-v-b4a25878"]]),canvasMeetDOM=t=>{if(t){const e=t.clientWidth,r=t.clientHeight;t.width=e,t.height=r}},_hoisted_1$3={class:"w-full bg-bg px-4 py-7 flex-ccc gap-6"},_hoisted_2$2={class:"rounded-2xl bg-white"},_hoisted_3$2={class:"w-full max-w-[600px] mt-12 flex-ccc gap-4"},_hoisted_4$2={class:"w-full flex-rsbc"},_hoisted_5$2={class:"flex-rcc gap-4"},_hoisted_6$2=createBaseVNode("div",{class:"w-9 h-9 rounded-full bg-black"},null,-1),_hoisted_7$2=[_hoisted_6$2],_hoisted_8$2=createBaseVNode("div",{class:"w-9 h-9 rounded-full bg-blue"},null,-1),_hoisted_9$2=[_hoisted_8$2],_hoisted_10$1=createBaseVNode("div",{class:"w-9 h-9 rounded-full bg-red"},null,-1),_hoisted_11$1=[_hoisted_10$1],_hoisted_12$1=createBaseVNode("button",{id:"clear",type:"button",class:"btn-anim px-5 text-lg text-primary"},"\u6E05\u9664",-1),_hoisted_13$1=createBaseVNode("canvas",{id:"canvas",class:"w-full rounded-3xl bg-white"},null,-1),_hoisted_14$1={class:"w-full max-w-[600px] mt-12 rounded-3xl bg-white p-[10%] flex-ccc"},_hoisted_15$1={class:"my-15 btn-anim text-gray text-lg cursor-pointer"},_hoisted_16$1={id:"selected-img",src:"",alt:""},_hoisted_17$1=["value"],_hoisted_18={class:"flex-rcc gap-3"},_sfc_main$3={__name:"BlockSignManager",props:["from"],emits:["close"],setup(t,{emit:e}){const r=t,_e=useStore(),Ce=useRouter(),Ee="bg-gradient-primary text-white",Re="text-primary",Pe=ref("sign"),St=computed(()=>Pe.value==="sign"),Te=computed(()=>Pe.value==="import"),ke=ref(null),Ae=ref(null),xe={black:"#000000",blue:"#0014C7",red:"#CA0000"},Se=ref("black"),Fe=Ue=>{Ae.value&&(Se.value=Ue,Ae.value.strokeStyle=xe[Ue],Ae.value.stroke())},Ie=computed(()=>Se.value==="black"),Me=computed(()=>Se.value==="blue"),Oe=computed(()=>Se.value==="red");onMounted(()=>{ke.value=document.querySelector("#canvas"),Ae.value=ke.value.getContext("2d");const Ue=document.querySelector("#clear");canvasMeetDOM(ke.value),Ae.value.lineWidth=1,Ae.value.lineCap="round";let hr=!1;function xr(br){br.preventDefault(),hr=!0}function rr(){hr=!1,Ae.value.beginPath()}function er(br){if(!hr)return;const sr=vr(br);Ae.value.lineTo(sr.x,sr.y),Ae.value.stroke()}function vr(br){const sr=ke.value.getBoundingClientRect();return br.type==="mousemove"?{x:br.clientX-sr.left,y:br.clientY-sr.top}:{x:br.touches[0].clientX-sr.left,y:br.touches[0].clientY-sr.top}}function gr(){Ae.value.clearRect(0,0,ke.value.width,ke.value.height)}ke.value.addEventListener("mousedown",xr),ke.value.addEventListener("mousemove",er),ke.value.addEventListener("mouseup",rr),ke.value.addEventListener("mouseleave",rr),ke.value.addEventListener("touchstart",xr),ke.value.addEventListener("touchmove",er),ke.value.addEventListener("touchend",rr),ke.value.addEventListener("touchcancel",rr),Ue.addEventListener("click",gr)});const De=ref(null),Be=ref(null),je=ref(!1);onMounted(()=>{Be.value=document.querySelector("#selected-img")});const ze=Ue=>{_e.dispatch("startLoading","\u8B80\u6A94\u4E2D..."),selectImageFile(Ue,5e5,"500 KB").then(hr=>{setTimeout(()=>{Be.value.src=hr.preview,je.value=!0},1e3)}).catch(hr=>console.log(hr,!1,!1,!0)).finally(()=>_e.dispatch("endLoading"))},Ge=()=>{ke.value&&(_e.dispatch("startLoading","\u7C3D\u540D\u512A\u5316\u4E2D..."),St.value?_e.dispatch("sign/addSignFile",ke.value.toDataURL("image/png")):Te.value&&je.value&&_e.dispatch("sign/addSignFile",Be.value.src),setTimeout(()=>{_e.dispatch("endLoading"),We()},1e3))},We=()=>{r.from==="list"?e("close"):r.from==="flow"&&Ce.push("/pdf/add")};return(Ue,hr)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("button",{type:"button",class:normalizeClass(["btn-anim rounded-2xl px-7 py-2 text-lg cursor-pointer",unref(St)?Ee:Re]),onClick:hr[0]||(hr[0]=xr=>Pe.value="sign")},"\u624B\u5BEB\u7C3D\u540D",2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn-anim rounded-2xl px-7 py-2 text-lg cursor-pointer",unref(Te)?Ee:Re]),onClick:hr[1]||(hr[1]=xr=>Pe.value="import")},"\u532F\u5165\u7C3D\u540D\u6A94",2)]),withDirectives(createBaseVNode("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,[createBaseVNode("div",_hoisted_5$2,[createBaseVNode("button",{class:normalizeClass(["btn-anim w-11 h-11 rounded-full border-black flex-ccc",unref(Ie)?"border":""]),onClick:hr[2]||(hr[2]=xr=>Fe("black"))},_hoisted_7$2,2),createBaseVNode("button",{class:normalizeClass(["btn-anim w-11 h-11 rounded-full border-blue flex-ccc",unref(Me)?"border":""]),onClick:hr[3]||(hr[3]=xr=>Fe("blue"))},_hoisted_9$2,2),createBaseVNode("button",{class:normalizeClass(["btn-anim w-11 h-11 rounded-full border-red flex-ccc",unref(Oe)?"border":""]),onClick:hr[4]||(hr[4]=xr=>Fe("red"))},_hoisted_11$1,2)]),_hoisted_12$1]),_hoisted_13$1],512),[[vShow,unref(St)]]),withDirectives(createBaseVNode("div",_hoisted_14$1,[createBaseVNode("label",_hoisted_15$1,[withDirectives(createBaseVNode("p",null,"\u8ACB\u9078\u64C7\u6A94\u6848",512),[[vShow,!je.value]]),withDirectives(createBaseVNode("img",_hoisted_16$1,null,512),[[vShow,je.value]]),createBaseVNode("input",{type:"file",class:"hidden",onChange:ze,value:De.value,accept:".png,.svg"},null,40,_hoisted_17$1)])],512),[[vShow,unref(Te)]]),createBaseVNode("div",_hoisted_18,[createBaseVNode("button",{type:"button",class:"btn-anim rounded-2xl px-10 py-4 bg-white border border-primary text-primary text-lg cursor-pointer",onClick:hr[5]||(hr[5]=xr=>We())},toDisplayString(t.from==="flow"?"\u7565\u904E":"\u53D6\u6D88"),1),createBaseVNode("button",{type:"button",class:"btn-anim rounded-2xl px-10 py-4 bg-gradient-primary text-white text-lg cursor-pointer",onClick:hr[6]||(hr[6]=xr=>Ge())},toDisplayString(unref(St)?"\u5EFA\u7ACB\u7C3D\u540D":"\u52A0\u5165\u7C3D\u540D"),1)])]))}},_hoisted_1$2={class:"w-full h-full"},_sfc_main$2={__name:"SignManager",setup(t){return(e,r)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createVNode(_sfc_main$3,{from:"flow"})]))}},_imports_0="/f2e2022-week2-signer/assets/btn_prev.9459a4df.svg",_imports_1="/f2e2022-week2-signer/assets/btn_next.ee748fd3.svg",_imports_2="/f2e2022-week2-signer/assets/btn_delete_x.08ecb51b.svg";var fabric$1={};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1);(function(t){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.2.4"};if(t.fabric=e,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var r=require$$2,_e=new r.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=_e.document,e.jsdomImplForWrapper=require$$2.implForWrapper,e.nodeCanvas=require$$2.Canvas,e.window=_e,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=e),function(){function Pe(Se,Fe){if(!!this.__eventListeners[Se]){var Ie=this.__eventListeners[Se];Fe?Ie[Ie.indexOf(Fe)]=!1:e.util.array.fill(Ie,!1)}}function St(Se,Fe){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var Ie in Se)this.on(Ie,Se[Ie]);else this.__eventListeners[Se]||(this.__eventListeners[Se]=[]),this.__eventListeners[Se].push(Fe);return this}function Te(Se,Fe){var Ie=function(){Fe.apply(this,arguments),this.off(Se,Ie)}.bind(this);this.on(Se,Ie)}function ke(Se,Fe){if(arguments.length===1)for(var Ie in Se)Te.call(this,Ie,Se[Ie]);else Te.call(this,Se,Fe);return this}function Ae(Se,Fe){if(!this.__eventListeners)return this;if(arguments.length===0)for(Se in this.__eventListeners)Pe.call(this,Se);else if(arguments.length===1&&typeof arguments[0]=="object")for(var Ie in Se)Pe.call(this,Ie,Se[Ie]);else Pe.call(this,Se,Fe);return this}function xe(Se,Fe){if(!this.__eventListeners)return this;var Ie=this.__eventListeners[Se];if(!Ie)return this;for(var Me=0,Oe=Ie.length;Me<Oe;Me++)Ie[Me]&&Ie[Me].call(this,Fe||{});return this.__eventListeners[Se]=Ie.filter(function(De){return De!==!1}),this}e.Observable={fire:xe,on:St,once:ke,off:Ae}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var Pe=0,St=arguments.length;Pe<St;Pe++)this._onObjectAdded(arguments[Pe]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(Pe,St,Te){var ke=this._objects;return Te?ke[St]=Pe:ke.splice(St,0,Pe),this._onObjectAdded&&this._onObjectAdded(Pe),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var Pe=this._objects,St,Te=!1,ke=0,Ae=arguments.length;ke<Ae;ke++)St=Pe.indexOf(arguments[ke]),St!==-1&&(Te=!0,Pe.splice(St,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[ke]));return this.renderOnAddRemove&&Te&&this.requestRenderAll(),this},forEachObject:function(Pe,St){for(var Te=this.getObjects(),ke=0,Ae=Te.length;ke<Ae;ke++)Pe.call(St,Te[ke],ke,Te);return this},getObjects:function(Pe){return typeof Pe>"u"?this._objects.concat():this._objects.filter(function(St){return St.type===Pe})},item:function(Pe){return this._objects[Pe]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(Pe,St){return this._objects.indexOf(Pe)>-1?!0:St?this._objects.some(function(Te){return typeof Te.contains=="function"&&Te.contains(Pe,!0)}):!1},complexity:function(){return this._objects.reduce(function(Pe,St){return Pe+=St.complexity?St.complexity():0,Pe},0)}},e.CommonMethods={_setOptions:function(Pe){for(var St in Pe)this.set(St,Pe[St])},_initGradient:function(Pe,St){Pe&&Pe.colorStops&&!(Pe instanceof e.Gradient)&&this.set(St,new e.Gradient(Pe))},_initPattern:function(Pe,St,Te){Pe&&Pe.source&&!(Pe instanceof e.Pattern)?this.set(St,new e.Pattern(Pe,Te)):Te&&Te()},_setObject:function(Pe){for(var St in Pe)this._set(St,Pe[St])},set:function(Pe,St){return typeof Pe=="object"?this._setObject(Pe):this._set(Pe,St),this},_set:function(Pe,St){this[Pe]=St},toggle:function(Pe){var St=this.get(Pe);return typeof St=="boolean"&&this.set(Pe,!St),this},get:function(Pe){return this[Pe]}},function(Pe){var St=Math.sqrt,Te=Math.atan2,ke=Math.pow,Ae=Math.PI/180,xe=Math.PI/2;e.util={cos:function(Se){if(Se===0)return 1;Se<0&&(Se=-Se);var Fe=Se/xe;switch(Fe){case 1:case 3:return 0;case 2:return-1}return Math.cos(Se)},sin:function(Se){if(Se===0)return 0;var Fe=Se/xe,Ie=1;switch(Se<0&&(Ie=-1),Fe){case 1:return Ie;case 2:return 0;case 3:return-Ie}return Math.sin(Se)},removeFromArray:function(Se,Fe){var Ie=Se.indexOf(Fe);return Ie!==-1&&Se.splice(Ie,1),Se},getRandomInt:function(Se,Fe){return Math.floor(Math.random()*(Fe-Se+1))+Se},degreesToRadians:function(Se){return Se*Ae},radiansToDegrees:function(Se){return Se/Ae},rotatePoint:function(Se,Fe,Ie){var Me=new e.Point(Se.x-Fe.x,Se.y-Fe.y),Oe=e.util.rotateVector(Me,Ie);return new e.Point(Oe.x,Oe.y).addEquals(Fe)},rotateVector:function(Se,Fe){var Ie=e.util.sin(Fe),Me=e.util.cos(Fe),Oe=Se.x*Me-Se.y*Ie,De=Se.x*Ie+Se.y*Me;return{x:Oe,y:De}},createVector:function(Se,Fe){return new e.Point(Fe.x-Se.x,Fe.y-Se.y)},calcAngleBetweenVectors:function(Se,Fe){return Math.acos((Se.x*Fe.x+Se.y*Fe.y)/(Math.hypot(Se.x,Se.y)*Math.hypot(Fe.x,Fe.y)))},getHatVector:function(Se){return new e.Point(Se.x,Se.y).multiply(1/Math.hypot(Se.x,Se.y))},getBisector:function(Se,Fe,Ie){var Me=e.util.createVector(Se,Fe),Oe=e.util.createVector(Se,Ie),De=e.util.calcAngleBetweenVectors(Me,Oe),Be=e.util.calcAngleBetweenVectors(e.util.rotateVector(Me,De),Oe),je=De*(Be===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(Me,je)),angle:De}},projectStrokeOnPoints:function(Se,Fe,Ie){var Me=[],Oe=Fe.strokeWidth/2,De=Fe.strokeUniform?new e.Point(1/Fe.scaleX,1/Fe.scaleY):new e.Point(1,1),Be=function(je){var ze=Oe/Math.hypot(je.x,je.y);return new e.Point(je.x*ze*De.x,je.y*ze*De.y)};return Se.length<=1||Se.forEach(function(je,ze){var Ge=new e.Point(je.x,je.y),We,Ue;ze===0?(Ue=Se[ze+1],We=Ie?Be(e.util.createVector(Ue,Ge)).addEquals(Ge):Se[Se.length-1]):ze===Se.length-1?(We=Se[ze-1],Ue=Ie?Be(e.util.createVector(We,Ge)).addEquals(Ge):Se[0]):(We=Se[ze-1],Ue=Se[ze+1]);var hr=e.util.getBisector(Ge,We,Ue),xr=hr.vector,rr=hr.angle,er,vr;if(Fe.strokeLineJoin==="miter"&&(er=-Oe/Math.sin(rr/2),vr=new e.Point(xr.x*er*De.x,xr.y*er*De.y),Math.hypot(vr.x,vr.y)/Oe<=Fe.strokeMiterLimit)){Me.push(Ge.add(vr)),Me.push(Ge.subtract(vr));return}er=-Oe*Math.SQRT2,vr=new e.Point(xr.x*er*De.x,xr.y*er*De.y),Me.push(Ge.add(vr)),Me.push(Ge.subtract(vr))}),Me},transformPoint:function(Se,Fe,Ie){return Ie?new e.Point(Fe[0]*Se.x+Fe[2]*Se.y,Fe[1]*Se.x+Fe[3]*Se.y):new e.Point(Fe[0]*Se.x+Fe[2]*Se.y+Fe[4],Fe[1]*Se.x+Fe[3]*Se.y+Fe[5])},makeBoundingBoxFromPoints:function(Se,Fe){if(Fe)for(var Ie=0;Ie<Se.length;Ie++)Se[Ie]=e.util.transformPoint(Se[Ie],Fe);var Me=[Se[0].x,Se[1].x,Se[2].x,Se[3].x],Oe=e.util.array.min(Me),De=e.util.array.max(Me),Be=De-Oe,je=[Se[0].y,Se[1].y,Se[2].y,Se[3].y],ze=e.util.array.min(je),Ge=e.util.array.max(je),We=Ge-ze;return{left:Oe,top:ze,width:Be,height:We}},invertTransform:function(Se){var Fe=1/(Se[0]*Se[3]-Se[1]*Se[2]),Ie=[Fe*Se[3],-Fe*Se[1],-Fe*Se[2],Fe*Se[0]],Me=e.util.transformPoint({x:Se[4],y:Se[5]},Ie,!0);return Ie[4]=-Me.x,Ie[5]=-Me.y,Ie},toFixed:function(Se,Fe){return parseFloat(Number(Se).toFixed(Fe))},parseUnit:function(Se,Fe){var Ie=/\D{0,2}$/.exec(Se),Me=parseFloat(Se);switch(Fe||(Fe=e.Text.DEFAULT_SVG_FONT_SIZE),Ie[0]){case"mm":return Me*e.DPI/25.4;case"cm":return Me*e.DPI/2.54;case"in":return Me*e.DPI;case"pt":return Me*e.DPI/72;case"pc":return Me*e.DPI/72*12;case"em":return Me*Fe;default:return Me}},falseFunction:function(){return!1},getKlass:function(Se,Fe){return Se=e.util.string.camelize(Se.charAt(0).toUpperCase()+Se.slice(1)),e.util.resolveNamespace(Fe)[Se]},getSvgAttributes:function(Se){var Fe=["instantiated_by_use","style","id","class"];switch(Se){case"linearGradient":Fe=Fe.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":Fe=Fe.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":Fe=Fe.concat(["offset","stop-color","stop-opacity"]);break}return Fe},resolveNamespace:function(Se){if(!Se)return e;var Fe=Se.split("."),Ie=Fe.length,Me,Oe=Pe||e.window;for(Me=0;Me<Ie;++Me)Oe=Oe[Fe[Me]];return Oe},loadImage:function(Se,Fe,Ie,Me){if(!Se){Fe&&Fe.call(Ie,Se);return}var Oe=e.util.createImage(),De=function(){Fe&&Fe.call(Ie,Oe,!1),Oe=Oe.onload=Oe.onerror=null};Oe.onload=De,Oe.onerror=function(){e.log("Error loading "+Oe.src),Fe&&Fe.call(Ie,null,!0),Oe=Oe.onload=Oe.onerror=null},Se.indexOf("data")!==0&&Me!==void 0&&Me!==null&&(Oe.crossOrigin=Me),Se.substring(0,14)==="data:image/svg"&&(Oe.onload=null,e.util.loadImageInDom(Oe,De)),Oe.src=Se},loadImageInDom:function(Se,Fe){var Ie=e.document.createElement("div");Ie.style.width=Ie.style.height="1px",Ie.style.left=Ie.style.top="-100%",Ie.style.position="absolute",Ie.appendChild(Se),e.document.querySelector("body").appendChild(Ie),Se.onload=function(){Fe(),Ie.parentNode.removeChild(Ie),Ie=null}},enlivenObjects:function(Se,Fe,Ie,Me){Se=Se||[];var Oe=[],De=0,Be=Se.length;function je(){++De===Be&&Fe&&Fe(Oe.filter(function(ze){return ze}))}if(!Be){Fe&&Fe(Oe);return}Se.forEach(function(ze,Ge){if(!ze||!ze.type){je();return}var We=e.util.getKlass(ze.type,Ie);We.fromObject(ze,function(Ue,hr){hr||(Oe[Ge]=Ue),Me&&Me(ze,Ue,hr),je()})})},enlivenObjectEnlivables:function(Se,Fe,Ie){var Me=e.Object.ENLIVEN_PROPS.filter(function(Oe){return!!Se[Oe]});e.util.enlivenObjects(Me.map(function(Oe){return Se[Oe]}),function(Oe){var De={};Me.forEach(function(Be,je){De[Be]=Oe[je],Fe&&(Fe[Be]=Oe[je])}),Ie&&Ie(De)})},enlivenPatterns:function(Se,Fe){Se=Se||[];function Ie(){++Oe===De&&Fe&&Fe(Me)}var Me=[],Oe=0,De=Se.length;if(!De){Fe&&Fe(Me);return}Se.forEach(function(Be,je){Be&&Be.source?new e.Pattern(Be,function(ze){Me[je]=ze,Ie()}):(Me[je]=Be,Ie())})},groupSVGElements:function(Se,Fe,Ie){var Me;return Se&&Se.length===1?(typeof Ie<"u"&&(Se[0].sourcePath=Ie),Se[0]):(Fe&&(Fe.width&&Fe.height?Fe.centerPoint={x:Fe.width/2,y:Fe.height/2}:(delete Fe.width,delete Fe.height)),Me=new e.Group(Se,Fe),typeof Ie<"u"&&(Me.sourcePath=Ie),Me)},populateWithProperties:function(Se,Fe,Ie){if(Ie&&Array.isArray(Ie))for(var Me=0,Oe=Ie.length;Me<Oe;Me++)Ie[Me]in Se&&(Fe[Ie[Me]]=Se[Ie[Me]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(Se){var Fe=e.util.createCanvasElement();return Fe.width=Se.width,Fe.height=Se.height,Fe.getContext("2d").drawImage(Se,0,0),Fe},toDataURL:function(Se,Fe,Ie){return Se.toDataURL("image/"+Fe,Ie)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(Se,Fe,Ie){return[Se[0]*Fe[0]+Se[2]*Fe[1],Se[1]*Fe[0]+Se[3]*Fe[1],Se[0]*Fe[2]+Se[2]*Fe[3],Se[1]*Fe[2]+Se[3]*Fe[3],Ie?0:Se[0]*Fe[4]+Se[2]*Fe[5]+Se[4],Ie?0:Se[1]*Fe[4]+Se[3]*Fe[5]+Se[5]]},qrDecompose:function(Se){var Fe=Te(Se[1],Se[0]),Ie=ke(Se[0],2)+ke(Se[1],2),Me=St(Ie),Oe=(Se[0]*Se[3]-Se[2]*Se[1])/Me,De=Te(Se[0]*Se[2]+Se[1]*Se[3],Ie);return{angle:Fe/Ae,scaleX:Me,scaleY:Oe,skewX:De/Ae,skewY:0,translateX:Se[4],translateY:Se[5]}},calcRotateMatrix:function(Se){if(!Se.angle)return e.iMatrix.concat();var Fe=e.util.degreesToRadians(Se.angle),Ie=e.util.cos(Fe),Me=e.util.sin(Fe);return[Ie,Me,-Me,Ie,0,0]},calcDimensionsMatrix:function(Se){var Fe=typeof Se.scaleX>"u"?1:Se.scaleX,Ie=typeof Se.scaleY>"u"?1:Se.scaleY,Me=[Se.flipX?-Fe:Fe,0,0,Se.flipY?-Ie:Ie,0,0],Oe=e.util.multiplyTransformMatrices,De=e.util.degreesToRadians;return Se.skewX&&(Me=Oe(Me,[1,0,Math.tan(De(Se.skewX)),1],!0)),Se.skewY&&(Me=Oe(Me,[1,Math.tan(De(Se.skewY)),0,1],!0)),Me},composeMatrix:function(Se){var Fe=[1,0,0,1,Se.translateX||0,Se.translateY||0],Ie=e.util.multiplyTransformMatrices;return Se.angle&&(Fe=Ie(Fe,e.util.calcRotateMatrix(Se))),(Se.scaleX!==1||Se.scaleY!==1||Se.skewX||Se.skewY||Se.flipX||Se.flipY)&&(Fe=Ie(Fe,e.util.calcDimensionsMatrix(Se))),Fe},resetObjectTransform:function(Se){Se.scaleX=1,Se.scaleY=1,Se.skewX=0,Se.skewY=0,Se.flipX=!1,Se.flipY=!1,Se.rotate(0)},saveObjectTransform:function(Se){return{scaleX:Se.scaleX,scaleY:Se.scaleY,skewX:Se.skewX,skewY:Se.skewY,angle:Se.angle,left:Se.left,flipX:Se.flipX,flipY:Se.flipY,top:Se.top}},isTransparent:function(Se,Fe,Ie,Me){Me>0&&(Fe>Me?Fe-=Me:Fe=0,Ie>Me?Ie-=Me:Ie=0);var Oe=!0,De,Be,je=Se.getImageData(Fe,Ie,Me*2||1,Me*2||1),ze=je.data.length;for(De=3;De<ze&&(Be=je.data[De],Oe=Be<=0,Oe!==!1);De+=4);return je=null,Oe},parsePreserveAspectRatioAttribute:function(Se){var Fe="meet",Ie="Mid",Me="Mid",Oe=Se.split(" "),De;return Oe&&Oe.length&&(Fe=Oe.pop(),Fe!=="meet"&&Fe!=="slice"?(De=Fe,Fe="meet"):Oe.length&&(De=Oe.pop())),Ie=De!=="none"?De.slice(1,4):"none",Me=De!=="none"?De.slice(5,8):"none",{meetOrSlice:Fe,alignX:Ie,alignY:Me}},clearFabricFontCache:function(Se){Se=(Se||"").toLowerCase(),Se?e.charWidthsCache[Se]&&delete e.charWidthsCache[Se]:e.charWidthsCache={}},limitDimsByArea:function(Se,Fe){var Ie=Math.sqrt(Fe*Se),Me=Math.floor(Fe/Ie);return{x:Math.floor(Ie),y:Me}},capValue:function(Se,Fe,Ie){return Math.max(Se,Math.min(Fe,Ie))},findScaleToFit:function(Se,Fe){return Math.min(Fe.width/Se.width,Fe.height/Se.height)},findScaleToCover:function(Se,Fe){return Math.max(Fe.width/Se.width,Fe.height/Se.height)},matrixToSVG:function(Se){return"matrix("+Se.map(function(Fe){return e.util.toFixed(Fe,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(Se,Fe){var Ie=e.util.invertTransform(Fe),Me=e.util.multiplyTransformMatrices(Ie,Se.calcOwnMatrix());e.util.applyTransformToObject(Se,Me)},addTransformToObject:function(Se,Fe){e.util.applyTransformToObject(Se,e.util.multiplyTransformMatrices(Fe,Se.calcOwnMatrix()))},applyTransformToObject:function(Se,Fe){var Ie=e.util.qrDecompose(Fe),Me=new e.Point(Ie.translateX,Ie.translateY);Se.flipX=!1,Se.flipY=!1,Se.set("scaleX",Ie.scaleX),Se.set("scaleY",Ie.scaleY),Se.skewX=Ie.skewX,Se.skewY=Ie.skewY,Se.angle=Ie.angle,Se.setPositionByOrigin(Me,"center","center")},sizeAfterTransform:function(Se,Fe,Ie){var Me=Se/2,Oe=Fe/2,De=[{x:-Me,y:-Oe},{x:Me,y:-Oe},{x:-Me,y:Oe},{x:Me,y:Oe}],Be=e.util.calcDimensionsMatrix(Ie),je=e.util.makeBoundingBoxFromPoints(De,Be);return{x:je.width,y:je.height}},mergeClipPaths:function(Se,Fe){var Ie=Se,Me=Fe;Ie.inverted&&!Me.inverted&&(Ie=Fe,Me=Se),e.util.applyTransformToObject(Me,e.util.multiplyTransformMatrices(e.util.invertTransform(Ie.calcTransformMatrix()),Me.calcTransformMatrix()));var Oe=Ie.inverted&&Me.inverted;return Oe&&(Ie.inverted=Me.inverted=!1),new e.Group([Ie],{clipPath:Me,inverted:Oe})},hasStyleChanged:function(Se,Fe,Ie){return Ie=Ie||!1,Se.fill!==Fe.fill||Se.stroke!==Fe.stroke||Se.strokeWidth!==Fe.strokeWidth||Se.fontSize!==Fe.fontSize||Se.fontFamily!==Fe.fontFamily||Se.fontWeight!==Fe.fontWeight||Se.fontStyle!==Fe.fontStyle||Se.deltaY!==Fe.deltaY||Ie&&(Se.overline!==Fe.overline||Se.underline!==Fe.underline||Se.linethrough!==Fe.linethrough)},stylesToArray:function(Ie,Fe){for(var Ie=e.util.object.clone(Ie,!0),Me=Fe.split(`
`),Oe=-1,De={},Be=[],je=0;je<Me.length;je++){if(!Ie[je]){Oe+=Me[je].length;continue}for(var ze=0;ze<Me[je].length;ze++){Oe++;var Ge=Ie[je][ze];if(Ge){var We=e.util.hasStyleChanged(De,Ge,!0);We?Be.push({start:Oe,end:Oe+1,style:Ge}):Be[Be.length-1].end++}De=Ge||{}}}return Be},stylesFromArray:function(Se,Fe){if(!Array.isArray(Se))return Se;for(var Ie=Fe.split(`
`),Me=-1,Oe=0,De={},Be=0;Be<Ie.length;Be++)for(var je=0;je<Ie[Be].length;je++)Me++,Se[Oe]&&Se[Oe].start<=Me&&Me<Se[Oe].end&&(De[Be]=De[Be]||{},De[Be][je]=Object.assign({},Se[Oe].style),Me===Se[Oe].end-1&&Oe++);return De}}}(t),function(){var Pe=Array.prototype.join,St={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Te={m:"l",M:"L"};function ke($e,tr,ir,Xe,cr,Qe,Ke,lr,mr,Ar,Pr){var Rr=e.util.cos($e),Ir=e.util.sin($e),ur=e.util.cos(tr),ar=e.util.sin(tr),Sr=ir*cr*ur-Xe*Qe*ar+Ke,wr=Xe*cr*ur+ir*Qe*ar+lr,or=Ar+mr*(-ir*cr*Ir-Xe*Qe*Rr),kr=Pr+mr*(-Xe*cr*Ir+ir*Qe*Rr),Or=Sr+mr*(ir*cr*ar+Xe*Qe*ur),Lr=wr+mr*(Xe*cr*ar-ir*Qe*ur);return["C",or,kr,Or,Lr,Sr,wr]}function Ae($e,tr,ir,Xe,cr,Qe,Ke){var lr=Math.PI,mr=Ke*lr/180,Ar=e.util.sin(mr),Pr=e.util.cos(mr),Rr=0,Ir=0;ir=Math.abs(ir),Xe=Math.abs(Xe);var ur=-Pr*$e*.5-Ar*tr*.5,ar=-Pr*tr*.5+Ar*$e*.5,Sr=ir*ir,wr=Xe*Xe,or=ar*ar,kr=ur*ur,Or=Sr*wr-Sr*or-wr*kr,Lr=0;if(Or<0){var Dr=Math.sqrt(1-Or/(Sr*wr));ir*=Dr,Xe*=Dr}else Lr=(cr===Qe?-1:1)*Math.sqrt(Or/(Sr*or+wr*kr));var Nr=Lr*ir*ar/Xe,Mr=-Lr*Xe*ur/ir,Gr=Pr*Nr-Ar*Mr+$e*.5,Yr=Ar*Nr+Pr*Mr+tr*.5,$r=xe(1,0,(ur-Nr)/ir,(ar-Mr)/Xe),ti=xe((ur-Nr)/ir,(ar-Mr)/Xe,(-ur-Nr)/ir,(-ar-Mr)/Xe);Qe===0&&ti>0?ti-=2*lr:Qe===1&&ti<0&&(ti+=2*lr);for(var ri=Math.ceil(Math.abs(ti/lr*2)),oi=[],ni=ti/ri,fi=8/3*Math.sin(ni/4)*Math.sin(ni/4)/Math.sin(ni/2),si=$r+ni,Ti=0;Ti<ri;Ti++)oi[Ti]=ke($r,si,Pr,Ar,ir,Xe,Gr,Yr,fi,Rr,Ir),Rr=oi[Ti][5],Ir=oi[Ti][6],$r=si,si+=ni;return oi}function xe($e,tr,ir,Xe){var cr=Math.atan2(tr,$e),Qe=Math.atan2(Xe,ir);return Qe>=cr?Qe-cr:2*Math.PI-(cr-Qe)}function Se($e,tr,ir,Xe,cr,Qe,Ke,lr){var mr;if(e.cachesBoundsOfCurve&&(mr=Pe.call(arguments),e.boundsOfCurveCache[mr]))return e.boundsOfCurveCache[mr];var Ar=Math.sqrt,Pr=Math.min,Rr=Math.max,Ir=Math.abs,ur=[],ar=[[],[]],Sr,wr,or,kr,Or,Lr,Dr,Nr;wr=6*$e-12*ir+6*cr,Sr=-3*$e+9*ir-9*cr+3*Ke,or=3*ir-3*$e;for(var Mr=0;Mr<2;++Mr){if(Mr>0&&(wr=6*tr-12*Xe+6*Qe,Sr=-3*tr+9*Xe-9*Qe+3*lr,or=3*Xe-3*tr),Ir(Sr)<1e-12){if(Ir(wr)<1e-12)continue;kr=-or/wr,0<kr&&kr<1&&ur.push(kr);continue}Dr=wr*wr-4*or*Sr,!(Dr<0)&&(Nr=Ar(Dr),Or=(-wr+Nr)/(2*Sr),0<Or&&Or<1&&ur.push(Or),Lr=(-wr-Nr)/(2*Sr),0<Lr&&Lr<1&&ur.push(Lr))}for(var Gr,Yr,$r=ur.length,ti=$r,ri;$r--;)kr=ur[$r],ri=1-kr,Gr=ri*ri*ri*$e+3*ri*ri*kr*ir+3*ri*kr*kr*cr+kr*kr*kr*Ke,ar[0][$r]=Gr,Yr=ri*ri*ri*tr+3*ri*ri*kr*Xe+3*ri*kr*kr*Qe+kr*kr*kr*lr,ar[1][$r]=Yr;ar[0][ti]=$e,ar[1][ti]=tr,ar[0][ti+1]=Ke,ar[1][ti+1]=lr;var oi=[{x:Pr.apply(null,ar[0]),y:Pr.apply(null,ar[1])},{x:Rr.apply(null,ar[0]),y:Rr.apply(null,ar[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[mr]=oi),oi}function Fe($e,tr,ir){for(var Xe=ir[1],cr=ir[2],Qe=ir[3],Ke=ir[4],lr=ir[5],mr=ir[6],Ar=ir[7],Pr=Ae(mr-$e,Ar-tr,Xe,cr,Ke,lr,Qe),Rr=0,Ir=Pr.length;Rr<Ir;Rr++)Pr[Rr][1]+=$e,Pr[Rr][2]+=tr,Pr[Rr][3]+=$e,Pr[Rr][4]+=tr,Pr[Rr][5]+=$e,Pr[Rr][6]+=tr;return Pr}function Ie($e){var tr=0,ir=0,Xe=$e.length,cr=0,Qe=0,Ke,lr,mr,Ar=[],Pr,Rr,Ir;for(lr=0;lr<Xe;++lr){switch(mr=!1,Ke=$e[lr].slice(0),Ke[0]){case"l":Ke[0]="L",Ke[1]+=tr,Ke[2]+=ir;case"L":tr=Ke[1],ir=Ke[2];break;case"h":Ke[1]+=tr;case"H":Ke[0]="L",Ke[2]=ir,tr=Ke[1];break;case"v":Ke[1]+=ir;case"V":Ke[0]="L",ir=Ke[1],Ke[1]=tr,Ke[2]=ir;break;case"m":Ke[0]="M",Ke[1]+=tr,Ke[2]+=ir;case"M":tr=Ke[1],ir=Ke[2],cr=Ke[1],Qe=Ke[2];break;case"c":Ke[0]="C",Ke[1]+=tr,Ke[2]+=ir,Ke[3]+=tr,Ke[4]+=ir,Ke[5]+=tr,Ke[6]+=ir;case"C":Rr=Ke[3],Ir=Ke[4],tr=Ke[5],ir=Ke[6];break;case"s":Ke[0]="S",Ke[1]+=tr,Ke[2]+=ir,Ke[3]+=tr,Ke[4]+=ir;case"S":Pr==="C"?(Rr=2*tr-Rr,Ir=2*ir-Ir):(Rr=tr,Ir=ir),tr=Ke[3],ir=Ke[4],Ke[0]="C",Ke[5]=Ke[3],Ke[6]=Ke[4],Ke[3]=Ke[1],Ke[4]=Ke[2],Ke[1]=Rr,Ke[2]=Ir,Rr=Ke[3],Ir=Ke[4];break;case"q":Ke[0]="Q",Ke[1]+=tr,Ke[2]+=ir,Ke[3]+=tr,Ke[4]+=ir;case"Q":Rr=Ke[1],Ir=Ke[2],tr=Ke[3],ir=Ke[4];break;case"t":Ke[0]="T",Ke[1]+=tr,Ke[2]+=ir;case"T":Pr==="Q"?(Rr=2*tr-Rr,Ir=2*ir-Ir):(Rr=tr,Ir=ir),Ke[0]="Q",tr=Ke[1],ir=Ke[2],Ke[1]=Rr,Ke[2]=Ir,Ke[3]=tr,Ke[4]=ir;break;case"a":Ke[0]="A",Ke[6]+=tr,Ke[7]+=ir;case"A":mr=!0,Ar=Ar.concat(Fe(tr,ir,Ke)),tr=Ke[6],ir=Ke[7];break;case"z":case"Z":tr=cr,ir=Qe;break}mr||Ar.push(Ke),Pr=Ke[0]}return Ar}function Me($e,tr,ir,Xe){return Math.sqrt((ir-$e)*(ir-$e)+(Xe-tr)*(Xe-tr))}function Oe($e){return $e*$e*$e}function De($e){return 3*$e*$e*(1-$e)}function Be($e){return 3*$e*(1-$e)*(1-$e)}function je($e){return(1-$e)*(1-$e)*(1-$e)}function ze($e,tr,ir,Xe,cr,Qe,Ke,lr){return function(mr){var Ar=Oe(mr),Pr=De(mr),Rr=Be(mr),Ir=je(mr);return{x:Ke*Ar+cr*Pr+ir*Rr+$e*Ir,y:lr*Ar+Qe*Pr+Xe*Rr+tr*Ir}}}function Ge($e,tr,ir,Xe,cr,Qe,Ke,lr){return function(mr){var Ar=1-mr,Pr=3*Ar*Ar*(ir-$e)+6*Ar*mr*(cr-ir)+3*mr*mr*(Ke-cr),Rr=3*Ar*Ar*(Xe-tr)+6*Ar*mr*(Qe-Xe)+3*mr*mr*(lr-Qe);return Math.atan2(Rr,Pr)}}function We($e){return $e*$e}function Ue($e){return 2*$e*(1-$e)}function hr($e){return(1-$e)*(1-$e)}function xr($e,tr,ir,Xe,cr,Qe){return function(Ke){var lr=We(Ke),mr=Ue(Ke),Ar=hr(Ke);return{x:cr*lr+ir*mr+$e*Ar,y:Qe*lr+Xe*mr+tr*Ar}}}function rr($e,tr,ir,Xe,cr,Qe){return function(Ke){var lr=1-Ke,mr=2*lr*(ir-$e)+2*Ke*(cr-ir),Ar=2*lr*(Xe-tr)+2*Ke*(Qe-Xe);return Math.atan2(Ar,mr)}}function er($e,tr,ir){var Xe={x:tr,y:ir},cr,Qe=0,Ke;for(Ke=1;Ke<=100;Ke+=1)cr=$e(Ke/100),Qe+=Me(Xe.x,Xe.y,cr.x,cr.y),Xe=cr;return Qe}function vr($e,tr){for(var ir=0,Xe=0,cr=$e.iterator,Qe={x:$e.x,y:$e.y},Ke,lr,mr=.01,Ar=$e.angleFinder,Pr;Xe<tr&&mr>1e-4;)Ke=cr(ir),Pr=ir,lr=Me(Qe.x,Qe.y,Ke.x,Ke.y),lr+Xe>tr?(ir-=mr,mr/=2):(Qe=Ke,ir+=mr,Xe+=lr);return Ke.angle=Ar(Pr),Ke}function gr($e){for(var tr=0,ir=$e.length,Xe,cr=0,Qe=0,Ke=0,lr=0,mr=[],Ar,Pr,Rr,Ir=0;Ir<ir;Ir++){switch(Xe=$e[Ir],Pr={x:cr,y:Qe,command:Xe[0]},Xe[0]){case"M":Pr.length=0,Ke=cr=Xe[1],lr=Qe=Xe[2];break;case"L":Pr.length=Me(cr,Qe,Xe[1],Xe[2]),cr=Xe[1],Qe=Xe[2];break;case"C":Ar=ze(cr,Qe,Xe[1],Xe[2],Xe[3],Xe[4],Xe[5],Xe[6]),Rr=Ge(cr,Qe,Xe[1],Xe[2],Xe[3],Xe[4],Xe[5],Xe[6]),Pr.iterator=Ar,Pr.angleFinder=Rr,Pr.length=er(Ar,cr,Qe),cr=Xe[5],Qe=Xe[6];break;case"Q":Ar=xr(cr,Qe,Xe[1],Xe[2],Xe[3],Xe[4]),Rr=rr(cr,Qe,Xe[1],Xe[2],Xe[3],Xe[4]),Pr.iterator=Ar,Pr.angleFinder=Rr,Pr.length=er(Ar,cr,Qe),cr=Xe[3],Qe=Xe[4];break;case"Z":case"z":Pr.destX=Ke,Pr.destY=lr,Pr.length=Me(cr,Qe,Ke,lr),cr=Ke,Qe=lr;break}tr+=Pr.length,mr.push(Pr)}return mr.push({length:tr,x:cr,y:Qe}),mr}function br($e,tr,ir){ir||(ir=gr($e));for(var Xe=0;tr-ir[Xe].length>0&&Xe<ir.length-2;)tr-=ir[Xe].length,Xe++;var cr=ir[Xe],Qe=tr/cr.length,Ke=cr.command,lr=$e[Xe],mr;switch(Ke){case"M":return{x:cr.x,y:cr.y,angle:0};case"Z":case"z":return mr=new e.Point(cr.x,cr.y).lerp(new e.Point(cr.destX,cr.destY),Qe),mr.angle=Math.atan2(cr.destY-cr.y,cr.destX-cr.x),mr;case"L":return mr=new e.Point(cr.x,cr.y).lerp(new e.Point(lr[1],lr[2]),Qe),mr.angle=Math.atan2(lr[2]-cr.y,lr[1]-cr.x),mr;case"C":return vr(cr,tr);case"Q":return vr(cr,tr)}}function sr($e){var tr=[],ir=[],Xe,cr,Qe=e.rePathCommand,Ke="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",lr="("+Ke+")"+e.commaWsp,mr="([01])"+e.commaWsp+"?",Ar=lr+"?"+lr+"?"+lr+mr+mr+lr+"?("+Ke+")",Pr=new RegExp(Ar,"g"),Rr,Ir,ur;if(!$e||!$e.match)return tr;ur=$e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var ar=0,Sr,wr=ur.length;ar<wr;ar++){Xe=ur[ar],Ir=Xe.slice(1).trim(),ir.length=0;var or=Xe.charAt(0);if(Sr=[or],or.toLowerCase()==="a")for(var kr;kr=Pr.exec(Ir);)for(var Or=1;Or<kr.length;Or++)ir.push(kr[Or]);else for(;Rr=Qe.exec(Ir);)ir.push(Rr[0]);for(var Or=0,Lr=ir.length;Or<Lr;Or++)cr=parseFloat(ir[Or]),isNaN(cr)||Sr.push(cr);var Dr=St[or.toLowerCase()],Nr=Te[or]||or;if(Sr.length-1>Dr)for(var Mr=1,Gr=Sr.length;Mr<Gr;Mr+=Dr)tr.push([or].concat(Sr.slice(Mr,Mr+Dr))),or=Nr;else tr.push(Sr)}return tr}function nr($e,tr){var ir=[],Xe,cr=new e.Point($e[0].x,$e[0].y),Qe=new e.Point($e[1].x,$e[1].y),Ke=$e.length,lr=1,mr=0,Ar=Ke>2;for(tr=tr||0,Ar&&(lr=$e[2].x<Qe.x?-1:$e[2].x===Qe.x?0:1,mr=$e[2].y<Qe.y?-1:$e[2].y===Qe.y?0:1),ir.push(["M",cr.x-lr*tr,cr.y-mr*tr]),Xe=1;Xe<Ke;Xe++){if(!cr.eq(Qe)){var Pr=cr.midPointFrom(Qe);ir.push(["Q",cr.x,cr.y,Pr.x,Pr.y])}cr=$e[Xe],Xe+1<$e.length&&(Qe=$e[Xe+1])}return Ar&&(lr=cr.x>$e[Xe-2].x?1:cr.x===$e[Xe-2].x?0:-1,mr=cr.y>$e[Xe-2].y?1:cr.y===$e[Xe-2].y?0:-1),ir.push(["L",cr.x+lr*tr,cr.y+mr*tr]),ir}function Je($e,tr,ir){return ir&&(tr=e.util.multiplyTransformMatrices(tr,[1,0,0,1,-ir.x,-ir.y])),$e.map(function(Xe){for(var cr=Xe.slice(0),Qe={},Ke=1;Ke<Xe.length-1;Ke+=2)Qe.x=Xe[Ke],Qe.y=Xe[Ke+1],Qe=e.util.transformPoint(Qe,tr),cr[Ke]=Qe.x,cr[Ke+1]=Qe.y;return cr})}e.util.joinPath=function($e){return $e.map(function(tr){return tr.join(" ")}).join(" ")},e.util.parsePath=sr,e.util.makePathSimpler=Ie,e.util.getSmoothPathFromPoints=nr,e.util.getPathSegmentsInfo=gr,e.util.getBoundsOfCurve=Se,e.util.getPointOnPath=br,e.util.transformPath=Je}(),function(){var Pe=Array.prototype.slice;function St(Se,Fe){for(var Ie=Pe.call(arguments,2),Me=[],Oe=0,De=Se.length;Oe<De;Oe++)Me[Oe]=Ie.length?Se[Oe][Fe].apply(Se[Oe],Ie):Se[Oe][Fe].call(Se[Oe]);return Me}function Te(Se,Fe){return xe(Se,Fe,function(Ie,Me){return Ie>=Me})}function ke(Se,Fe){return xe(Se,Fe,function(Ie,Me){return Ie<Me})}function Ae(Se,Fe){for(var Ie=Se.length;Ie--;)Se[Ie]=Fe;return Se}function xe(Se,Fe,Ie){if(!(!Se||Se.length===0)){var Me=Se.length-1,Oe=Fe?Se[Me][Fe]:Se[Me];if(Fe)for(;Me--;)Ie(Se[Me][Fe],Oe)&&(Oe=Se[Me][Fe]);else for(;Me--;)Ie(Se[Me],Oe)&&(Oe=Se[Me]);return Oe}}e.util.array={fill:Ae,invoke:St,min:ke,max:Te}}(),function(){function Pe(Te,ke,Ae){if(Ae)if(!e.isLikelyNode&&ke instanceof Element)Te=ke;else if(ke instanceof Array){Te=[];for(var xe=0,Se=ke.length;xe<Se;xe++)Te[xe]=Pe({},ke[xe],Ae)}else if(ke&&typeof ke=="object")for(var Fe in ke)Fe==="canvas"||Fe==="group"?Te[Fe]=null:ke.hasOwnProperty(Fe)&&(Te[Fe]=Pe({},ke[Fe],Ae));else Te=ke;else for(var Fe in ke)Te[Fe]=ke[Fe];return Te}function St(Te,ke){return Pe({},Te,ke)}e.util.object={extend:Pe,clone:St},e.util.object.extend(e.util,e.Observable)}(),function(){function Pe(xe){return xe.replace(/-+(.)?/g,function(Se,Fe){return Fe?Fe.toUpperCase():""})}function St(xe,Se){return xe.charAt(0).toUpperCase()+(Se?xe.slice(1):xe.slice(1).toLowerCase())}function Te(xe){return xe.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ke(xe){var Se=0,Fe,Ie=[];for(Se=0,Fe;Se<xe.length;Se++)(Fe=Ae(xe,Se))!==!1&&Ie.push(Fe);return Ie}function Ae(xe,Se){var Fe=xe.charCodeAt(Se);if(isNaN(Fe))return"";if(Fe<55296||Fe>57343)return xe.charAt(Se);if(55296<=Fe&&Fe<=56319){if(xe.length<=Se+1)throw"High surrogate without following low surrogate";var Ie=xe.charCodeAt(Se+1);if(56320>Ie||Ie>57343)throw"High surrogate without following low surrogate";return xe.charAt(Se)+xe.charAt(Se+1)}if(Se===0)throw"Low surrogate without preceding high surrogate";var Me=xe.charCodeAt(Se-1);if(55296>Me||Me>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:Pe,capitalize:St,escapeXml:Te,graphemeSplit:ke}}(),function(){var Pe=Array.prototype.slice,St=function(){},Te=function(){for(var Fe in{toString:1})if(Fe==="toString")return!1;return!0}(),ke=function(Fe,Ie,Me){for(var Oe in Ie)Oe in Fe.prototype&&typeof Fe.prototype[Oe]=="function"&&(Ie[Oe]+"").indexOf("callSuper")>-1?Fe.prototype[Oe]=function(De){return function(){var Be=this.constructor.superclass;this.constructor.superclass=Me;var je=Ie[De].apply(this,arguments);if(this.constructor.superclass=Be,De!=="initialize")return je}}(Oe):Fe.prototype[Oe]=Ie[Oe],Te&&(Ie.toString!==Object.prototype.toString&&(Fe.prototype.toString=Ie.toString),Ie.valueOf!==Object.prototype.valueOf&&(Fe.prototype.valueOf=Ie.valueOf))};function Ae(){}function xe(Fe){for(var Ie=null,Me=this;Me.constructor.superclass;){var Oe=Me.constructor.superclass.prototype[Fe];if(Me[Fe]!==Oe){Ie=Oe;break}Me=Me.constructor.superclass.prototype}return Ie?arguments.length>1?Ie.apply(this,Pe.call(arguments,1)):Ie.call(this):console.log("tried to callSuper "+Fe+", method not found in prototype chain",this)}function Se(){var Fe=null,Ie=Pe.call(arguments,0);typeof Ie[0]=="function"&&(Fe=Ie.shift());function Me(){this.initialize.apply(this,arguments)}Me.superclass=Fe,Me.subclasses=[],Fe&&(Ae.prototype=Fe.prototype,Me.prototype=new Ae,Fe.subclasses.push(Me));for(var Oe=0,De=Ie.length;Oe<De;Oe++)ke(Me,Ie[Oe],Fe);return Me.prototype.initialize||(Me.prototype.initialize=St),Me.prototype.constructor=Me,Me.prototype.callSuper=xe,Me}e.util.createClass=Se}(),function(){var Pe=!!e.document.createElement("div").attachEvent,St=["touchstart","touchmove","touchend"];e.util.addListener=function(ke,Ae,xe,Se){ke&&ke.addEventListener(Ae,xe,Pe?!1:Se)},e.util.removeListener=function(ke,Ae,xe,Se){ke&&ke.removeEventListener(Ae,xe,Pe?!1:Se)};function Te(ke){var Ae=ke.changedTouches;return Ae&&Ae[0]?Ae[0]:ke}e.util.getPointer=function(ke){var Ae=ke.target,xe=e.util.getScrollLeftTop(Ae),Se=Te(ke);return{x:Se.clientX+xe.left,y:Se.clientY+xe.top}},e.util.isTouchEvent=function(ke){return St.indexOf(ke.type)>-1||ke.pointerType==="touch"}}(),function(){function Pe(Se,Fe){var Ie=Se.style;if(!Ie)return Se;if(typeof Fe=="string")return Se.style.cssText+=";"+Fe,Fe.indexOf("opacity")>-1?xe(Se,Fe.match(/opacity:\s*(\d?\.?\d*)/)[1]):Se;for(var Me in Fe)if(Me==="opacity")xe(Se,Fe[Me]);else{var Oe=Me==="float"||Me==="cssFloat"?typeof Ie.styleFloat>"u"?"cssFloat":"styleFloat":Me;Ie.setProperty(Oe,Fe[Me])}return Se}var St=e.document.createElement("div"),Te=typeof St.style.opacity=="string",ke=typeof St.style.filter=="string",Ae=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,xe=function(Se){return Se};Te?xe=function(Se,Fe){return Se.style.opacity=Fe,Se}:ke&&(xe=function(Se,Fe){var Ie=Se.style;return Se.currentStyle&&!Se.currentStyle.hasLayout&&(Ie.zoom=1),Ae.test(Ie.filter)?(Fe=Fe>=.9999?"":"alpha(opacity="+Fe*100+")",Ie.filter=Ie.filter.replace(Ae,Fe)):Ie.filter+=" alpha(opacity="+Fe*100+")",Se}),e.util.setStyle=Pe}(),function(){var Pe=Array.prototype.slice;function St(je){return typeof je=="string"?e.document.getElementById(je):je}var Te,ke=function(je){return Pe.call(je,0)};try{Te=ke(e.document.childNodes)instanceof Array}catch{}Te||(ke=function(je){for(var ze=new Array(je.length),Ge=je.length;Ge--;)ze[Ge]=je[Ge];return ze});function Ae(je,ze){var Ge=e.document.createElement(je);for(var We in ze)We==="class"?Ge.className=ze[We]:We==="for"?Ge.htmlFor=ze[We]:Ge.setAttribute(We,ze[We]);return Ge}function xe(je,ze){je&&(" "+je.className+" ").indexOf(" "+ze+" ")===-1&&(je.className+=(je.className?" ":"")+ze)}function Se(je,ze,Ge){return typeof ze=="string"&&(ze=Ae(ze,Ge)),je.parentNode&&je.parentNode.replaceChild(ze,je),ze.appendChild(je),ze}function Fe(je){for(var ze=0,Ge=0,We=e.document.documentElement,Ue=e.document.body||{scrollLeft:0,scrollTop:0};je&&(je.parentNode||je.host)&&(je=je.parentNode||je.host,je===e.document?(ze=Ue.scrollLeft||We.scrollLeft||0,Ge=Ue.scrollTop||We.scrollTop||0):(ze+=je.scrollLeft||0,Ge+=je.scrollTop||0),!(je.nodeType===1&&je.style.position==="fixed")););return{left:ze,top:Ge}}function Ie(je){var ze,Ge=je&&je.ownerDocument,We={left:0,top:0},Ue={left:0,top:0},hr,xr={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!Ge)return Ue;for(var rr in xr)Ue[xr[rr]]+=parseInt(Me(je,rr),10)||0;return ze=Ge.documentElement,typeof je.getBoundingClientRect<"u"&&(We=je.getBoundingClientRect()),hr=Fe(je),{left:We.left+hr.left-(ze.clientLeft||0)+Ue.left,top:We.top+hr.top-(ze.clientTop||0)+Ue.top}}var Me;e.document.defaultView&&e.document.defaultView.getComputedStyle?Me=function(je,ze){var Ge=e.document.defaultView.getComputedStyle(je,null);return Ge?Ge[ze]:void 0}:Me=function(je,ze){var Ge=je.style[ze];return!Ge&&je.currentStyle&&(Ge=je.currentStyle[ze]),Ge},function(){var je=e.document.documentElement.style,ze="userSelect"in je?"userSelect":"MozUserSelect"in je?"MozUserSelect":"WebkitUserSelect"in je?"WebkitUserSelect":"KhtmlUserSelect"in je?"KhtmlUserSelect":"";function Ge(Ue){return typeof Ue.onselectstart<"u"&&(Ue.onselectstart=e.util.falseFunction),ze?Ue.style[ze]="none":typeof Ue.unselectable=="string"&&(Ue.unselectable="on"),Ue}function We(Ue){return typeof Ue.onselectstart<"u"&&(Ue.onselectstart=null),ze?Ue.style[ze]="":typeof Ue.unselectable=="string"&&(Ue.unselectable=""),Ue}e.util.makeElementUnselectable=Ge,e.util.makeElementSelectable=We}();function Oe(je){var ze=e.jsdomImplForWrapper(je);return ze._canvas||ze._image}function De(je){if(!!e.isLikelyNode){var ze=e.jsdomImplForWrapper(je);ze&&(ze._image=null,ze._canvas=null,ze._currentSrc=null,ze._attributes=null,ze._classList=null)}}function Be(je,ze){je.imageSmoothingEnabled=je.imageSmoothingEnabled||je.webkitImageSmoothingEnabled||je.mozImageSmoothingEnabled||je.msImageSmoothingEnabled||je.oImageSmoothingEnabled,je.imageSmoothingEnabled=ze}e.util.setImageSmoothing=Be,e.util.getById=St,e.util.toArray=ke,e.util.addClass=xe,e.util.makeElement=Ae,e.util.wrapElement=Se,e.util.getScrollLeftTop=Fe,e.util.getElementOffset=Ie,e.util.getNodeCanvas=Oe,e.util.cleanUpJsdomNode=De}(),function(){function Pe(ke,Ae){return ke+(/\?/.test(ke)?"&":"?")+Ae}function St(){}function Te(ke,Ae){Ae||(Ae={});var xe=Ae.method?Ae.method.toUpperCase():"GET",Se=Ae.onComplete||function(){},Fe=new e.window.XMLHttpRequest,Ie=Ae.body||Ae.parameters;return Fe.onreadystatechange=function(){Fe.readyState===4&&(Se(Fe),Fe.onreadystatechange=St)},xe==="GET"&&(Ie=null,typeof Ae.parameters=="string"&&(ke=Pe(ke,Ae.parameters))),Fe.open(xe,ke,!0),(xe==="POST"||xe==="PUT")&&Fe.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),Fe.send(Ie),Fe}e.util.request=Te}(),e.log=console.log,e.warn=console.warn,function(){var Pe=e.util.object.extend,St=e.util.object.clone,Te=[];e.util.object.extend(Te,{cancelAll:function(){var Oe=this.splice(0);return Oe.forEach(function(De){De.cancel()}),Oe},cancelByCanvas:function(Oe){if(!Oe)return[];var De=this.filter(function(Be){return typeof Be.target=="object"&&Be.target.canvas===Oe});return De.forEach(function(Be){Be.cancel()}),De},cancelByTarget:function(Oe){var De=this.findAnimationsByTarget(Oe);return De.forEach(function(Be){Be.cancel()}),De},findAnimationIndex:function(Oe){return this.indexOf(this.findAnimation(Oe))},findAnimation:function(Oe){return this.find(function(De){return De.cancel===Oe})},findAnimationsByTarget:function(Oe){return Oe?this.filter(function(De){return De.target===Oe}):[]}});function ke(){return!1}function Ae(Oe,De,Be,je){return-Be*Math.cos(Oe/je*(Math.PI/2))+Be+De}function xe(Oe){Oe||(Oe={});var De=!1,Be,je=function(){var ze=e.runningAnimations.indexOf(Be);return ze>-1&&e.runningAnimations.splice(ze,1)[0]};return Be=Pe(St(Oe),{cancel:function(){return De=!0,je()},currentValue:"startValue"in Oe?Oe.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(Be),Ie(function(ze){var Ge=ze||+new Date,We=Oe.duration||500,Ue=Ge+We,hr,xr=Oe.onChange||ke,rr=Oe.abort||ke,er=Oe.onComplete||ke,vr=Oe.easing||Ae,gr="startValue"in Oe?Oe.startValue.length>0:!1,br="startValue"in Oe?Oe.startValue:0,sr="endValue"in Oe?Oe.endValue:100,nr=Oe.byValue||(gr?br.map(function(Je,$e){return sr[$e]-br[$e]}):sr-br);Oe.onStart&&Oe.onStart(),function Je($e){hr=$e||+new Date;var tr=hr>Ue?We:hr-Ge,ir=tr/We,Xe=gr?br.map(function(Qe,Ke){return vr(tr,br[Ke],nr[Ke],We)}):vr(tr,br,nr,We),cr=Math.abs(gr?(Xe[0]-br[0])/nr[0]:(Xe-br)/nr);if(Be.currentValue=gr?Xe.slice():Xe,Be.completionRate=cr,Be.durationRate=ir,!De){if(rr(Xe,cr,ir)){je();return}if(hr>Ue){Be.currentValue=gr?sr.slice():sr,Be.completionRate=1,Be.durationRate=1,xr(gr?sr.slice():sr,1,1),er(sr,1,1),je();return}else xr(Xe,cr,ir),Ie(Je)}}(Ge)}),Be.cancel}var Se=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(Oe){return e.window.setTimeout(Oe,1e3/60)},Fe=e.window.cancelAnimationFrame||e.window.clearTimeout;function Ie(){return Se.apply(e.window,arguments)}function Me(){return Fe.apply(e.window,arguments)}e.util.animate=xe,e.util.requestAnimFrame=Ie,e.util.cancelAnimFrame=Me,e.runningAnimations=Te}(),function(){function Pe(Te,ke,Ae){var xe="rgba("+parseInt(Te[0]+Ae*(ke[0]-Te[0]),10)+","+parseInt(Te[1]+Ae*(ke[1]-Te[1]),10)+","+parseInt(Te[2]+Ae*(ke[2]-Te[2]),10);return xe+=","+(Te&&ke?parseFloat(Te[3]+Ae*(ke[3]-Te[3])):1),xe+=")",xe}function St(Te,ke,Ae,xe){var Se=new e.Color(Te).getSource(),Fe=new e.Color(ke).getSource(),Ie=xe.onComplete,Me=xe.onChange;return xe=xe||{},e.util.animate(e.util.object.extend(xe,{duration:Ae||500,startValue:Se,endValue:Fe,byValue:Fe,easing:function(Oe,De,Be,je){var ze=xe.colorEasing?xe.colorEasing(Oe,je):1-Math.cos(Oe/je*(Math.PI/2));return Pe(De,Be,ze)},onComplete:function(Oe,De,Be){if(Ie)return Ie(Pe(Fe,Fe,0),De,Be)},onChange:function(Oe,De,Be){if(Me){if(Array.isArray(Oe))return Me(Pe(Oe,Oe,0),De,Be);Me(Oe,De,Be)}}}))}e.util.animateColor=St}(),function(){function Pe($e,tr,ir,Xe){return $e<Math.abs(tr)?($e=tr,Xe=ir/4):tr===0&&$e===0?Xe=ir/(2*Math.PI)*Math.asin(1):Xe=ir/(2*Math.PI)*Math.asin(tr/$e),{a:$e,c:tr,p:ir,s:Xe}}function St($e,tr,ir){return $e.a*Math.pow(2,10*(tr-=1))*Math.sin((tr*ir-$e.s)*(2*Math.PI)/$e.p)}function Te($e,tr,ir,Xe){return ir*(($e=$e/Xe-1)*$e*$e+1)+tr}function ke($e,tr,ir,Xe){return $e/=Xe/2,$e<1?ir/2*$e*$e*$e+tr:ir/2*(($e-=2)*$e*$e+2)+tr}function Ae($e,tr,ir,Xe){return ir*($e/=Xe)*$e*$e*$e+tr}function xe($e,tr,ir,Xe){return-ir*(($e=$e/Xe-1)*$e*$e*$e-1)+tr}function Se($e,tr,ir,Xe){return $e/=Xe/2,$e<1?ir/2*$e*$e*$e*$e+tr:-ir/2*(($e-=2)*$e*$e*$e-2)+tr}function Fe($e,tr,ir,Xe){return ir*($e/=Xe)*$e*$e*$e*$e+tr}function Ie($e,tr,ir,Xe){return ir*(($e=$e/Xe-1)*$e*$e*$e*$e+1)+tr}function Me($e,tr,ir,Xe){return $e/=Xe/2,$e<1?ir/2*$e*$e*$e*$e*$e+tr:ir/2*(($e-=2)*$e*$e*$e*$e+2)+tr}function Oe($e,tr,ir,Xe){return-ir*Math.cos($e/Xe*(Math.PI/2))+ir+tr}function De($e,tr,ir,Xe){return ir*Math.sin($e/Xe*(Math.PI/2))+tr}function Be($e,tr,ir,Xe){return-ir/2*(Math.cos(Math.PI*$e/Xe)-1)+tr}function je($e,tr,ir,Xe){return $e===0?tr:ir*Math.pow(2,10*($e/Xe-1))+tr}function ze($e,tr,ir,Xe){return $e===Xe?tr+ir:ir*(-Math.pow(2,-10*$e/Xe)+1)+tr}function Ge($e,tr,ir,Xe){return $e===0?tr:$e===Xe?tr+ir:($e/=Xe/2,$e<1?ir/2*Math.pow(2,10*($e-1))+tr:ir/2*(-Math.pow(2,-10*--$e)+2)+tr)}function We($e,tr,ir,Xe){return-ir*(Math.sqrt(1-($e/=Xe)*$e)-1)+tr}function Ue($e,tr,ir,Xe){return ir*Math.sqrt(1-($e=$e/Xe-1)*$e)+tr}function hr($e,tr,ir,Xe){return $e/=Xe/2,$e<1?-ir/2*(Math.sqrt(1-$e*$e)-1)+tr:ir/2*(Math.sqrt(1-($e-=2)*$e)+1)+tr}function xr($e,tr,ir,Xe){var cr=1.70158,Qe=0,Ke=ir;if($e===0)return tr;if($e/=Xe,$e===1)return tr+ir;Qe||(Qe=Xe*.3);var lr=Pe(Ke,ir,Qe,cr);return-St(lr,$e,Xe)+tr}function rr($e,tr,ir,Xe){var cr=1.70158,Qe=0,Ke=ir;if($e===0)return tr;if($e/=Xe,$e===1)return tr+ir;Qe||(Qe=Xe*.3);var lr=Pe(Ke,ir,Qe,cr);return lr.a*Math.pow(2,-10*$e)*Math.sin(($e*Xe-lr.s)*(2*Math.PI)/lr.p)+lr.c+tr}function er($e,tr,ir,Xe){var cr=1.70158,Qe=0,Ke=ir;if($e===0)return tr;if($e/=Xe/2,$e===2)return tr+ir;Qe||(Qe=Xe*(.3*1.5));var lr=Pe(Ke,ir,Qe,cr);return $e<1?-.5*St(lr,$e,Xe)+tr:lr.a*Math.pow(2,-10*($e-=1))*Math.sin(($e*Xe-lr.s)*(2*Math.PI)/lr.p)*.5+lr.c+tr}function vr($e,tr,ir,Xe,cr){return cr===void 0&&(cr=1.70158),ir*($e/=Xe)*$e*((cr+1)*$e-cr)+tr}function gr($e,tr,ir,Xe,cr){return cr===void 0&&(cr=1.70158),ir*(($e=$e/Xe-1)*$e*((cr+1)*$e+cr)+1)+tr}function br($e,tr,ir,Xe,cr){return cr===void 0&&(cr=1.70158),$e/=Xe/2,$e<1?ir/2*($e*$e*(((cr*=1.525)+1)*$e-cr))+tr:ir/2*(($e-=2)*$e*(((cr*=1.525)+1)*$e+cr)+2)+tr}function sr($e,tr,ir,Xe){return ir-nr(Xe-$e,0,ir,Xe)+tr}function nr($e,tr,ir,Xe){return($e/=Xe)<1/2.75?ir*(7.5625*$e*$e)+tr:$e<2/2.75?ir*(7.5625*($e-=1.5/2.75)*$e+.75)+tr:$e<2.5/2.75?ir*(7.5625*($e-=2.25/2.75)*$e+.9375)+tr:ir*(7.5625*($e-=2.625/2.75)*$e+.984375)+tr}function Je($e,tr,ir,Xe){return $e<Xe/2?sr($e*2,0,ir,Xe)*.5+tr:nr($e*2-Xe,0,ir,Xe)*.5+ir*.5+tr}e.util.ease={easeInQuad:function($e,tr,ir,Xe){return ir*($e/=Xe)*$e+tr},easeOutQuad:function($e,tr,ir,Xe){return-ir*($e/=Xe)*($e-2)+tr},easeInOutQuad:function($e,tr,ir,Xe){return $e/=Xe/2,$e<1?ir/2*$e*$e+tr:-ir/2*(--$e*($e-2)-1)+tr},easeInCubic:function($e,tr,ir,Xe){return ir*($e/=Xe)*$e*$e+tr},easeOutCubic:Te,easeInOutCubic:ke,easeInQuart:Ae,easeOutQuart:xe,easeInOutQuart:Se,easeInQuint:Fe,easeOutQuint:Ie,easeInOutQuint:Me,easeInSine:Oe,easeOutSine:De,easeInOutSine:Be,easeInExpo:je,easeOutExpo:ze,easeInOutExpo:Ge,easeInCirc:We,easeOutCirc:Ue,easeInOutCirc:hr,easeInElastic:xr,easeOutElastic:rr,easeInOutElastic:er,easeInBack:vr,easeOutBack:gr,easeInOutBack:br,easeInBounce:sr,easeOutBounce:nr,easeInOutBounce:Je}}(),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.object.extend,ke=St.util.object.clone,Ae=St.util.toFixed,xe=St.util.parseUnit,Se=St.util.multiplyTransformMatrices,Fe=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],Ie=["symbol","image","marker","pattern","view","svg"],Me=["pattern","defs","symbol","metadata","clipPath","mask","desc"],Oe=["symbol","g","a","svg","clipPath","defs"],De={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},Be={stroke:"strokeOpacity",fill:"fillOpacity"},je="font-size",ze="clip-path";St.svgValidTagNamesRegEx=Ue(Fe),St.svgViewBoxElementsRegEx=Ue(Ie),St.svgInvalidAncestorsRegEx=Ue(Me),St.svgValidParentsRegEx=Ue(Oe),St.cssRules={},St.gradientDefs={},St.clipPaths={};function Ge(Qe){return Qe in De?De[Qe]:Qe}function We(Qe,Ke,lr,mr){var Ar=Array.isArray(Ke),Pr;if((Qe==="fill"||Qe==="stroke")&&Ke==="none")Ke="";else{if(Qe==="strokeUniform")return Ke==="non-scaling-stroke";if(Qe==="strokeDashArray")Ke==="none"?Ke=null:Ke=Ke.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(Qe==="transformMatrix")lr&&lr.transformMatrix?Ke=Se(lr.transformMatrix,St.parseTransformAttribute(Ke)):Ke=St.parseTransformAttribute(Ke);else if(Qe==="visible")Ke=Ke!=="none"&&Ke!=="hidden",lr&&lr.visible===!1&&(Ke=!1);else if(Qe==="opacity")Ke=parseFloat(Ke),lr&&typeof lr.opacity<"u"&&(Ke*=lr.opacity);else if(Qe==="textAnchor")Ke=Ke==="start"?"left":Ke==="end"?"right":"center";else if(Qe==="charSpacing")Pr=xe(Ke,mr)/mr*1e3;else if(Qe==="paintFirst"){var Rr=Ke.indexOf("fill"),Ir=Ke.indexOf("stroke"),Ke="fill";(Rr>-1&&Ir>-1&&Ir<Rr||Rr===-1&&Ir>-1)&&(Ke="stroke")}else{if(Qe==="href"||Qe==="xlink:href"||Qe==="font")return Ke;if(Qe==="imageSmoothing")return Ke==="optimizeQuality";Pr=Ar?Ke.map(xe):xe(Ke,mr)}}return!Ar&&isNaN(Pr)?Ke:Pr}function Ue(Qe){return new RegExp("^("+Qe.join("|")+")\\b","i")}function hr(Qe){for(var Ke in Be)if(!(typeof Qe[Be[Ke]]>"u"||Qe[Ke]==="")){if(typeof Qe[Ke]>"u"){if(!St.Object.prototype[Ke])continue;Qe[Ke]=St.Object.prototype[Ke]}if(Qe[Ke].indexOf("url(")!==0){var lr=new St.Color(Qe[Ke]);Qe[Ke]=lr.setAlpha(Ae(lr.getAlpha()*Qe[Be[Ke]],2)).toRgba()}}return Qe}function xr(Qe,Ke){var lr,mr=[],Ar,Pr,Rr;for(Pr=0,Rr=Ke.length;Pr<Rr;Pr++)lr=Ke[Pr],Ar=Qe.getElementsByTagName(lr),mr=mr.concat(Array.prototype.slice.call(Ar));return mr}St.parseTransformAttribute=function(){function Qe(Mr,Gr){var Yr=St.util.cos(Gr[0]),$r=St.util.sin(Gr[0]),ti=0,ri=0;Gr.length===3&&(ti=Gr[1],ri=Gr[2]),Mr[0]=Yr,Mr[1]=$r,Mr[2]=-$r,Mr[3]=Yr,Mr[4]=ti-(Yr*ti-$r*ri),Mr[5]=ri-($r*ti+Yr*ri)}function Ke(Mr,Gr){var Yr=Gr[0],$r=Gr.length===2?Gr[1]:Gr[0];Mr[0]=Yr,Mr[3]=$r}function lr(Mr,Gr,Yr){Mr[Yr]=Math.tan(St.util.degreesToRadians(Gr[0]))}function mr(Mr,Gr){Mr[4]=Gr[0],Gr.length===2&&(Mr[5]=Gr[1])}var Ar=St.iMatrix,Pr=St.reNum,Rr=St.commaWsp,Ir="(?:(skewX)\\s*\\(\\s*("+Pr+")\\s*\\))",ur="(?:(skewY)\\s*\\(\\s*("+Pr+")\\s*\\))",ar="(?:(rotate)\\s*\\(\\s*("+Pr+")(?:"+Rr+"("+Pr+")"+Rr+"("+Pr+"))?\\s*\\))",Sr="(?:(scale)\\s*\\(\\s*("+Pr+")(?:"+Rr+"("+Pr+"))?\\s*\\))",wr="(?:(translate)\\s*\\(\\s*("+Pr+")(?:"+Rr+"("+Pr+"))?\\s*\\))",or="(?:(matrix)\\s*\\(\\s*("+Pr+")"+Rr+"("+Pr+")"+Rr+"("+Pr+")"+Rr+"("+Pr+")"+Rr+"("+Pr+")"+Rr+"("+Pr+")\\s*\\))",kr="(?:"+or+"|"+wr+"|"+Sr+"|"+ar+"|"+Ir+"|"+ur+")",Or="(?:"+kr+"(?:"+Rr+"*"+kr+")*)",Lr="^\\s*(?:"+Or+"?)\\s*$",Dr=new RegExp(Lr),Nr=new RegExp(kr,"g");return function(Mr){var Gr=Ar.concat(),Yr=[];if(!Mr||Mr&&!Dr.test(Mr))return Gr;Mr.replace(Nr,function(ti){var ri=new RegExp(kr).exec(ti).filter(function(fi){return!!fi}),oi=ri[1],ni=ri.slice(2).map(parseFloat);switch(oi){case"translate":mr(Gr,ni);break;case"rotate":ni[0]=St.util.degreesToRadians(ni[0]),Qe(Gr,ni);break;case"scale":Ke(Gr,ni);break;case"skewX":lr(Gr,ni,2);break;case"skewY":lr(Gr,ni,1);break;case"matrix":Gr=ni;break}Yr.push(Gr.concat()),Gr=Ar.concat()});for(var $r=Yr[0];Yr.length>1;)Yr.shift(),$r=St.util.multiplyTransformMatrices($r,Yr[0]);return $r}}();function rr(Qe,Ke){var lr,mr;Qe.replace(/;\s*$/,"").split(";").forEach(function(Ar){var Pr=Ar.split(":");lr=Pr[0].trim().toLowerCase(),mr=Pr[1].trim(),Ke[lr]=mr})}function er(Qe,Ke){var lr,mr;for(var Ar in Qe)typeof Qe[Ar]>"u"||(lr=Ar.toLowerCase(),mr=Qe[Ar],Ke[lr]=mr)}function vr(Qe,Ke){var lr={};for(var mr in St.cssRules[Ke])if(gr(Qe,mr.split(" ")))for(var Ar in St.cssRules[Ke][mr])lr[Ar]=St.cssRules[Ke][mr][Ar];return lr}function gr(Qe,Ke){var lr,mr=!0;return lr=sr(Qe,Ke.pop()),lr&&Ke.length&&(mr=br(Qe,Ke)),lr&&mr&&Ke.length===0}function br(Qe,Ke){for(var lr,mr=!0;Qe.parentNode&&Qe.parentNode.nodeType===1&&Ke.length;)mr&&(lr=Ke.pop()),Qe=Qe.parentNode,mr=sr(Qe,lr);return Ke.length===0}function sr(Qe,Ke){var lr=Qe.nodeName,mr=Qe.getAttribute("class"),Ar=Qe.getAttribute("id"),Pr,Rr;if(Pr=new RegExp("^"+lr,"i"),Ke=Ke.replace(Pr,""),Ar&&Ke.length&&(Pr=new RegExp("#"+Ar+"(?![a-zA-Z\\-]+)","i"),Ke=Ke.replace(Pr,"")),mr&&Ke.length)for(mr=mr.split(" "),Rr=mr.length;Rr--;)Pr=new RegExp("\\."+mr[Rr]+"(?![a-zA-Z\\-]+)","i"),Ke=Ke.replace(Pr,"");return Ke.length===0}function nr(Qe,Ke){var lr;if(Qe.getElementById&&(lr=Qe.getElementById(Ke)),lr)return lr;var mr,Ar,Pr,Rr=Qe.getElementsByTagName("*");for(Ar=0,Pr=Rr.length;Ar<Pr;Ar++)if(mr=Rr[Ar],Ke===mr.getAttribute("id"))return mr}function Je(Qe){for(var Ke=xr(Qe,["use","svg:use"]),lr=0;Ke.length&&lr<Ke.length;){var mr=Ke[lr],Ar=mr.getAttribute("xlink:href")||mr.getAttribute("href");if(Ar===null)return;var Pr=Ar.slice(1),Rr=mr.getAttribute("x")||0,Ir=mr.getAttribute("y")||0,ur=nr(Qe,Pr).cloneNode(!0),ar=(ur.getAttribute("transform")||"")+" translate("+Rr+", "+Ir+")",Sr,wr=Ke.length,or,kr,Or,Lr,Dr=St.svgNS;if(tr(ur),/^svg$/i.test(ur.nodeName)){var Nr=ur.ownerDocument.createElementNS(Dr,"g");for(kr=0,Or=ur.attributes,Lr=Or.length;kr<Lr;kr++)or=Or.item(kr),Nr.setAttributeNS(Dr,or.nodeName,or.nodeValue);for(;ur.firstChild;)Nr.appendChild(ur.firstChild);ur=Nr}for(kr=0,Or=mr.attributes,Lr=Or.length;kr<Lr;kr++)or=Or.item(kr),!(or.nodeName==="x"||or.nodeName==="y"||or.nodeName==="xlink:href"||or.nodeName==="href")&&(or.nodeName==="transform"?ar=or.nodeValue+" "+ar:ur.setAttribute(or.nodeName,or.nodeValue));ur.setAttribute("transform",ar),ur.setAttribute("instantiated_by_use","1"),ur.removeAttribute("id"),Sr=mr.parentNode,Sr.replaceChild(ur,mr),Ke.length===wr&&lr++}}var $e=new RegExp("^\\s*("+St.reNum+"+)\\s*,?\\s*("+St.reNum+"+)\\s*,?\\s*("+St.reNum+"+)\\s*,?\\s*("+St.reNum+"+)\\s*$");function tr(Qe){if(!St.svgViewBoxElementsRegEx.test(Qe.nodeName))return{};var Ke=Qe.getAttribute("viewBox"),lr=1,mr=1,Ar=0,Pr=0,Rr,Ir,ur,ar,Sr=Qe.getAttribute("width"),wr=Qe.getAttribute("height"),or=Qe.getAttribute("x")||0,kr=Qe.getAttribute("y")||0,Or=Qe.getAttribute("preserveAspectRatio")||"",Lr=!Ke||!(Ke=Ke.match($e)),Dr=!Sr||!wr||Sr==="100%"||wr==="100%",Nr=Lr&&Dr,Mr={},Gr="",Yr=0,$r=0;if(Mr.width=0,Mr.height=0,Mr.toBeParsed=Nr,Lr&&(or||kr)&&Qe.parentNode&&Qe.parentNode.nodeName!=="#document"&&(Gr=" translate("+xe(or)+" "+xe(kr)+") ",ur=(Qe.getAttribute("transform")||"")+Gr,Qe.setAttribute("transform",ur),Qe.removeAttribute("x"),Qe.removeAttribute("y")),Nr)return Mr;if(Lr)return Mr.width=xe(Sr),Mr.height=xe(wr),Mr;if(Ar=-parseFloat(Ke[1]),Pr=-parseFloat(Ke[2]),Rr=parseFloat(Ke[3]),Ir=parseFloat(Ke[4]),Mr.minX=Ar,Mr.minY=Pr,Mr.viewBoxWidth=Rr,Mr.viewBoxHeight=Ir,Dr?(Mr.width=Rr,Mr.height=Ir):(Mr.width=xe(Sr),Mr.height=xe(wr),lr=Mr.width/Rr,mr=Mr.height/Ir),Or=St.util.parsePreserveAspectRatioAttribute(Or),Or.alignX!=="none"&&(Or.meetOrSlice==="meet"&&(mr=lr=lr>mr?mr:lr),Or.meetOrSlice==="slice"&&(mr=lr=lr>mr?lr:mr),Yr=Mr.width-Rr*lr,$r=Mr.height-Ir*lr,Or.alignX==="Mid"&&(Yr/=2),Or.alignY==="Mid"&&($r/=2),Or.alignX==="Min"&&(Yr=0),Or.alignY==="Min"&&($r=0)),lr===1&&mr===1&&Ar===0&&Pr===0&&or===0&&kr===0)return Mr;if((or||kr)&&Qe.parentNode.nodeName!=="#document"&&(Gr=" translate("+xe(or)+" "+xe(kr)+") "),ur=Gr+" matrix("+lr+" 0 0 "+mr+" "+(Ar*lr+Yr)+" "+(Pr*mr+$r)+") ",Qe.nodeName==="svg"){for(ar=Qe.ownerDocument.createElementNS(St.svgNS,"g");Qe.firstChild;)ar.appendChild(Qe.firstChild);Qe.appendChild(ar)}else ar=Qe,ar.removeAttribute("x"),ar.removeAttribute("y"),ur=ar.getAttribute("transform")+ur;return ar.setAttribute("transform",ur),Mr}function ir(Qe,Ke){for(;Qe&&(Qe=Qe.parentNode);)if(Qe.nodeName&&Ke.test(Qe.nodeName.replace("svg:",""))&&!Qe.getAttribute("instantiated_by_use"))return!0;return!1}St.parseSVGDocument=function(Qe,Ke,lr,mr){if(!!Qe){Je(Qe);var Ar=St.Object.__uid++,Pr,Rr,Ir=tr(Qe),ur=St.util.toArray(Qe.getElementsByTagName("*"));if(Ir.crossOrigin=mr&&mr.crossOrigin,Ir.svgUid=Ar,ur.length===0&&St.isLikelyNode){ur=Qe.selectNodes('//*[name(.)!="svg"]');var ar=[];for(Pr=0,Rr=ur.length;Pr<Rr;Pr++)ar[Pr]=ur[Pr];ur=ar}var Sr=ur.filter(function(or){return tr(or),St.svgValidTagNamesRegEx.test(or.nodeName.replace("svg:",""))&&!ir(or,St.svgInvalidAncestorsRegEx)});if(!Sr||Sr&&!Sr.length){Ke&&Ke([],{});return}var wr={};ur.filter(function(or){return or.nodeName.replace("svg:","")==="clipPath"}).forEach(function(or){var kr=or.getAttribute("id");wr[kr]=St.util.toArray(or.getElementsByTagName("*")).filter(function(Or){return St.svgValidTagNamesRegEx.test(Or.nodeName.replace("svg:",""))})}),St.gradientDefs[Ar]=St.getGradientDefs(Qe),St.cssRules[Ar]=St.getCSSRules(Qe),St.clipPaths[Ar]=wr,St.parseElements(Sr,function(or,kr){Ke&&(Ke(or,Ir,kr,ur),delete St.gradientDefs[Ar],delete St.cssRules[Ar],delete St.clipPaths[Ar])},ke(Ir),lr,mr)}};function Xe(Qe,Ke){var lr=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],mr="xlink:href",Ar=Ke.getAttribute(mr).slice(1),Pr=nr(Qe,Ar);if(Pr&&Pr.getAttribute(mr)&&Xe(Qe,Pr),lr.forEach(function(Ir){Pr&&!Ke.hasAttribute(Ir)&&Pr.hasAttribute(Ir)&&Ke.setAttribute(Ir,Pr.getAttribute(Ir))}),!Ke.children.length)for(var Rr=Pr.cloneNode(!0);Rr.firstChild;)Ke.appendChild(Rr.firstChild);Ke.removeAttribute(mr)}var cr=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+St.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+St.reNum+"))?\\s+(.*)");Te(St,{parseFontDeclaration:function(Qe,Ke){var lr=Qe.match(cr);if(!!lr){var mr=lr[1],Ar=lr[3],Pr=lr[4],Rr=lr[5],Ir=lr[6];mr&&(Ke.fontStyle=mr),Ar&&(Ke.fontWeight=isNaN(parseFloat(Ar))?Ar:parseFloat(Ar)),Pr&&(Ke.fontSize=xe(Pr)),Ir&&(Ke.fontFamily=Ir),Rr&&(Ke.lineHeight=Rr==="normal"?1:Rr)}},getGradientDefs:function(Qe){var Ke=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],lr=xr(Qe,Ke),mr,Ar=0,Pr={};for(Ar=lr.length;Ar--;)mr=lr[Ar],mr.getAttribute("xlink:href")&&Xe(Qe,mr),Pr[mr.getAttribute("id")]=mr;return Pr},parseAttributes:function(Qe,Ke,lr){if(!!Qe){var mr,Ar={},Pr,Rr;typeof lr>"u"&&(lr=Qe.getAttribute("svgUid")),Qe.parentNode&&St.svgValidParentsRegEx.test(Qe.parentNode.nodeName)&&(Ar=St.parseAttributes(Qe.parentNode,Ke,lr));var Ir=Ke.reduce(function(Or,Lr){return mr=Qe.getAttribute(Lr),mr&&(Or[Lr]=mr),Or},{}),ur=Te(vr(Qe,lr),St.parseStyleAttribute(Qe));Ir=Te(Ir,ur),ur[ze]&&Qe.setAttribute(ze,ur[ze]),Pr=Rr=Ar.fontSize||St.Text.DEFAULT_SVG_FONT_SIZE,Ir[je]&&(Ir[je]=Pr=xe(Ir[je],Rr));var ar,Sr,wr={};for(var or in Ir)ar=Ge(or),Sr=We(ar,Ir[or],Ar,Pr),wr[ar]=Sr;wr&&wr.font&&St.parseFontDeclaration(wr.font,wr);var kr=Te(Ar,wr);return St.svgValidParentsRegEx.test(Qe.nodeName)?kr:hr(kr)}},parseElements:function(Qe,Ke,lr,mr,Ar){new St.ElementsParser(Qe,Ke,lr,mr,Ar).parse()},parseStyleAttribute:function(Qe){var Ke={},lr=Qe.getAttribute("style");return lr&&(typeof lr=="string"?rr(lr,Ke):er(lr,Ke)),Ke},parsePointsAttribute:function(Qe){if(!Qe)return null;Qe=Qe.replace(/,/g," ").trim(),Qe=Qe.split(/\s+/);var Ke=[],lr,mr;for(lr=0,mr=Qe.length;lr<mr;lr+=2)Ke.push({x:parseFloat(Qe[lr]),y:parseFloat(Qe[lr+1])});return Ke},getCSSRules:function(Qe){var Ke=Qe.getElementsByTagName("style"),lr,mr,Ar={},Pr;for(lr=0,mr=Ke.length;lr<mr;lr++){var Rr=Ke[lr].textContent;Rr=Rr.replace(/\/\*[\s\S]*?\*\//g,""),Rr.trim()!==""&&(Pr=Rr.split("}"),Pr=Pr.filter(function(Ir){return Ir.trim()}),Pr.forEach(function(Ir){var ur=Ir.split("{"),ar={},Sr=ur[1].trim(),wr=Sr.split(";").filter(function(Lr){return Lr.trim()});for(lr=0,mr=wr.length;lr<mr;lr++){var or=wr[lr].split(":"),kr=or[0].trim(),Or=or[1].trim();ar[kr]=Or}Ir=ur[0].trim(),Ir.split(",").forEach(function(Lr){Lr=Lr.replace(/^svg/i,"").trim(),Lr!==""&&(Ar[Lr]?St.util.object.extend(Ar[Lr],ar):Ar[Lr]=St.util.object.clone(ar))})}))}return Ar},loadSVGFromURL:function(Qe,Ke,lr,mr){Qe=Qe.replace(/^\n\s*/,"").trim(),new St.util.request(Qe,{method:"get",onComplete:Ar});function Ar(Pr){var Rr=Pr.responseXML;if(!Rr||!Rr.documentElement)return Ke&&Ke(null),!1;St.parseSVGDocument(Rr.documentElement,function(Ir,ur,ar,Sr){Ke&&Ke(Ir,ur,ar,Sr)},lr,mr)}},loadSVGFromString:function(Qe,Ke,lr,mr){var Ar=new St.window.DOMParser,Pr=Ar.parseFromString(Qe.trim(),"text/xml");St.parseSVGDocument(Pr.documentElement,function(Rr,Ir,ur,ar){Ke(Rr,Ir,ur,ar)},lr,mr)}})}(t),e.ElementsParser=function(Pe,St,Te,ke,Ae,xe){this.elements=Pe,this.callback=St,this.options=Te,this.reviver=ke,this.svgUid=Te&&Te.svgUid||0,this.parsingOptions=Ae,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=xe},function(Pe){Pe.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},Pe.createObjects=function(){var St=this;this.elements.forEach(function(Te,ke){Te.setAttribute("svgUid",St.svgUid),St.createObject(Te,ke)})},Pe.findTag=function(St){return e[e.util.string.capitalize(St.tagName.replace("svg:",""))]},Pe.createObject=function(St,Te){var ke=this.findTag(St);if(ke&&ke.fromElement)try{ke.fromElement(St,this.createCallback(Te,St),this.options)}catch(Ae){e.log(Ae)}else this.checkIfDone()},Pe.createCallback=function(St,Te){var ke=this;return function(Ae){var xe;ke.resolveGradient(Ae,Te,"fill"),ke.resolveGradient(Ae,Te,"stroke"),Ae instanceof e.Image&&Ae._originalElement&&(xe=Ae.parsePreserveAspectRatioAttribute(Te)),Ae._removeTransformMatrix(xe),ke.resolveClipPath(Ae,Te),ke.reviver&&ke.reviver(Te,Ae),ke.instances[St]=Ae,ke.checkIfDone()}},Pe.extractPropertyDefinition=function(St,Te,ke){var Ae=St[Te],xe=this.regexUrl;if(!!xe.test(Ae)){xe.lastIndex=0;var Se=xe.exec(Ae)[1];return xe.lastIndex=0,e[ke][this.svgUid][Se]}},Pe.resolveGradient=function(St,Te,ke){var Ae=this.extractPropertyDefinition(St,ke,"gradientDefs");if(Ae){var xe=Te.getAttribute(ke+"-opacity"),Se=e.Gradient.fromElement(Ae,St,xe,this.options);St.set(ke,Se)}},Pe.createClipPathCallback=function(St,Te){return function(ke){ke._removeTransformMatrix(),ke.fillRule=ke.clipRule,Te.push(ke)}},Pe.resolveClipPath=function(St,Te){var ke=this.extractPropertyDefinition(St,"clipPath","clipPaths"),Ae,xe,Se,Fe,Ie,Me;if(ke){Fe=[],Se=e.util.invertTransform(St.calcTransformMatrix());for(var Oe=ke[0].parentNode,De=Te;De.parentNode&&De.getAttribute("clip-path")!==St.clipPath;)De=De.parentNode;De.parentNode.appendChild(Oe);for(var Be=0;Be<ke.length;Be++)Ae=ke[Be],xe=this.findTag(Ae),xe.fromElement(Ae,this.createClipPathCallback(St,Fe),this.options);Fe.length===1?ke=Fe[0]:ke=new e.Group(Fe),Ie=e.util.multiplyTransformMatrices(Se,ke.calcTransformMatrix()),ke.clipPath&&this.resolveClipPath(ke,De);var Me=e.util.qrDecompose(Ie);ke.flipX=!1,ke.flipY=!1,ke.set("scaleX",Me.scaleX),ke.set("scaleY",Me.scaleY),ke.angle=Me.angle,ke.skewX=Me.skewX,ke.skewY=0,ke.setPositionByOrigin({x:Me.translateX,y:Me.translateY},"center","center"),St.clipPath=ke}else delete St.clipPath},Pe.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(St){return St!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(Pe){var St=Pe.fabric||(Pe.fabric={});if(St.Point){St.warn("fabric.Point is already defined");return}St.Point=Te;function Te(ke,Ae){this.x=ke,this.y=Ae}Te.prototype={type:"point",constructor:Te,add:function(ke){return new Te(this.x+ke.x,this.y+ke.y)},addEquals:function(ke){return this.x+=ke.x,this.y+=ke.y,this},scalarAdd:function(ke){return new Te(this.x+ke,this.y+ke)},scalarAddEquals:function(ke){return this.x+=ke,this.y+=ke,this},subtract:function(ke){return new Te(this.x-ke.x,this.y-ke.y)},subtractEquals:function(ke){return this.x-=ke.x,this.y-=ke.y,this},scalarSubtract:function(ke){return new Te(this.x-ke,this.y-ke)},scalarSubtractEquals:function(ke){return this.x-=ke,this.y-=ke,this},multiply:function(ke){return new Te(this.x*ke,this.y*ke)},multiplyEquals:function(ke){return this.x*=ke,this.y*=ke,this},divide:function(ke){return new Te(this.x/ke,this.y/ke)},divideEquals:function(ke){return this.x/=ke,this.y/=ke,this},eq:function(ke){return this.x===ke.x&&this.y===ke.y},lt:function(ke){return this.x<ke.x&&this.y<ke.y},lte:function(ke){return this.x<=ke.x&&this.y<=ke.y},gt:function(ke){return this.x>ke.x&&this.y>ke.y},gte:function(ke){return this.x>=ke.x&&this.y>=ke.y},lerp:function(ke,Ae){return typeof Ae>"u"&&(Ae=.5),Ae=Math.max(Math.min(1,Ae),0),new Te(this.x+(ke.x-this.x)*Ae,this.y+(ke.y-this.y)*Ae)},distanceFrom:function(ke){var Ae=this.x-ke.x,xe=this.y-ke.y;return Math.sqrt(Ae*Ae+xe*xe)},midPointFrom:function(ke){return this.lerp(ke)},min:function(ke){return new Te(Math.min(this.x,ke.x),Math.min(this.y,ke.y))},max:function(ke){return new Te(Math.max(this.x,ke.x),Math.max(this.y,ke.y))},toString:function(){return this.x+","+this.y},setXY:function(ke,Ae){return this.x=ke,this.y=Ae,this},setX:function(ke){return this.x=ke,this},setY:function(ke){return this.y=ke,this},setFromPoint:function(ke){return this.x=ke.x,this.y=ke.y,this},swap:function(ke){var Ae=this.x,xe=this.y;this.x=ke.x,this.y=ke.y,ke.x=Ae,ke.y=xe},clone:function(){return new Te(this.x,this.y)}}}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={});if(St.Intersection){St.warn("fabric.Intersection is already defined");return}function Te(ke){this.status=ke,this.points=[]}St.Intersection=Te,St.Intersection.prototype={constructor:Te,appendPoint:function(ke){return this.points.push(ke),this},appendPoints:function(ke){return this.points=this.points.concat(ke),this}},St.Intersection.intersectLineLine=function(ke,Ae,xe,Se){var Fe,Ie=(Se.x-xe.x)*(ke.y-xe.y)-(Se.y-xe.y)*(ke.x-xe.x),Me=(Ae.x-ke.x)*(ke.y-xe.y)-(Ae.y-ke.y)*(ke.x-xe.x),Oe=(Se.y-xe.y)*(Ae.x-ke.x)-(Se.x-xe.x)*(Ae.y-ke.y);if(Oe!==0){var De=Ie/Oe,Be=Me/Oe;0<=De&&De<=1&&0<=Be&&Be<=1?(Fe=new Te("Intersection"),Fe.appendPoint(new St.Point(ke.x+De*(Ae.x-ke.x),ke.y+De*(Ae.y-ke.y)))):Fe=new Te}else Ie===0||Me===0?Fe=new Te("Coincident"):Fe=new Te("Parallel");return Fe},St.Intersection.intersectLinePolygon=function(ke,Ae,xe){var Se=new Te,Fe=xe.length,Ie,Me,Oe,De;for(De=0;De<Fe;De++)Ie=xe[De],Me=xe[(De+1)%Fe],Oe=Te.intersectLineLine(ke,Ae,Ie,Me),Se.appendPoints(Oe.points);return Se.points.length>0&&(Se.status="Intersection"),Se},St.Intersection.intersectPolygonPolygon=function(ke,Ae){var xe=new Te,Se=ke.length,Fe;for(Fe=0;Fe<Se;Fe++){var Ie=ke[Fe],Me=ke[(Fe+1)%Se],Oe=Te.intersectLinePolygon(Ie,Me,Ae);xe.appendPoints(Oe.points)}return xe.points.length>0&&(xe.status="Intersection"),xe},St.Intersection.intersectPolygonRectangle=function(ke,Ae,xe){var Se=Ae.min(xe),Fe=Ae.max(xe),Ie=new St.Point(Fe.x,Se.y),Me=new St.Point(Se.x,Fe.y),Oe=Te.intersectLinePolygon(Se,Ie,ke),De=Te.intersectLinePolygon(Ie,Fe,ke),Be=Te.intersectLinePolygon(Fe,Me,ke),je=Te.intersectLinePolygon(Me,Se,ke),ze=new Te;return ze.appendPoints(Oe.points),ze.appendPoints(De.points),ze.appendPoints(Be.points),ze.appendPoints(je.points),ze.points.length>0&&(ze.status="Intersection"),ze}}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={});if(St.Color){St.warn("fabric.Color is already defined.");return}function Te(Ae){Ae?this._tryParsingColor(Ae):this.setSource([0,0,0,1])}St.Color=Te,St.Color.prototype={_tryParsingColor:function(Ae){var xe;Ae in Te.colorNameMap&&(Ae=Te.colorNameMap[Ae]),Ae==="transparent"&&(xe=[255,255,255,0]),xe||(xe=Te.sourceFromHex(Ae)),xe||(xe=Te.sourceFromRgb(Ae)),xe||(xe=Te.sourceFromHsl(Ae)),xe||(xe=[0,0,0,1]),xe&&this.setSource(xe)},_rgbToHsl:function(Ae,xe,Se){Ae/=255,xe/=255,Se/=255;var Fe,Ie,Me,Oe=St.util.array.max([Ae,xe,Se]),De=St.util.array.min([Ae,xe,Se]);if(Me=(Oe+De)/2,Oe===De)Fe=Ie=0;else{var Be=Oe-De;switch(Ie=Me>.5?Be/(2-Oe-De):Be/(Oe+De),Oe){case Ae:Fe=(xe-Se)/Be+(xe<Se?6:0);break;case xe:Fe=(Se-Ae)/Be+2;break;case Se:Fe=(Ae-xe)/Be+4;break}Fe/=6}return[Math.round(Fe*360),Math.round(Ie*100),Math.round(Me*100)]},getSource:function(){return this._source},setSource:function(Ae){this._source=Ae},toRgb:function(){var Ae=this.getSource();return"rgb("+Ae[0]+","+Ae[1]+","+Ae[2]+")"},toRgba:function(){var Ae=this.getSource();return"rgba("+Ae[0]+","+Ae[1]+","+Ae[2]+","+Ae[3]+")"},toHsl:function(){var Ae=this.getSource(),xe=this._rgbToHsl(Ae[0],Ae[1],Ae[2]);return"hsl("+xe[0]+","+xe[1]+"%,"+xe[2]+"%)"},toHsla:function(){var Ae=this.getSource(),xe=this._rgbToHsl(Ae[0],Ae[1],Ae[2]);return"hsla("+xe[0]+","+xe[1]+"%,"+xe[2]+"%,"+Ae[3]+")"},toHex:function(){var Ae=this.getSource(),xe,Se,Fe;return xe=Ae[0].toString(16),xe=xe.length===1?"0"+xe:xe,Se=Ae[1].toString(16),Se=Se.length===1?"0"+Se:Se,Fe=Ae[2].toString(16),Fe=Fe.length===1?"0"+Fe:Fe,xe.toUpperCase()+Se.toUpperCase()+Fe.toUpperCase()},toHexa:function(){var Ae=this.getSource(),xe;return xe=Math.round(Ae[3]*255),xe=xe.toString(16),xe=xe.length===1?"0"+xe:xe,this.toHex()+xe.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(Ae){var xe=this.getSource();return xe[3]=Ae,this.setSource(xe),this},toGrayscale:function(){var Ae=this.getSource(),xe=parseInt((Ae[0]*.3+Ae[1]*.59+Ae[2]*.11).toFixed(0),10),Se=Ae[3];return this.setSource([xe,xe,xe,Se]),this},toBlackWhite:function(Ae){var xe=this.getSource(),Se=(xe[0]*.3+xe[1]*.59+xe[2]*.11).toFixed(0),Fe=xe[3];return Ae=Ae||127,Se=Number(Se)<Number(Ae)?0:255,this.setSource([Se,Se,Se,Fe]),this},overlayWith:function(Ae){Ae instanceof Te||(Ae=new Te(Ae));var xe=[],Se=this.getAlpha(),Fe=.5,Ie=this.getSource(),Me=Ae.getSource(),Oe;for(Oe=0;Oe<3;Oe++)xe.push(Math.round(Ie[Oe]*(1-Fe)+Me[Oe]*Fe));return xe[3]=Se,this.setSource(xe),this}},St.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,St.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,St.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,St.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function ke(Ae,xe,Se){return Se<0&&(Se+=1),Se>1&&(Se-=1),Se<1/6?Ae+(xe-Ae)*6*Se:Se<1/2?xe:Se<2/3?Ae+(xe-Ae)*(2/3-Se)*6:Ae}St.Color.fromRgb=function(Ae){return Te.fromSource(Te.sourceFromRgb(Ae))},St.Color.sourceFromRgb=function(Ae){var xe=Ae.match(Te.reRGBa);if(xe){var Se=parseInt(xe[1],10)/(/%$/.test(xe[1])?100:1)*(/%$/.test(xe[1])?255:1),Fe=parseInt(xe[2],10)/(/%$/.test(xe[2])?100:1)*(/%$/.test(xe[2])?255:1),Ie=parseInt(xe[3],10)/(/%$/.test(xe[3])?100:1)*(/%$/.test(xe[3])?255:1);return[parseInt(Se,10),parseInt(Fe,10),parseInt(Ie,10),xe[4]?parseFloat(xe[4]):1]}},St.Color.fromRgba=Te.fromRgb,St.Color.fromHsl=function(Ae){return Te.fromSource(Te.sourceFromHsl(Ae))},St.Color.sourceFromHsl=function(Ae){var xe=Ae.match(Te.reHSLa);if(!!xe){var Se=(parseFloat(xe[1])%360+360)%360/360,Fe=parseFloat(xe[2])/(/%$/.test(xe[2])?100:1),Ie=parseFloat(xe[3])/(/%$/.test(xe[3])?100:1),Me,Oe,De;if(Fe===0)Me=Oe=De=Ie;else{var Be=Ie<=.5?Ie*(Fe+1):Ie+Fe-Ie*Fe,je=Ie*2-Be;Me=ke(je,Be,Se+1/3),Oe=ke(je,Be,Se),De=ke(je,Be,Se-1/3)}return[Math.round(Me*255),Math.round(Oe*255),Math.round(De*255),xe[4]?parseFloat(xe[4]):1]}},St.Color.fromHsla=Te.fromHsl,St.Color.fromHex=function(Ae){return Te.fromSource(Te.sourceFromHex(Ae))},St.Color.sourceFromHex=function(Ae){if(Ae.match(Te.reHex)){var xe=Ae.slice(Ae.indexOf("#")+1),Se=xe.length===3||xe.length===4,Fe=xe.length===8||xe.length===4,Ie=Se?xe.charAt(0)+xe.charAt(0):xe.substring(0,2),Me=Se?xe.charAt(1)+xe.charAt(1):xe.substring(2,4),Oe=Se?xe.charAt(2)+xe.charAt(2):xe.substring(4,6),De=Fe?Se?xe.charAt(3)+xe.charAt(3):xe.substring(6,8):"FF";return[parseInt(Ie,16),parseInt(Me,16),parseInt(Oe,16),parseFloat((parseInt(De,16)/255).toFixed(2))]}},St.Color.fromSource=function(Ae){var xe=new Te;return xe.setSource(Ae),xe}}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=["e","se","s","sw","w","nw","n","ne","e"],ke=["ns","nesw","ew","nwse"],Ae={},xe="left",Se="top",Fe="right",Ie="bottom",Me="center",Oe={top:Ie,bottom:Se,left:Fe,right:xe,center:Me},De=St.util.radiansToDegrees,Be=Math.sign||function(ar){return(ar>0)-(ar<0)||+ar};function je(ar,Sr){var wr=ar.angle+De(Math.atan2(Sr.y,Sr.x))+360;return Math.round(wr%360/45)}function ze(ar,Sr){var wr=Sr.transform.target,or=wr.canvas,kr=St.util.object.clone(Sr);kr.target=wr,or&&or.fire("object:"+ar,kr),wr.fire(ar,Sr)}function Ge(ar,Sr){var wr=Sr.canvas,or=wr.uniScaleKey,kr=ar[or];return wr.uniformScaling&&!kr||!wr.uniformScaling&&kr}function We(ar){return ar.originX===Me&&ar.originY===Me}function Ue(ar,Sr,wr){var or=ar.lockScalingX,kr=ar.lockScalingY;return!!(or&&kr||!Sr&&(or||kr)&&wr||or&&Sr==="x"||kr&&Sr==="y")}function hr(ar,Sr,wr){var or="not-allowed",kr=Ge(ar,wr),Or="";if(Sr.x!==0&&Sr.y===0?Or="x":Sr.x===0&&Sr.y!==0&&(Or="y"),Ue(wr,Or,kr))return or;var Lr=je(wr,Sr);return Te[Lr]+"-resize"}function xr(ar,Sr,wr){var or="not-allowed";if(Sr.x!==0&&wr.lockSkewingY||Sr.y!==0&&wr.lockSkewingX)return or;var kr=je(wr,Sr)%4;return ke[kr]+"-resize"}function rr(ar,Sr,wr){return ar[wr.canvas.altActionKey]?Ae.skewCursorStyleHandler(ar,Sr,wr):Ae.scaleCursorStyleHandler(ar,Sr,wr)}function er(ar,Sr,wr){var or=ar[wr.canvas.altActionKey];if(Sr.x===0)return or?"skewX":"scaleY";if(Sr.y===0)return or?"skewY":"scaleX"}function vr(ar,Sr,wr){return wr.lockRotation?"not-allowed":Sr.cursorStyle}function gr(ar,Sr,wr,or){return{e:ar,transform:Sr,pointer:{x:wr,y:or}}}function br(ar){return function(Sr,wr,or,kr){var Or=wr.target,Lr=Or.getCenterPoint(),Dr=Or.translateToOriginPoint(Lr,wr.originX,wr.originY),Nr=ar(Sr,wr,or,kr);return Or.setPositionByOrigin(Dr,wr.originX,wr.originY),Nr}}function sr(ar,Sr){return function(wr,or,kr,Or){var Lr=Sr(wr,or,kr,Or);return Lr&&ze(ar,gr(wr,or,kr,Or)),Lr}}function nr(ar,Sr,wr,or,kr){var Or=ar.target,Lr=Or.controls[ar.corner],Dr=Or.canvas.getZoom(),Nr=Or.padding/Dr,Mr=Or.toLocalPoint(new St.Point(or,kr),Sr,wr);return Mr.x>=Nr&&(Mr.x-=Nr),Mr.x<=-Nr&&(Mr.x+=Nr),Mr.y>=Nr&&(Mr.y-=Nr),Mr.y<=Nr&&(Mr.y+=Nr),Mr.x-=Lr.offsetX,Mr.y-=Lr.offsetY,Mr}function Je(ar){return ar.flipX!==ar.flipY}function $e(ar,Sr,wr,or,kr){if(ar[Sr]!==0){var Or=ar._getTransformedDimensions()[or],Lr=kr/Or*ar[wr];ar.set(wr,Lr)}}function tr(ar,Sr,wr,or){var kr=Sr.target,Or=kr._getTransformedDimensions(0,kr.skewY),Lr=nr(Sr,Sr.originX,Sr.originY,wr,or),Dr=Math.abs(Lr.x*2)-Or.x,Nr=kr.skewX,Mr;Dr<2?Mr=0:(Mr=De(Math.atan2(Dr/kr.scaleX,Or.y/kr.scaleY)),Sr.originX===xe&&Sr.originY===Ie&&(Mr=-Mr),Sr.originX===Fe&&Sr.originY===Se&&(Mr=-Mr),Je(kr)&&(Mr=-Mr));var Gr=Nr!==Mr;if(Gr){var Yr=kr._getTransformedDimensions().y;kr.set("skewX",Mr),$e(kr,"skewY","scaleY","y",Yr)}return Gr}function ir(ar,Sr,wr,or){var kr=Sr.target,Or=kr._getTransformedDimensions(kr.skewX,0),Lr=nr(Sr,Sr.originX,Sr.originY,wr,or),Dr=Math.abs(Lr.y*2)-Or.y,Nr=kr.skewY,Mr;Dr<2?Mr=0:(Mr=De(Math.atan2(Dr/kr.scaleY,Or.x/kr.scaleX)),Sr.originX===xe&&Sr.originY===Ie&&(Mr=-Mr),Sr.originX===Fe&&Sr.originY===Se&&(Mr=-Mr),Je(kr)&&(Mr=-Mr));var Gr=Nr!==Mr;if(Gr){var Yr=kr._getTransformedDimensions().x;kr.set("skewY",Mr),$e(kr,"skewX","scaleX","x",Yr)}return Gr}function Xe(ar,Sr,wr,or){var kr=Sr.target,Or=kr.skewX,Lr,Dr=Sr.originY;if(kr.lockSkewingX)return!1;if(Or===0){var Nr=nr(Sr,Me,Me,wr,or);Nr.x>0?Lr=xe:Lr=Fe}else Or>0&&(Lr=Dr===Se?xe:Fe),Or<0&&(Lr=Dr===Se?Fe:xe),Je(kr)&&(Lr=Lr===xe?Fe:xe);Sr.originX=Lr;var Mr=sr("skewing",br(tr));return Mr(ar,Sr,wr,or)}function cr(ar,Sr,wr,or){var kr=Sr.target,Or=kr.skewY,Lr,Dr=Sr.originX;if(kr.lockSkewingY)return!1;if(Or===0){var Nr=nr(Sr,Me,Me,wr,or);Nr.y>0?Lr=Se:Lr=Ie}else Or>0&&(Lr=Dr===xe?Se:Ie),Or<0&&(Lr=Dr===xe?Ie:Se),Je(kr)&&(Lr=Lr===Se?Ie:Se);Sr.originY=Lr;var Mr=sr("skewing",br(ir));return Mr(ar,Sr,wr,or)}function Qe(ar,Sr,wr,or){var kr=Sr,Or=kr.target,Lr=Or.translateToOriginPoint(Or.getCenterPoint(),kr.originX,kr.originY);if(Or.lockRotation)return!1;var Dr=Math.atan2(kr.ey-Lr.y,kr.ex-Lr.x),Nr=Math.atan2(or-Lr.y,wr-Lr.x),Mr=De(Nr-Dr+kr.theta),Gr=!0;if(Or.snapAngle>0){var Yr=Or.snapAngle,$r=Or.snapThreshold||Yr,ti=Math.ceil(Mr/Yr)*Yr,ri=Math.floor(Mr/Yr)*Yr;Math.abs(Mr-ri)<$r?Mr=ri:Math.abs(Mr-ti)<$r&&(Mr=ti)}return Mr<0&&(Mr=360+Mr),Mr%=360,Gr=Or.angle!==Mr,Or.angle=Mr,Gr}function Ke(ar,Sr,wr,or,kr){kr=kr||{};var Or=Sr.target,Lr=Or.lockScalingX,Dr=Or.lockScalingY,Nr=kr.by,Mr,Gr,Yr,$r,ti=Ge(ar,Or),ri=Ue(Or,Nr,ti),oi,ni,fi=Sr.gestureScale;if(ri)return!1;if(fi)Gr=Sr.scaleX*fi,Yr=Sr.scaleY*fi;else{if(Mr=nr(Sr,Sr.originX,Sr.originY,wr,or),oi=Nr!=="y"?Be(Mr.x):1,ni=Nr!=="x"?Be(Mr.y):1,Sr.signX||(Sr.signX=oi),Sr.signY||(Sr.signY=ni),Or.lockScalingFlip&&(Sr.signX!==oi||Sr.signY!==ni))return!1;if($r=Or._getTransformedDimensions(),ti&&!Nr){var si=Math.abs(Mr.x)+Math.abs(Mr.y),Ti=Sr.original,wi=Math.abs($r.x*Ti.scaleX/Or.scaleX)+Math.abs($r.y*Ti.scaleY/Or.scaleY),Qi=si/wi;Gr=Ti.scaleX*Qi,Yr=Ti.scaleY*Qi}else Gr=Math.abs(Mr.x*Or.scaleX/$r.x),Yr=Math.abs(Mr.y*Or.scaleY/$r.y);We(Sr)&&(Gr*=2,Yr*=2),Sr.signX!==oi&&Nr!=="y"&&(Sr.originX=Oe[Sr.originX],Gr*=-1,Sr.signX=oi),Sr.signY!==ni&&Nr!=="x"&&(Sr.originY=Oe[Sr.originY],Yr*=-1,Sr.signY=ni)}var yi=Or.scaleX,xi=Or.scaleY;return Nr?(Nr==="x"&&Or.set("scaleX",Gr),Nr==="y"&&Or.set("scaleY",Yr)):(!Lr&&Or.set("scaleX",Gr),!Dr&&Or.set("scaleY",Yr)),yi!==Or.scaleX||xi!==Or.scaleY}function lr(ar,Sr,wr,or){return Ke(ar,Sr,wr,or)}function mr(ar,Sr,wr,or){return Ke(ar,Sr,wr,or,{by:"x"})}function Ar(ar,Sr,wr,or){return Ke(ar,Sr,wr,or,{by:"y"})}function Pr(ar,Sr,wr,or){return ar[Sr.target.canvas.altActionKey]?Ae.skewHandlerX(ar,Sr,wr,or):Ae.scalingY(ar,Sr,wr,or)}function Rr(ar,Sr,wr,or){return ar[Sr.target.canvas.altActionKey]?Ae.skewHandlerY(ar,Sr,wr,or):Ae.scalingX(ar,Sr,wr,or)}function Ir(ar,Sr,wr,or){var kr=Sr.target,Or=nr(Sr,Sr.originX,Sr.originY,wr,or),Lr=kr.strokeWidth/(kr.strokeUniform?kr.scaleX:1),Dr=We(Sr)?2:1,Nr=kr.width,Mr=Math.abs(Or.x*Dr/kr.scaleX)-Lr;return kr.set("width",Math.max(Mr,0)),Nr!==Mr}function ur(ar,Sr,wr,or){var kr=Sr.target,Or=wr-Sr.offsetX,Lr=or-Sr.offsetY,Dr=!kr.get("lockMovementX")&&kr.left!==Or,Nr=!kr.get("lockMovementY")&&kr.top!==Lr;return Dr&&kr.set("left",Or),Nr&&kr.set("top",Lr),(Dr||Nr)&&ze("moving",gr(ar,Sr,wr,or)),Dr||Nr}Ae.scaleCursorStyleHandler=hr,Ae.skewCursorStyleHandler=xr,Ae.scaleSkewCursorStyleHandler=rr,Ae.rotationWithSnapping=sr("rotating",br(Qe)),Ae.scalingEqually=sr("scaling",br(lr)),Ae.scalingX=sr("scaling",br(mr)),Ae.scalingY=sr("scaling",br(Ar)),Ae.scalingYOrSkewingX=Pr,Ae.scalingXOrSkewingY=Rr,Ae.changeWidth=sr("resizing",br(Ir)),Ae.skewHandlerX=Xe,Ae.skewHandlerY=cr,Ae.dragHandler=ur,Ae.scaleOrSkewActionName=er,Ae.rotationStyleHandler=vr,Ae.fireEvent=ze,Ae.wrapWithFixedAnchor=br,Ae.wrapWithFireEvent=sr,Ae.getLocalPoint=nr,St.controlsUtils=Ae}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.degreesToRadians,ke=St.controlsUtils;function Ae(Se,Fe,Ie,Me,Oe){Me=Me||{};var De=this.sizeX||Me.cornerSize||Oe.cornerSize,Be=this.sizeY||Me.cornerSize||Oe.cornerSize,je=typeof Me.transparentCorners<"u"?Me.transparentCorners:Oe.transparentCorners,ze=je?"stroke":"fill",Ge=!je&&(Me.cornerStrokeColor||Oe.cornerStrokeColor),We=Fe,Ue=Ie,hr;Se.save(),Se.fillStyle=Me.cornerColor||Oe.cornerColor,Se.strokeStyle=Me.cornerStrokeColor||Oe.cornerStrokeColor,De>Be?(hr=De,Se.scale(1,Be/De),Ue=Ie*De/Be):Be>De?(hr=Be,Se.scale(De/Be,1),We=Fe*Be/De):hr=De,Se.lineWidth=1,Se.beginPath(),Se.arc(We,Ue,hr/2,0,2*Math.PI,!1),Se[ze](),Ge&&Se.stroke(),Se.restore()}function xe(Se,Fe,Ie,Me,Oe){Me=Me||{};var De=this.sizeX||Me.cornerSize||Oe.cornerSize,Be=this.sizeY||Me.cornerSize||Oe.cornerSize,je=typeof Me.transparentCorners<"u"?Me.transparentCorners:Oe.transparentCorners,ze=je?"stroke":"fill",Ge=!je&&(Me.cornerStrokeColor||Oe.cornerStrokeColor),We=De/2,Ue=Be/2;Se.save(),Se.fillStyle=Me.cornerColor||Oe.cornerColor,Se.strokeStyle=Me.cornerStrokeColor||Oe.cornerStrokeColor,Se.lineWidth=1,Se.translate(Fe,Ie),Se.rotate(Te(Oe.angle)),Se[ze+"Rect"](-We,-Ue,De,Be),Ge&&Se.strokeRect(-We,-Ue,De,Be),Se.restore()}ke.renderCircleControl=Ae,ke.renderSquareControl=xe}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={});function Te(ke){for(var Ae in ke)this[Ae]=ke[Ae]}St.Control=Te,St.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(ke,Ae){return Ae.cursorStyle},getActionName:function(ke,Ae){return Ae.actionName},getVisibility:function(ke,Ae){var xe=ke._controlsVisibility;return xe&&typeof xe[Ae]<"u"?xe[Ae]:this.visible},setVisibility:function(ke){this.visible=ke},positionHandler:function(ke,Ae){var xe=St.util.transformPoint({x:this.x*ke.x+this.offsetX,y:this.y*ke.y+this.offsetY},Ae);return xe},calcCornerCoords:function(ke,Ae,xe,Se,Fe){var Ie,Me,Oe,De,Be=Fe?this.touchSizeX:this.sizeX,je=Fe?this.touchSizeY:this.sizeY;if(Be&&je&&Be!==je){var ze=Math.atan2(je,Be),Ge=Math.sqrt(Be*Be+je*je)/2,We=ze-St.util.degreesToRadians(ke),Ue=Math.PI/2-ze-St.util.degreesToRadians(ke);Ie=Ge*St.util.cos(We),Me=Ge*St.util.sin(We),Oe=Ge*St.util.cos(Ue),De=Ge*St.util.sin(Ue)}else{var hr=Be&&je?Be:Ae;Ge=hr*.7071067812;var We=St.util.degreesToRadians(45-ke);Ie=Oe=Ge*St.util.cos(We),Me=De=Ge*St.util.sin(We)}return{tl:{x:xe-De,y:Se-Oe},tr:{x:xe+Ie,y:Se-Me},bl:{x:xe-Ie,y:Se+Me},br:{x:xe+De,y:Se+Oe}}},render:function(ke,Ae,xe,Se,Fe){switch(Se=Se||{},Se.cornerStyle||Fe.cornerStyle){case"circle":St.controlsUtils.renderCircleControl.call(this,ke,Ae,xe,Se,Fe);break;default:St.controlsUtils.renderSquareControl.call(this,ke,Ae,xe,Se,Fe)}}}}(t),function(){function Pe(xe,Se){var Fe=xe.getAttribute("style"),Ie=xe.getAttribute("offset")||0,Me,Oe,De,Be;if(Ie=parseFloat(Ie)/(/%$/.test(Ie)?100:1),Ie=Ie<0?0:Ie>1?1:Ie,Fe){var je=Fe.split(/\s*;\s*/);for(je[je.length-1]===""&&je.pop(),Be=je.length;Be--;){var ze=je[Be].split(/\s*:\s*/),Ge=ze[0].trim(),We=ze[1].trim();Ge==="stop-color"?Me=We:Ge==="stop-opacity"&&(De=We)}}return Me||(Me=xe.getAttribute("stop-color")||"rgb(0,0,0)"),De||(De=xe.getAttribute("stop-opacity")),Me=new e.Color(Me),Oe=Me.getAlpha(),De=isNaN(parseFloat(De))?1:parseFloat(De),De*=Oe*Se,{offset:Ie,color:Me.toRgb(),opacity:De}}function St(xe){return{x1:xe.getAttribute("x1")||0,y1:xe.getAttribute("y1")||0,x2:xe.getAttribute("x2")||"100%",y2:xe.getAttribute("y2")||0}}function Te(xe){return{x1:xe.getAttribute("fx")||xe.getAttribute("cx")||"50%",y1:xe.getAttribute("fy")||xe.getAttribute("cy")||"50%",r1:0,x2:xe.getAttribute("cx")||"50%",y2:xe.getAttribute("cy")||"50%",r2:xe.getAttribute("r")||"50%"}}var ke=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(xe){xe||(xe={}),xe.coords||(xe.coords={});var Se,Fe=this;Object.keys(xe).forEach(function(Ie){Fe[Ie]=xe[Ie]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,Se={x1:xe.coords.x1||0,y1:xe.coords.y1||0,x2:xe.coords.x2||0,y2:xe.coords.y2||0},this.type==="radial"&&(Se.r1=xe.coords.r1||0,Se.r2=xe.coords.r2||0),this.coords=Se,this.colorStops=xe.colorStops.slice()},addColorStop:function(xe){for(var Se in xe){var Fe=new e.Color(xe[Se]);this.colorStops.push({offset:parseFloat(Se),color:Fe.toRgb(),opacity:Fe.getAlpha()})}return this},toObject:function(xe){var Se={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,Se,xe),Se},toSVG:function(xe,Oe){var Fe=ke(this.coords,!0),Ie,Me,Oe=Oe||{},De,Be,je=ke(this.colorStops,!0),ze=Fe.r1>Fe.r2,Ge=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),We=-this.offsetX,Ue=-this.offsetY,hr=!!Oe.additionalTransform,xr=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(je.sort(function(br,sr){return br.offset-sr.offset}),xr==="objectBoundingBox"?(We/=xe.width,Ue/=xe.height):(We+=xe.width/2,Ue+=xe.height/2),xe.type==="path"&&this.gradientUnits!=="percentage"&&(We-=xe.pathOffset.x,Ue-=xe.pathOffset.y),Ge[4]-=We,Ge[5]-=Ue,Be='id="SVGID_'+this.id+'" gradientUnits="'+xr+'"',Be+=' gradientTransform="'+(hr?Oe.additionalTransform+" ":"")+e.util.matrixToSVG(Ge)+'" ',this.type==="linear"?De=["<linearGradient ",Be,' x1="',Fe.x1,'" y1="',Fe.y1,'" x2="',Fe.x2,'" y2="',Fe.y2,`">
`]:this.type==="radial"&&(De=["<radialGradient ",Be,' cx="',ze?Fe.x1:Fe.x2,'" cy="',ze?Fe.y1:Fe.y2,'" r="',ze?Fe.r1:Fe.r2,'" fx="',ze?Fe.x2:Fe.x1,'" fy="',ze?Fe.y2:Fe.y1,`">
`]),this.type==="radial"){if(ze)for(je=je.concat(),je.reverse(),Ie=0,Me=je.length;Ie<Me;Ie++)je[Ie].offset=1-je[Ie].offset;var rr=Math.min(Fe.r1,Fe.r2);if(rr>0){var er=Math.max(Fe.r1,Fe.r2),vr=rr/er;for(Ie=0,Me=je.length;Ie<Me;Ie++)je[Ie].offset+=vr*(1-je[Ie].offset)}}for(Ie=0,Me=je.length;Ie<Me;Ie++){var gr=je[Ie];De.push("<stop ",'offset="',gr.offset*100+"%",'" style="stop-color:',gr.color,typeof gr.opacity<"u"?";stop-opacity: "+gr.opacity:";",`"/>
`)}return De.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),De.join("")},toLive:function(xe){var Se,Fe=e.util.object.clone(this.coords),Ie,Me;if(!!this.type){for(this.type==="linear"?Se=xe.createLinearGradient(Fe.x1,Fe.y1,Fe.x2,Fe.y2):this.type==="radial"&&(Se=xe.createRadialGradient(Fe.x1,Fe.y1,Fe.r1,Fe.x2,Fe.y2,Fe.r2)),Ie=0,Me=this.colorStops.length;Ie<Me;Ie++){var Oe=this.colorStops[Ie].color,De=this.colorStops[Ie].opacity,Be=this.colorStops[Ie].offset;typeof De<"u"&&(Oe=new e.Color(Oe).setAlpha(De).toRgba()),Se.addColorStop(Be,Oe)}return Se}}}),e.util.object.extend(e.Gradient,{fromElement:function(xe,Se,Fe,Ie){var Me=parseFloat(Fe)/(/%$/.test(Fe)?100:1);Me=Me<0?0:Me>1?1:Me,isNaN(Me)&&(Me=1);var Oe=xe.getElementsByTagName("stop"),De,Be=xe.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",je=xe.getAttribute("gradientTransform")||"",ze=[],Ge,We,Ue=0,hr=0,xr;for(xe.nodeName==="linearGradient"||xe.nodeName==="LINEARGRADIENT"?(De="linear",Ge=St(xe)):(De="radial",Ge=Te(xe)),We=Oe.length;We--;)ze.push(Pe(Oe[We],Me));xr=e.parseTransformAttribute(je),Ae(Se,Ge,Ie,Be),Be==="pixels"&&(Ue=-Se.left,hr=-Se.top);var rr=new e.Gradient({id:xe.getAttribute("id"),type:De,coords:Ge,colorStops:ze,gradientUnits:Be,gradientTransform:xr,offsetX:Ue,offsetY:hr});return rr}});function Ae(xe,Se,Fe,Ie){var Me,Oe;Object.keys(Se).forEach(function(De){Me=Se[De],Me==="Infinity"?Oe=1:Me==="-Infinity"?Oe=0:(Oe=parseFloat(Se[De],10),typeof Me=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(Me)&&(Oe*=.01,Ie==="pixels"&&((De==="x1"||De==="x2"||De==="r2")&&(Oe*=Fe.viewBoxWidth||Fe.width),(De==="y1"||De==="y2")&&(Oe*=Fe.viewBoxHeight||Fe.height)))),Se[De]=Oe})}}(),function(){var Pe=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(St,Te){if(St||(St={}),this.id=e.Object.__uid++,this.setOptions(St),!St.source||St.source&&typeof St.source!="string"){Te&&Te(this);return}else{var ke=this;this.source=e.util.createImage(),e.util.loadImage(St.source,function(Ae,xe){ke.source=Ae,Te&&Te(ke,xe)},null,this.crossOrigin)}},toObject:function(St){var Te=e.Object.NUM_FRACTION_DIGITS,ke,Ae;return typeof this.source.src=="string"?ke=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(ke=this.source.toDataURL()),Ae={type:"pattern",source:ke,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:Pe(this.offsetX,Te),offsetY:Pe(this.offsetY,Te),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,Ae,St),Ae},toSVG:function(St){var Te=typeof this.source=="function"?this.source():this.source,ke=Te.width/St.width,Ae=Te.height/St.height,xe=this.offsetX/St.width,Se=this.offsetY/St.height,Fe="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(Ae=1,Se&&(Ae+=Math.abs(Se))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(ke=1,xe&&(ke+=Math.abs(xe))),Te.src?Fe=Te.src:Te.toDataURL&&(Fe=Te.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+xe+'" y="'+Se+'" width="'+ke+'" height="'+Ae+`">
<image x="0" y="0" width="`+Te.width+'" height="'+Te.height+'" xlink:href="'+Fe+`"></image>
</pattern>
`},setOptions:function(St){for(var Te in St)this[Te]=St[Te]},toLive:function(St){var Te=this.source;return!Te||typeof Te.src<"u"&&(!Te.complete||Te.naturalWidth===0||Te.naturalHeight===0)?"":St.createPattern(Te,this.repeat)}})}(),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.toFixed;if(St.Shadow){St.warn("fabric.Shadow is already defined.");return}St.Shadow=St.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(ke){typeof ke=="string"&&(ke=this._parseShadow(ke));for(var Ae in ke)this[Ae]=ke[Ae];this.id=St.Object.__uid++},_parseShadow:function(ke){var Ae=ke.trim(),xe=St.Shadow.reOffsetsAndBlur.exec(Ae)||[],Se=Ae.replace(St.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:Se.trim(),offsetX:parseFloat(xe[1],10)||0,offsetY:parseFloat(xe[2],10)||0,blur:parseFloat(xe[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(ke){var Ae=40,xe=40,Se=St.Object.NUM_FRACTION_DIGITS,Fe=St.util.rotateVector({x:this.offsetX,y:this.offsetY},St.util.degreesToRadians(-ke.angle)),Ie=20,Me=new St.Color(this.color);return ke.width&&ke.height&&(Ae=Te((Math.abs(Fe.x)+this.blur)/ke.width,Se)*100+Ie,xe=Te((Math.abs(Fe.y)+this.blur)/ke.height,Se)*100+Ie),ke.flipX&&(Fe.x*=-1),ke.flipY&&(Fe.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+xe+'%" height="'+(100+2*xe)+'%" x="-'+Ae+'%" width="'+(100+2*Ae)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+Te(this.blur?this.blur/2:0,Se)+`"></feGaussianBlur>
	<feOffset dx="`+Te(Fe.x,Se)+'" dy="'+Te(Fe.y,Se)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+Me.toRgb()+'" flood-opacity="'+Me.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var ke={},Ae=St.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(xe){this[xe]!==Ae[xe]&&(ke[xe]=this[xe])},this),ke}}),St.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(t),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var Pe=e.util.object.extend,St=e.util.getElementOffset,Te=e.util.removeFromArray,ke=e.util.toFixed,Ae=e.util.transformPoint,xe=e.util.invertTransform,Se=e.util.getNodeCanvas,Fe=e.util.createCanvasElement,Ie=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(Me,Oe){Oe||(Oe={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(Me,Oe)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(Me,Oe){var De=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(Me),this._initOptions(Oe),this.interactive||this._initRetinaScaling(),Oe.overlayImage&&this.setOverlayImage(Oe.overlayImage,De),Oe.backgroundImage&&this.setBackgroundImage(Oe.backgroundImage,De),Oe.backgroundColor&&this.setBackgroundColor(Oe.backgroundColor,De),Oe.overlayColor&&this.setOverlayColor(Oe.overlayColor,De),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var Me=e.devicePixelRatio;this.__initRetinaScaling(Me,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(Me,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(Me,Oe,De){Oe.setAttribute("width",this.width*Me),Oe.setAttribute("height",this.height*Me),De.scale(Me,Me)},calcOffset:function(){return this._offset=St(this.lowerCanvasEl),this},setOverlayImage:function(Me,Oe,De){return this.__setBgOverlayImage("overlayImage",Me,Oe,De)},setBackgroundImage:function(Me,Oe,De){return this.__setBgOverlayImage("backgroundImage",Me,Oe,De)},setOverlayColor:function(Me,Oe){return this.__setBgOverlayColor("overlayColor",Me,Oe)},setBackgroundColor:function(Me,Oe){return this.__setBgOverlayColor("backgroundColor",Me,Oe)},__setBgOverlayImage:function(Me,Oe,De,Be){return typeof Oe=="string"?e.util.loadImage(Oe,function(je,ze){if(je){var Ge=new e.Image(je,Be);this[Me]=Ge,Ge.canvas=this}De&&De(je,ze)},this,Be&&Be.crossOrigin):(Be&&Oe.setOptions(Be),this[Me]=Oe,Oe&&(Oe.canvas=this),De&&De(Oe,!1)),this},__setBgOverlayColor:function(Me,Oe,De){return this[Me]=Oe,this._initGradient(Oe,Me),this._initPattern(Oe,Me,De),this},_createCanvasElement:function(){var Me=Fe();if(!Me||(Me.style||(Me.style={}),typeof Me.getContext>"u"))throw Ie;return Me},_initOptions:function(Me){var Oe=this.lowerCanvasEl;this._setOptions(Me),this.width=this.width||parseInt(Oe.width,10)||0,this.height=this.height||parseInt(Oe.height,10)||0,this.lowerCanvasEl.style&&(Oe.width=this.width,Oe.height=this.height,Oe.style.width=this.width+"px",Oe.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(Me){Me&&Me.getContext?this.lowerCanvasEl=Me:this.lowerCanvasEl=e.util.getById(Me)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(Me,Oe){return this.setDimensions({width:Me},Oe)},setHeight:function(Me,Oe){return this.setDimensions({height:Me},Oe)},setDimensions:function(Me,Oe){var De;Oe=Oe||{};for(var Be in Me)De=Me[Be],Oe.cssOnly||(this._setBackstoreDimension(Be,Me[Be]),De+="px",this.hasLostContext=!0),Oe.backstoreOnly||this._setCssDimension(Be,De);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),Oe.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(Me,Oe){return this.lowerCanvasEl[Me]=Oe,this.upperCanvasEl&&(this.upperCanvasEl[Me]=Oe),this.cacheCanvasEl&&(this.cacheCanvasEl[Me]=Oe),this[Me]=Oe,this},_setCssDimension:function(Me,Oe){return this.lowerCanvasEl.style[Me]=Oe,this.upperCanvasEl&&(this.upperCanvasEl.style[Me]=Oe),this.wrapperEl&&(this.wrapperEl.style[Me]=Oe),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(Me){var Oe=this._activeObject,De=this.backgroundImage,Be=this.overlayImage,je,ze,Ge;for(this.viewportTransform=Me,ze=0,Ge=this._objects.length;ze<Ge;ze++)je=this._objects[ze],je.group||je.setCoords(!0);return Oe&&Oe.setCoords(),De&&De.setCoords(!0),Be&&Be.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(Me,Oe){var De=Me,Be=this.viewportTransform.slice(0);Me=Ae(Me,xe(this.viewportTransform)),Be[0]=Oe,Be[3]=Oe;var je=Ae(Me,Be);return Be[4]+=De.x-je.x,Be[5]+=De.y-je.y,this.setViewportTransform(Be)},setZoom:function(Me){return this.zoomToPoint(new e.Point(0,0),Me),this},absolutePan:function(Me){var Oe=this.viewportTransform.slice(0);return Oe[4]=-Me.x,Oe[5]=-Me.y,this.setViewportTransform(Oe)},relativePan:function(Me){return this.absolutePan(new e.Point(-Me.x-this.viewportTransform[4],-Me.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(Me){this.stateful&&Me.setupState(),Me._set("canvas",this),Me.setCoords(),this.fire("object:added",{target:Me}),Me.fire("added")},_onObjectRemoved:function(Me){this.fire("object:removed",{target:Me}),Me.fire("removed"),delete Me.canvas},clearContext:function(Me){return Me.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var Me=this.contextContainer;return this.renderCanvas(Me,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var Me={},Oe=this.width,De=this.height,Be=xe(this.viewportTransform);return Me.tl=Ae({x:0,y:0},Be),Me.br=Ae({x:Oe,y:De},Be),Me.tr=new e.Point(Me.br.x,Me.tl.y),Me.bl=new e.Point(Me.tl.x,Me.br.y),this.vptCoords=Me,Me},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(Me,Oe){var De=this.viewportTransform,Be=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(Me),e.util.setImageSmoothing(Me,this.imageSmoothingEnabled),this.fire("before:render",{ctx:Me}),this._renderBackground(Me),Me.save(),Me.transform(De[0],De[1],De[2],De[3],De[4],De[5]),this._renderObjects(Me,Oe),Me.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(Me),Be&&(Be.canvas=this,Be.shouldCache(),Be._transformDone=!0,Be.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(Me)),this._renderOverlay(Me),this.controlsAboveOverlay&&this.interactive&&this.drawControls(Me),this.fire("after:render",{ctx:Me})},drawClipPathOnCanvas:function(Me){var Oe=this.viewportTransform,De=this.clipPath;Me.save(),Me.transform(Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5]),Me.globalCompositeOperation="destination-in",De.transform(Me),Me.scale(1/De.zoomX,1/De.zoomY),Me.drawImage(De._cacheCanvas,-De.cacheTranslationX,-De.cacheTranslationY),Me.restore()},_renderObjects:function(Me,Oe){var De,Be;for(De=0,Be=Oe.length;De<Be;++De)Oe[De]&&Oe[De].render(Me)},_renderBackgroundOrOverlay:function(Me,Oe){var De=this[Oe+"Color"],Be=this[Oe+"Image"],je=this.viewportTransform,ze=this[Oe+"Vpt"];if(!(!De&&!Be)){if(De){Me.save(),Me.beginPath(),Me.moveTo(0,0),Me.lineTo(this.width,0),Me.lineTo(this.width,this.height),Me.lineTo(0,this.height),Me.closePath(),Me.fillStyle=De.toLive?De.toLive(Me,this):De,ze&&Me.transform(je[0],je[1],je[2],je[3],je[4],je[5]),Me.transform(1,0,0,1,De.offsetX||0,De.offsetY||0);var Ge=De.gradientTransform||De.patternTransform;Ge&&Me.transform(Ge[0],Ge[1],Ge[2],Ge[3],Ge[4],Ge[5]),Me.fill(),Me.restore()}Be&&(Me.save(),ze&&Me.transform(je[0],je[1],je[2],je[3],je[4],je[5]),Be.render(Me),Me.restore())}},_renderBackground:function(Me){this._renderBackgroundOrOverlay(Me,"background")},_renderOverlay:function(Me){this._renderBackgroundOrOverlay(Me,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(Me){return this._centerObject(Me,new e.Point(this.getCenterPoint().x,Me.getCenterPoint().y))},centerObjectV:function(Me){return this._centerObject(Me,new e.Point(Me.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(Me){var Oe=this.getCenterPoint();return this._centerObject(Me,Oe)},viewportCenterObject:function(Me){var Oe=this.getVpCenter();return this._centerObject(Me,Oe)},viewportCenterObjectH:function(Me){var Oe=this.getVpCenter();return this._centerObject(Me,new e.Point(Oe.x,Me.getCenterPoint().y)),this},viewportCenterObjectV:function(Me){var Oe=this.getVpCenter();return this._centerObject(Me,new e.Point(Me.getCenterPoint().x,Oe.y))},getVpCenter:function(){var Me=this.getCenterPoint(),Oe=xe(this.viewportTransform);return Ae(Me,Oe)},_centerObject:function(Me,Oe){return Me.setPositionByOrigin(Oe,"center","center"),Me.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(Me){return this.toDatalessObject(Me)},toObject:function(Me){return this._toObjectMethod("toObject",Me)},toDatalessObject:function(Me){return this._toObjectMethod("toDatalessObject",Me)},_toObjectMethod:function(Me,Oe){var De=this.clipPath,Be={version:e.version,objects:this._toObjects(Me,Oe)};return De&&!De.excludeFromExport&&(Be.clipPath=this._toObject(this.clipPath,Me,Oe)),Pe(Be,this.__serializeBgOverlay(Me,Oe)),e.util.populateWithProperties(this,Be,Oe),Be},_toObjects:function(Me,Oe){return this._objects.filter(function(De){return!De.excludeFromExport}).map(function(De){return this._toObject(De,Me,Oe)},this)},_toObject:function(Me,Oe,De){var Be;this.includeDefaultValues||(Be=Me.includeDefaultValues,Me.includeDefaultValues=!1);var je=Me[Oe](De);return this.includeDefaultValues||(Me.includeDefaultValues=Be),je},__serializeBgOverlay:function(Me,Oe){var De={},Be=this.backgroundImage,je=this.overlayImage,ze=this.backgroundColor,Ge=this.overlayColor;return ze&&ze.toObject?ze.excludeFromExport||(De.background=ze.toObject(Oe)):ze&&(De.background=ze),Ge&&Ge.toObject?Ge.excludeFromExport||(De.overlay=Ge.toObject(Oe)):Ge&&(De.overlay=Ge),Be&&!Be.excludeFromExport&&(De.backgroundImage=this._toObject(Be,Me,Oe)),je&&!je.excludeFromExport&&(De.overlayImage=this._toObject(je,Me,Oe)),De},svgViewportTransformation:!0,toSVG:function(Me,Oe){Me||(Me={}),Me.reviver=Oe;var De=[];return this._setSVGPreamble(De,Me),this._setSVGHeader(De,Me),this.clipPath&&De.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(De,"background"),this._setSVGBgOverlayImage(De,"backgroundImage",Oe),this._setSVGObjects(De,Oe),this.clipPath&&De.push(`</g>
`),this._setSVGBgOverlayColor(De,"overlay"),this._setSVGBgOverlayImage(De,"overlayImage",Oe),De.push("</svg>"),De.join("")},_setSVGPreamble:function(Me,Oe){Oe.suppressPreamble||Me.push('<?xml version="1.0" encoding="',Oe.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(Me,Oe){var De=Oe.width||this.width,Be=Oe.height||this.height,je,ze='viewBox="0 0 '+this.width+" "+this.height+'" ',Ge=e.Object.NUM_FRACTION_DIGITS;Oe.viewBox?ze='viewBox="'+Oe.viewBox.x+" "+Oe.viewBox.y+" "+Oe.viewBox.width+" "+Oe.viewBox.height+'" ':this.svgViewportTransformation&&(je=this.viewportTransform,ze='viewBox="'+ke(-je[4]/je[0],Ge)+" "+ke(-je[5]/je[3],Ge)+" "+ke(this.width/je[0],Ge)+" "+ke(this.height/je[3],Ge)+'" '),Me.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',De,'" ','height="',Be,'" ',ze,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(Oe),`</defs>
`)},createSVGClipPathMarkup:function(Me){var Oe=this.clipPath;return Oe?(Oe.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+Oe.clipPathId+`" >
`+this.clipPath.toClipPathSVG(Me.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var Me=this,Oe=["background","overlay"].map(function(De){var Be=Me[De+"Color"];if(Be&&Be.toLive){var je=Me[De+"Vpt"],ze=Me.viewportTransform,Ge={width:Me.width/(je?ze[0]:1),height:Me.height/(je?ze[3]:1)};return Be.toSVG(Ge,{additionalTransform:je?e.util.matrixToSVG(ze):""})}});return Oe.join("")},createSVGFontFacesMarkup:function(){var Me="",Oe={},De,Be,je,ze,Ge,We,Ue,hr,xr,rr=e.fontPaths,er=[];for(this._objects.forEach(function gr(br){er.push(br),br._objects&&br._objects.forEach(gr)}),hr=0,xr=er.length;hr<xr;hr++)if(De=er[hr],Be=De.fontFamily,!(De.type.indexOf("text")===-1||Oe[Be]||!rr[Be])&&(Oe[Be]=!0,!!De.styles)){je=De.styles;for(Ge in je){ze=je[Ge];for(Ue in ze)We=ze[Ue],Be=We.fontFamily,!Oe[Be]&&rr[Be]&&(Oe[Be]=!0)}}for(var vr in Oe)Me+=[`		@font-face {
`,"			font-family: '",vr,`';
`,"			src: url('",rr[vr],`');
`,`		}
`].join("");return Me&&(Me=['	<style type="text/css">',`<![CDATA[
`,Me,"]]>",`</style>
`].join("")),Me},_setSVGObjects:function(Me,Oe){var De,Be,je,ze=this._objects;for(Be=0,je=ze.length;Be<je;Be++)De=ze[Be],!De.excludeFromExport&&this._setSVGObject(Me,De,Oe)},_setSVGObject:function(Me,Oe,De){Me.push(Oe.toSVG(De))},_setSVGBgOverlayImage:function(Me,Oe,De){this[Oe]&&!this[Oe].excludeFromExport&&this[Oe].toSVG&&Me.push(this[Oe].toSVG(De))},_setSVGBgOverlayColor:function(Me,Oe){var De=this[Oe+"Color"],Be=this.viewportTransform,je=this.width,ze=this.height;if(!!De)if(De.toLive){var Ge=De.repeat,We=e.util.invertTransform(Be),Ue=this[Oe+"Vpt"],hr=Ue?e.util.matrixToSVG(We):"";Me.push('<rect transform="'+hr+" translate(",je/2,",",ze/2,')"',' x="',De.offsetX-je/2,'" y="',De.offsetY-ze/2,'" ','width="',Ge==="repeat-y"||Ge==="no-repeat"?De.source.width:je,'" height="',Ge==="repeat-x"||Ge==="no-repeat"?De.source.height:ze,'" fill="url(#SVGID_'+De.id+')"',`></rect>
`)}else Me.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',De,'"',`></rect>
`)},sendToBack:function(Me){if(!Me)return this;var Oe=this._activeObject,De,Be,je;if(Me===Oe&&Me.type==="activeSelection")for(je=Oe._objects,De=je.length;De--;)Be=je[De],Te(this._objects,Be),this._objects.unshift(Be);else Te(this._objects,Me),this._objects.unshift(Me);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(Me){if(!Me)return this;var Oe=this._activeObject,De,Be,je;if(Me===Oe&&Me.type==="activeSelection")for(je=Oe._objects,De=0;De<je.length;De++)Be=je[De],Te(this._objects,Be),this._objects.push(Be);else Te(this._objects,Me),this._objects.push(Me);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(Me,Oe){if(!Me)return this;var De=this._activeObject,Be,je,ze,Ge,We,Ue=0;if(Me===De&&Me.type==="activeSelection")for(We=De._objects,Be=0;Be<We.length;Be++)je=We[Be],ze=this._objects.indexOf(je),ze>0+Ue&&(Ge=ze-1,Te(this._objects,je),this._objects.splice(Ge,0,je)),Ue++;else ze=this._objects.indexOf(Me),ze!==0&&(Ge=this._findNewLowerIndex(Me,ze,Oe),Te(this._objects,Me),this._objects.splice(Ge,0,Me));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(Me,Oe,De){var Be,je;if(De)for(Be=Oe,je=Oe-1;je>=0;--je){var ze=Me.intersectsWithObject(this._objects[je])||Me.isContainedWithinObject(this._objects[je])||this._objects[je].isContainedWithinObject(Me);if(ze){Be=je;break}}else Be=Oe-1;return Be},bringForward:function(Me,Oe){if(!Me)return this;var De=this._activeObject,Be,je,ze,Ge,We,Ue=0;if(Me===De&&Me.type==="activeSelection")for(We=De._objects,Be=We.length;Be--;)je=We[Be],ze=this._objects.indexOf(je),ze<this._objects.length-1-Ue&&(Ge=ze+1,Te(this._objects,je),this._objects.splice(Ge,0,je)),Ue++;else ze=this._objects.indexOf(Me),ze!==this._objects.length-1&&(Ge=this._findNewUpperIndex(Me,ze,Oe),Te(this._objects,Me),this._objects.splice(Ge,0,Me));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(Me,Oe,De){var Be,je,ze;if(De)for(Be=Oe,je=Oe+1,ze=this._objects.length;je<ze;++je){var Ge=Me.intersectsWithObject(this._objects[je])||Me.isContainedWithinObject(this._objects[je])||this._objects[je].isContainedWithinObject(Me);if(Ge){Be=je;break}}else Be=Oe+1;return Be},moveTo:function(Me,Oe){return Te(this._objects,Me),this._objects.splice(Oe,0,Me),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(Me){Me.dispose&&Me.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),Pe(e.StaticCanvas.prototype,e.Observable),Pe(e.StaticCanvas.prototype,e.Collection),Pe(e.StaticCanvas.prototype,e.DataURLExporter),Pe(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(Me){var Oe=Fe();if(!Oe||!Oe.getContext)return null;var De=Oe.getContext("2d");if(!De)return null;switch(Me){case"setLineDash":return typeof De.setLineDash<"u";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var Me=Se(this.lowerCanvasEl);return Me&&Me.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(Me){var Oe=Se(this.lowerCanvasEl);return Oe&&Oe.createJPEGStream(Me)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(Pe){Pe.strokeStyle=this.color,Pe.lineWidth=this.width,Pe.lineCap=this.strokeLineCap,Pe.miterLimit=this.strokeMiterLimit,Pe.lineJoin=this.strokeLineJoin,Pe.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(Pe){var St=this.canvas.viewportTransform;Pe.save(),Pe.transform(St[0],St[1],St[2],St[3],St[4],St[5])},_setShadow:function(){if(!!this.shadow){var Pe=this.canvas,St=this.shadow,Te=Pe.contextTop,ke=Pe.getZoom();Pe&&Pe._isRetinaScaling()&&(ke*=e.devicePixelRatio),Te.shadowColor=St.color,Te.shadowBlur=St.blur*ke,Te.shadowOffsetX=St.offsetX*ke,Te.shadowOffsetY=St.offsetY*ke}},needsFullRender:function(){var Pe=new e.Color(this.color);return Pe.getAlpha()<1||!!this.shadow},_resetShadow:function(){var Pe=this.canvas.contextTop;Pe.shadowColor="",Pe.shadowBlur=Pe.shadowOffsetX=Pe.shadowOffsetY=0},_isOutSideCanvas:function(Pe){return Pe.x<0||Pe.x>this.canvas.getWidth()||Pe.y<0||Pe.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(Pe){this.canvas=Pe,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(Pe,St,Te){var ke=St.midPointFrom(Te);return Pe.quadraticCurveTo(St.x,St.y,ke.x,ke.y),ke},onMouseDown:function(Pe,St){!this.canvas._isMainEvent(St.e)||(this.drawStraightLine=St.e[this.straightLineKey],this._prepareForDrawing(Pe),this._captureDrawingPath(Pe),this._render())},onMouseMove:function(Pe,St){if(!!this.canvas._isMainEvent(St.e)&&(this.drawStraightLine=St.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(Pe))&&this._captureDrawingPath(Pe)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var Te=this._points,ke=Te.length,Ae=this.canvas.contextTop;this._saveAndTransform(Ae),this.oldEnd&&(Ae.beginPath(),Ae.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(Ae,Te[ke-2],Te[ke-1],!0),Ae.stroke(),Ae.restore()}},onMouseUp:function(Pe){return this.canvas._isMainEvent(Pe.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(Pe){var St=new e.Point(Pe.x,Pe.y);this._reset(),this._addPoint(St),this.canvas.contextTop.moveTo(St.x,St.y)},_addPoint:function(Pe){return this._points.length>1&&Pe.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(Pe),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(Pe){var St=new e.Point(Pe.x,Pe.y);return this._addPoint(St)},_render:function(Pe){var St,Te,ke=this._points[0],Ae=this._points[1];if(Pe=Pe||this.canvas.contextTop,this._saveAndTransform(Pe),Pe.beginPath(),this._points.length===2&&ke.x===Ae.x&&ke.y===Ae.y){var xe=this.width/1e3;ke=new e.Point(ke.x,ke.y),Ae=new e.Point(Ae.x,Ae.y),ke.x-=xe,Ae.x+=xe}for(Pe.moveTo(ke.x,ke.y),St=1,Te=this._points.length;St<Te;St++)this._drawSegment(Pe,ke,Ae),ke=this._points[St],Ae=this._points[St+1];Pe.lineTo(ke.x,ke.y),Pe.stroke(),Pe.restore()},convertPointsToSVGPath:function(Pe){var St=this.width/1e3;return e.util.getSmoothPathFromPoints(Pe,St)},_isEmptySVGPath:function(Pe){var St=e.util.joinPath(Pe);return St==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(Pe){var St=new e.Path(Pe,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,St.shadow=new e.Shadow(this.shadow)),St},decimatePoints:function(Pe,St){if(Pe.length<=2)return Pe;var Te=this.canvas.getZoom(),ke=Math.pow(St/Te,2),Ae,xe=Pe.length-1,Se=Pe[0],Fe=[Se],Ie;for(Ae=1;Ae<xe-1;Ae++)Ie=Math.pow(Se.x-Pe[Ae].x,2)+Math.pow(Se.y-Pe[Ae].y,2),Ie>=ke&&(Se=Pe[Ae],Fe.push(Se));return Fe.push(Pe[xe]),Fe},_finalizeAndAddPath:function(){var Pe=this.canvas.contextTop;Pe.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var St=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(St)){this.canvas.requestRenderAll();return}var Te=this.createPath(St);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:Te}),this.canvas.add(Te),this.canvas.requestRenderAll(),Te.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:Te})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(Pe){this.canvas=Pe,this.points=[]},drawDot:function(Pe){var St=this.addPoint(Pe),Te=this.canvas.contextTop;this._saveAndTransform(Te),this.dot(Te,St),Te.restore()},dot:function(Pe,St){Pe.fillStyle=St.fill,Pe.beginPath(),Pe.arc(St.x,St.y,St.radius,0,Math.PI*2,!1),Pe.closePath(),Pe.fill()},onMouseDown:function(Pe){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(Pe)},_render:function(){var Pe=this.canvas.contextTop,St,Te,ke=this.points;for(this._saveAndTransform(Pe),St=0,Te=ke.length;St<Te;St++)this.dot(Pe,ke[St]);Pe.restore()},onMouseMove:function(Pe){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(Pe)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(Pe),this._render()):this.drawDot(Pe))},onMouseUp:function(){var Pe=this.canvas.renderOnAddRemove,St,Te;this.canvas.renderOnAddRemove=!1;var ke=[];for(St=0,Te=this.points.length;St<Te;St++){var Ae=this.points[St],xe=new e.Circle({radius:Ae.radius,left:Ae.x,top:Ae.y,originX:"center",originY:"center",fill:Ae.fill});this.shadow&&(xe.shadow=new e.Shadow(this.shadow)),ke.push(xe)}var Se=new e.Group(ke);Se.canvas=this.canvas,this.canvas.fire("before:path:created",{path:Se}),this.canvas.add(Se),this.canvas.fire("path:created",{path:Se}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=Pe,this.canvas.requestRenderAll()},addPoint:function(Pe){var St=new e.Point(Pe.x,Pe.y),Te=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,ke=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return St.radius=Te,St.fill=ke,this.points.push(St),St}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(Pe){this.canvas=Pe,this.sprayChunks=[]},onMouseDown:function(Pe){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(Pe),this.render(this.sprayChunkPoints)},onMouseMove:function(Pe){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(Pe)||(this.addSprayChunk(Pe),this.render(this.sprayChunkPoints))},onMouseUp:function(){var Pe=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var St=[],Te=0,ke=this.sprayChunks.length;Te<ke;Te++)for(var Ae=this.sprayChunks[Te],xe=0,Se=Ae.length;xe<Se;xe++){var Fe=new e.Rect({width:Ae[xe].width,height:Ae[xe].width,left:Ae[xe].x+1,top:Ae[xe].y+1,originX:"center",originY:"center",fill:this.color});St.push(Fe)}this.optimizeOverlapping&&(St=this._getOptimizedRects(St));var Ie=new e.Group(St);this.shadow&&Ie.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:Ie}),this.canvas.add(Ie),this.canvas.fire("path:created",{path:Ie}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=Pe,this.canvas.requestRenderAll()},_getOptimizedRects:function(Pe){var St={},Te,ke,Ae;for(ke=0,Ae=Pe.length;ke<Ae;ke++)Te=Pe[ke].left+""+Pe[ke].top,St[Te]||(St[Te]=Pe[ke]);var xe=[];for(Te in St)xe.push(St[Te]);return xe},render:function(Pe){var St=this.canvas.contextTop,Te,ke;for(St.fillStyle=this.color,this._saveAndTransform(St),Te=0,ke=Pe.length;Te<ke;Te++){var Ae=Pe[Te];typeof Ae.opacity<"u"&&(St.globalAlpha=Ae.opacity),St.fillRect(Ae.x,Ae.y,Ae.width,Ae.width)}St.restore()},_render:function(){var Pe=this.canvas.contextTop,St,Te;for(Pe.fillStyle=this.color,this._saveAndTransform(Pe),St=0,Te=this.sprayChunks.length;St<Te;St++)this.render(this.sprayChunks[St]);Pe.restore()},addSprayChunk:function(Pe){this.sprayChunkPoints=[];var St,Te,ke,Ae=this.width/2,xe;for(xe=0;xe<this.density;xe++){St=e.util.getRandomInt(Pe.x-Ae,Pe.x+Ae),Te=e.util.getRandomInt(Pe.y-Ae,Pe.y+Ae),this.dotWidthVariance?ke=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):ke=this.dotWidth;var Se=new e.Point(St,Te);Se.width=ke,this.randomOpacity&&(Se.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(Se)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var Pe=20,St=5,Te=e.util.createCanvasElement(),ke=Te.getContext("2d");return Te.width=Te.height=Pe+St,ke.fillStyle=this.color,ke.beginPath(),ke.arc(Pe/2,Pe/2,Pe/2,0,Math.PI*2,!1),ke.closePath(),ke.fill(),Te},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(Pe){return Pe.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(Pe){this.callSuper("_setBrushStyles",Pe),Pe.strokeStyle=this.getPattern(Pe)},createPath:function(Pe){var St=this.callSuper("createPath",Pe),Te=St._getLeftTopCoords().scalarAdd(St.strokeWidth/2);return St.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-Te.x,offsetY:-Te.y}),St}}),function(){var Pe=e.util.getPointer,St=e.util.degreesToRadians,Te=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(Ae,xe){xe||(xe={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(Ae,xe),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var Ae=this.getActiveObjects(),xe,Se,Fe;if(Ae.length>0&&!this.preserveObjectStacking){Se=[],Fe=[];for(var Ie=0,Me=this._objects.length;Ie<Me;Ie++)xe=this._objects[Ie],Ae.indexOf(xe)===-1?Se.push(xe):Fe.push(xe);Ae.length>1&&(this._activeObject._objects=Fe),Se.push.apply(Se,Fe)}else Se=this._objects;return Se},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var Ae=this.contextContainer;return this.renderCanvas(Ae,this._chooseObjectsToRender()),this},renderTopLayer:function(Ae){Ae.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(Ae),this.contextTopDirty=!0),Ae.restore()},renderTop:function(){var Ae=this.contextTop;return this.clearContext(Ae),this.renderTopLayer(Ae),this.fire("after:render"),this},_normalizePointer:function(Ae,xe){var Se=Ae.calcTransformMatrix(),Fe=e.util.invertTransform(Se),Ie=this.restorePointerVpt(xe);return e.util.transformPoint(Ie,Fe)},isTargetTransparent:function(Ae,xe,Se){if(Ae.shouldCache()&&Ae._cacheCanvas&&Ae!==this._activeObject){var Fe=this._normalizePointer(Ae,{x:xe,y:Se}),Ie=Math.max(Ae.cacheTranslationX+Fe.x*Ae.zoomX,0),Me=Math.max(Ae.cacheTranslationY+Fe.y*Ae.zoomY,0),je=e.util.isTransparent(Ae._cacheContext,Math.round(Ie),Math.round(Me),this.targetFindTolerance);return je}var Oe=this.contextCache,De=Ae.selectionBackgroundColor,Be=this.viewportTransform;Ae.selectionBackgroundColor="",this.clearContext(Oe),Oe.save(),Oe.transform(Be[0],Be[1],Be[2],Be[3],Be[4],Be[5]),Ae.render(Oe),Oe.restore(),Ae.selectionBackgroundColor=De;var je=e.util.isTransparent(Oe,xe,Se,this.targetFindTolerance);return je},_isSelectionKeyPressed:function(Ae){var xe=!1;return Array.isArray(this.selectionKey)?xe=!!this.selectionKey.find(function(Se){return Ae[Se]===!0}):xe=Ae[this.selectionKey],xe},_shouldClearSelection:function(Ae,xe){var Se=this.getActiveObjects(),Fe=this._activeObject;return!xe||xe&&Fe&&Se.length>1&&Se.indexOf(xe)===-1&&Fe!==xe&&!this._isSelectionKeyPressed(Ae)||xe&&!xe.evented||xe&&!xe.selectable&&Fe&&Fe!==xe},_shouldCenterTransform:function(Ae,xe,Se){if(!!Ae){var Fe;return xe==="scale"||xe==="scaleX"||xe==="scaleY"||xe==="resizing"?Fe=this.centeredScaling||Ae.centeredScaling:xe==="rotate"&&(Fe=this.centeredRotation||Ae.centeredRotation),Fe?!Se:Se}},_getOriginFromCorner:function(Ae,xe){var Se={x:Ae.originX,y:Ae.originY};return xe==="ml"||xe==="tl"||xe==="bl"?Se.x="right":(xe==="mr"||xe==="tr"||xe==="br")&&(Se.x="left"),xe==="tl"||xe==="mt"||xe==="tr"?Se.y="bottom":(xe==="bl"||xe==="mb"||xe==="br")&&(Se.y="top"),Se},_getActionFromCorner:function(Ae,xe,Se,Fe){if(!xe||!Ae)return"drag";var Ie=Fe.controls[xe];return Ie.getActionName(Se,Ie,Fe)},_setupCurrentTransform:function(Ae,xe,Se){if(!!xe){var Fe=this.getPointer(Ae),Ie=xe.__corner,Me=xe.controls[Ie],Oe=Se&&Ie?Me.getActionHandler(Ae,xe,Me):e.controlsUtils.dragHandler,De=this._getActionFromCorner(Se,Ie,Ae,xe),Be=this._getOriginFromCorner(xe,Ie),je=Ae[this.centeredKey],ze={target:xe,action:De,actionHandler:Oe,corner:Ie,scaleX:xe.scaleX,scaleY:xe.scaleY,skewX:xe.skewX,skewY:xe.skewY,offsetX:Fe.x-xe.left,offsetY:Fe.y-xe.top,originX:Be.x,originY:Be.y,ex:Fe.x,ey:Fe.y,lastX:Fe.x,lastY:Fe.y,theta:St(xe.angle),width:xe.width*xe.scaleX,shiftKey:Ae.shiftKey,altKey:je,original:e.util.saveObjectTransform(xe)};this._shouldCenterTransform(xe,De,je)&&(ze.originX="center",ze.originY="center"),ze.original.originX=Be.x,ze.original.originY=Be.y,this._currentTransform=ze,this._beforeTransform(Ae)}},setCursor:function(Ae){this.upperCanvasEl.style.cursor=Ae},_drawSelection:function(Ae){var xe=this._groupSelector,Se=new e.Point(xe.ex,xe.ey),Fe=e.util.transformPoint(Se,this.viewportTransform),Ie=new e.Point(xe.ex+xe.left,xe.ey+xe.top),Me=e.util.transformPoint(Ie,this.viewportTransform),Oe=Math.min(Fe.x,Me.x),De=Math.min(Fe.y,Me.y),Be=Math.max(Fe.x,Me.x),je=Math.max(Fe.y,Me.y),ze=this.selectionLineWidth/2;this.selectionColor&&(Ae.fillStyle=this.selectionColor,Ae.fillRect(Oe,De,Be-Oe,je-De)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(Ae.lineWidth=this.selectionLineWidth,Ae.strokeStyle=this.selectionBorderColor,Oe+=ze,De+=ze,Be-=ze,je-=ze,e.Object.prototype._setLineDash.call(this,Ae,this.selectionDashArray),Ae.strokeRect(Oe,De,Be-Oe,je-De))},findTarget:function(Ae,xe){if(!this.skipTargetFind){var Se=!0,Fe=this.getPointer(Ae,Se),Ie=this._activeObject,Me=this.getActiveObjects(),Oe,De,Be=Te(Ae),je=Me.length>1&&!xe||Me.length===1;if(this.targets=[],je&&Ie._findTargetCorner(Fe,Be)||Me.length>1&&!xe&&Ie===this._searchPossibleTargets([Ie],Fe))return Ie;if(Me.length===1&&Ie===this._searchPossibleTargets([Ie],Fe))if(this.preserveObjectStacking)Oe=Ie,De=this.targets,this.targets=[];else return Ie;var ze=this._searchPossibleTargets(this._objects,Fe);return Ae[this.altSelectionKey]&&ze&&Oe&&ze!==Oe&&(ze=Oe,this.targets=De),ze}},_checkTarget:function(Ae,xe,Se){if(xe&&xe.visible&&xe.evented&&xe.containsPoint(Ae))if((this.perPixelTargetFind||xe.perPixelTargetFind)&&!xe.isEditing){var Fe=this.isTargetTransparent(xe,Se.x,Se.y);if(!Fe)return!0}else return!0},_searchPossibleTargets:function(Ae,xe){for(var Se,Fe=Ae.length,Ie;Fe--;){var Me=Ae[Fe],Oe=Me.group?this._normalizePointer(Me.group,xe):xe;if(this._checkTarget(Oe,Me,xe)){Se=Ae[Fe],Se.subTargetCheck&&Se instanceof e.Group&&(Ie=this._searchPossibleTargets(Se._objects,xe),Ie&&this.targets.push(Ie));break}}return Se},restorePointerVpt:function(Ae){return e.util.transformPoint(Ae,e.util.invertTransform(this.viewportTransform))},getPointer:function(Ae,xe){if(this._absolutePointer&&!xe)return this._absolutePointer;if(this._pointer&&xe)return this._pointer;var Se=Pe(Ae),Fe=this.upperCanvasEl,Ie=Fe.getBoundingClientRect(),Me=Ie.width||0,Oe=Ie.height||0,De;(!Me||!Oe)&&("top"in Ie&&"bottom"in Ie&&(Oe=Math.abs(Ie.top-Ie.bottom)),"right"in Ie&&"left"in Ie&&(Me=Math.abs(Ie.right-Ie.left))),this.calcOffset(),Se.x=Se.x-this._offset.left,Se.y=Se.y-this._offset.top,xe||(Se=this.restorePointerVpt(Se));var Be=this.getRetinaScaling();return Be!==1&&(Se.x/=Be,Se.y/=Be),Me===0||Oe===0?De={width:1,height:1}:De={width:Fe.width/Me,height:Fe.height/Oe},{x:Se.x*De.width,y:Se.y*De.height}},_createUpperCanvas:function(){var Ae=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),xe=this.lowerCanvasEl,Se=this.upperCanvasEl;Se?Se.className="":(Se=this._createCanvasElement(),this.upperCanvasEl=Se),e.util.addClass(Se,"upper-canvas "+Ae),this.wrapperEl.appendChild(Se),this._copyCanvasStyle(xe,Se),this._applyCanvasStyle(Se),this.contextTop=Se.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(Ae){var xe=this.width||Ae.width,Se=this.height||Ae.height;e.util.setStyle(Ae,{position:"absolute",width:xe+"px",height:Se+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),Ae.width=xe,Ae.height=Se,e.util.makeElementUnselectable(Ae)},_copyCanvasStyle:function(Ae,xe){xe.style.cssText=Ae.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var Ae=this._activeObject;return Ae?Ae.type==="activeSelection"&&Ae._objects?Ae._objects.slice(0):[Ae]:[]},_onObjectRemoved:function(Ae){Ae===this._activeObject&&(this.fire("before:selection:cleared",{target:Ae}),this._discardActiveObject(),this.fire("selection:cleared",{target:Ae}),Ae.fire("deselected")),Ae===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",Ae)},_fireSelectionEvents:function(Ae,xe){var Se=!1,Fe=this.getActiveObjects(),Ie=[],Me=[];Ae.forEach(function(Oe){Fe.indexOf(Oe)===-1&&(Se=!0,Oe.fire("deselected",{e:xe,target:Oe}),Me.push(Oe))}),Fe.forEach(function(Oe){Ae.indexOf(Oe)===-1&&(Se=!0,Oe.fire("selected",{e:xe,target:Oe}),Ie.push(Oe))}),Ae.length>0&&Fe.length>0?Se&&this.fire("selection:updated",{e:xe,selected:Ie,deselected:Me}):Fe.length>0?this.fire("selection:created",{e:xe,selected:Ie}):Ae.length>0&&this.fire("selection:cleared",{e:xe,deselected:Me})},setActiveObject:function(Ae,xe){var Se=this.getActiveObjects();return this._setActiveObject(Ae,xe),this._fireSelectionEvents(Se,xe),this},_setActiveObject:function(Ae,xe){return this._activeObject===Ae||!this._discardActiveObject(xe,Ae)||Ae.onSelect({e:xe})?!1:(this._activeObject=Ae,!0)},_discardActiveObject:function(Ae,xe){var Se=this._activeObject;if(Se){if(Se.onDeselect({e:Ae,object:xe}))return!1;this._activeObject=null}return!0},discardActiveObject:function(Ae){var xe=this.getActiveObjects(),Se=this.getActiveObject();return xe.length&&this.fire("before:selection:cleared",{target:Se,e:Ae}),this._discardActiveObject(Ae),this._fireSelectionEvents(xe,Ae),this},dispose:function(){var Ae=this.wrapperEl;return this.removeListeners(),Ae.removeChild(this.upperCanvasEl),Ae.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(xe){e.util.cleanUpJsdomNode(this[xe]),this[xe]=void 0}.bind(this)),Ae.parentNode&&Ae.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(Ae){var xe=this._activeObject;xe&&xe._renderControls(Ae)},_toObject:function(Ae,xe,Se){var Fe=this._realizeGroupTransformOnObject(Ae),Ie=this.callSuper("_toObject",Ae,xe,Se);return this._unwindGroupTransformOnObject(Ae,Fe),Ie},_realizeGroupTransformOnObject:function(Ae){if(Ae.group&&Ae.group.type==="activeSelection"&&this._activeObject===Ae.group){var xe=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],Se={};return xe.forEach(function(Fe){Se[Fe]=Ae[Fe]}),e.util.addTransformToObject(Ae,this._activeObject.calcOwnMatrix()),Se}else return null},_unwindGroupTransformOnObject:function(Ae,xe){xe&&Ae.set(xe)},_setSVGObject:function(Ae,xe,Se){var Fe=this._realizeGroupTransformOnObject(xe);this.callSuper("_setSVGObject",Ae,xe,Se),this._unwindGroupTransformOnObject(xe,Fe)},setViewportTransform:function(Ae){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,Ae)}});for(var ke in e.StaticCanvas)ke!=="prototype"&&(e.Canvas[ke]=e.StaticCanvas[ke])}(),function(){var Pe=e.util.addListener,St=e.util.removeListener,Te=3,ke=2,Ae=1,xe={passive:!1};function Se(Fe,Ie){return Fe.button&&Fe.button===Ie-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(Pe,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(Fe,Ie){var Me=this.upperCanvasEl,Oe=this._getEventPrefix();Fe(e.window,"resize",this._onResize),Fe(Me,Oe+"down",this._onMouseDown),Fe(Me,Oe+"move",this._onMouseMove,xe),Fe(Me,Oe+"out",this._onMouseOut),Fe(Me,Oe+"enter",this._onMouseEnter),Fe(Me,"wheel",this._onMouseWheel),Fe(Me,"contextmenu",this._onContextMenu),Fe(Me,"dblclick",this._onDoubleClick),Fe(Me,"dragover",this._onDragOver),Fe(Me,"dragenter",this._onDragEnter),Fe(Me,"dragleave",this._onDragLeave),Fe(Me,"drop",this._onDrop),this.enablePointerEvents||Fe(Me,"touchstart",this._onTouchStart,xe),typeof eventjs<"u"&&Ie in eventjs&&(eventjs[Ie](Me,"gesture",this._onGesture),eventjs[Ie](Me,"drag",this._onDrag),eventjs[Ie](Me,"orientation",this._onOrientationChange),eventjs[Ie](Me,"shake",this._onShake),eventjs[Ie](Me,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(St,"remove");var Fe=this._getEventPrefix();St(e.document,Fe+"up",this._onMouseUp),St(e.document,"touchend",this._onTouchEnd,xe),St(e.document,Fe+"move",this._onMouseMove,xe),St(e.document,"touchmove",this._onMouseMove,xe)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(Fe,Ie){this.__onTransformGesture&&this.__onTransformGesture(Fe,Ie)},_onDrag:function(Fe,Ie){this.__onDrag&&this.__onDrag(Fe,Ie)},_onMouseWheel:function(Fe){this.__onMouseWheel(Fe)},_onMouseOut:function(Fe){var Ie=this._hoveredTarget;this.fire("mouse:out",{target:Ie,e:Fe}),this._hoveredTarget=null,Ie&&Ie.fire("mouseout",{e:Fe});var Me=this;this._hoveredTargets.forEach(function(Oe){Me.fire("mouse:out",{target:Ie,e:Fe}),Oe&&Ie.fire("mouseout",{e:Fe})}),this._hoveredTargets=[]},_onMouseEnter:function(Fe){!this._currentTransform&&!this.findTarget(Fe)&&(this.fire("mouse:over",{target:null,e:Fe}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(Fe,Ie){this.__onOrientationChange&&this.__onOrientationChange(Fe,Ie)},_onShake:function(Fe,Ie){this.__onShake&&this.__onShake(Fe,Ie)},_onLongPress:function(Fe,Ie){this.__onLongPress&&this.__onLongPress(Fe,Ie)},_onDragOver:function(Fe){Fe.preventDefault();var Ie=this._simpleEventHandler("dragover",Fe);this._fireEnterLeaveEvents(Ie,Fe)},_onDrop:function(Fe){return this._simpleEventHandler("drop:before",Fe),this._simpleEventHandler("drop",Fe)},_onContextMenu:function(Fe){return this.stopContextMenu&&(Fe.stopPropagation(),Fe.preventDefault()),!1},_onDoubleClick:function(Fe){this._cacheTransformEventData(Fe),this._handleEvent(Fe,"dblclick"),this._resetTransformEventData(Fe)},getPointerId:function(Fe){var Ie=Fe.changedTouches;return Ie?Ie[0]&&Ie[0].identifier:this.enablePointerEvents?Fe.pointerId:-1},_isMainEvent:function(Fe){return Fe.isPrimary===!0?!0:Fe.isPrimary===!1?!1:Fe.type==="touchend"&&Fe.touches.length===0?!0:Fe.changedTouches?Fe.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(Fe){Fe.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(Fe)),this.__onMouseDown(Fe),this._resetTransformEventData();var Ie=this.upperCanvasEl,Me=this._getEventPrefix();Pe(e.document,"touchend",this._onTouchEnd,xe),Pe(e.document,"touchmove",this._onMouseMove,xe),St(Ie,Me+"down",this._onMouseDown)},_onMouseDown:function(Fe){this.__onMouseDown(Fe),this._resetTransformEventData();var Ie=this.upperCanvasEl,Me=this._getEventPrefix();St(Ie,Me+"move",this._onMouseMove,xe),Pe(e.document,Me+"up",this._onMouseUp),Pe(e.document,Me+"move",this._onMouseMove,xe)},_onTouchEnd:function(Fe){if(!(Fe.touches.length>0)){this.__onMouseUp(Fe),this._resetTransformEventData(),this.mainTouchId=null;var Ie=this._getEventPrefix();St(e.document,"touchend",this._onTouchEnd,xe),St(e.document,"touchmove",this._onMouseMove,xe);var Me=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){Pe(Me.upperCanvasEl,Ie+"down",Me._onMouseDown),Me._willAddMouseDown=0},400)}},_onMouseUp:function(Fe){this.__onMouseUp(Fe),this._resetTransformEventData();var Ie=this.upperCanvasEl,Me=this._getEventPrefix();this._isMainEvent(Fe)&&(St(e.document,Me+"up",this._onMouseUp),St(e.document,Me+"move",this._onMouseMove,xe),Pe(Ie,Me+"move",this._onMouseMove,xe))},_onMouseMove:function(Fe){!this.allowTouchScrolling&&Fe.preventDefault&&Fe.preventDefault(),this.__onMouseMove(Fe)},_onResize:function(){this.calcOffset()},_shouldRender:function(Fe){var Ie=this._activeObject;return!!Ie!=!!Fe||Ie&&Fe&&Ie!==Fe?!0:(Ie&&Ie.isEditing,!1)},__onMouseUp:function(Fe){var Ie,Me=this._currentTransform,Oe=this._groupSelector,De=!1,Be=!Oe||Oe.left===0&&Oe.top===0;if(this._cacheTransformEventData(Fe),Ie=this._target,this._handleEvent(Fe,"up:before"),Se(Fe,Te)){this.fireRightClick&&this._handleEvent(Fe,"up",Te,Be);return}if(Se(Fe,ke)){this.fireMiddleClick&&this._handleEvent(Fe,"up",ke,Be),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(Fe);return}if(!!this._isMainEvent(Fe)){if(Me&&(this._finalizeCurrentTransform(Fe),De=Me.actionPerformed),!Be){var je=Ie===this._activeObject;this._maybeGroupObjects(Fe),De||(De=this._shouldRender(Ie)||!je&&Ie===this._activeObject)}var ze,Ge;if(Ie){if(ze=Ie._findTargetCorner(this.getPointer(Fe,!0),e.util.isTouchEvent(Fe)),Ie.selectable&&Ie!==this._activeObject&&Ie.activeOn==="up")this.setActiveObject(Ie,Fe),De=!0;else{var We=Ie.controls[ze],Ue=We&&We.getMouseUpHandler(Fe,Ie,We);Ue&&(Ge=this.getPointer(Fe),Ue(Fe,Me,Ge.x,Ge.y))}Ie.isMoving=!1}if(Me&&(Me.target!==Ie||Me.corner!==ze)){var hr=Me.target&&Me.target.controls[Me.corner],xr=hr&&hr.getMouseUpHandler(Fe,Ie,We);Ge=Ge||this.getPointer(Fe),xr&&xr(Fe,Me,Ge.x,Ge.y)}this._setCursorFromEvent(Fe,Ie),this._handleEvent(Fe,"up",Ae,Be),this._groupSelector=null,this._currentTransform=null,Ie&&(Ie.__corner=0),De?this.requestRenderAll():Be||this.renderTop()}},_simpleEventHandler:function(Fe,Ie){var Me=this.findTarget(Ie),Oe=this.targets,De={e:Ie,target:Me,subTargets:Oe};if(this.fire(Fe,De),Me&&Me.fire(Fe,De),!Oe)return Me;for(var Be=0;Be<Oe.length;Be++)Oe[Be].fire(Fe,De);return Me},_handleEvent:function(Fe,Ie,Me,Oe){var De=this._target,Be=this.targets||[],je={e:Fe,target:De,subTargets:Be,button:Me||Ae,isClick:Oe||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};Ie==="up"&&(je.currentTarget=this.findTarget(Fe),je.currentSubTargets=this.targets),this.fire("mouse:"+Ie,je),De&&De.fire("mouse"+Ie,je);for(var ze=0;ze<Be.length;ze++)Be[ze].fire("mouse"+Ie,je)},_finalizeCurrentTransform:function(Fe){var Ie=this._currentTransform,Me=Ie.target,Oe={e:Fe,target:Me,transform:Ie,action:Ie.action};Me._scaling&&(Me._scaling=!1),Me.setCoords(),(Ie.actionPerformed||this.stateful&&Me.hasStateChanged())&&this._fire("modified",Oe)},_onMouseDownInDrawingMode:function(Fe){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(Fe).requestRenderAll();var Ie=this.getPointer(Fe);this.freeDrawingBrush.onMouseDown(Ie,{e:Fe,pointer:Ie}),this._handleEvent(Fe,"down")},_onMouseMoveInDrawingMode:function(Fe){if(this._isCurrentlyDrawing){var Ie=this.getPointer(Fe);this.freeDrawingBrush.onMouseMove(Ie,{e:Fe,pointer:Ie})}this.setCursor(this.freeDrawingCursor),this._handleEvent(Fe,"move")},_onMouseUpInDrawingMode:function(Fe){var Ie=this.getPointer(Fe);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:Fe,pointer:Ie}),this._handleEvent(Fe,"up")},__onMouseDown:function(Fe){this._cacheTransformEventData(Fe),this._handleEvent(Fe,"down:before");var Ie=this._target;if(Se(Fe,Te)){this.fireRightClick&&this._handleEvent(Fe,"down",Te);return}if(Se(Fe,ke)){this.fireMiddleClick&&this._handleEvent(Fe,"down",ke);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(Fe);return}if(!!this._isMainEvent(Fe)&&!this._currentTransform){var Me=this._pointer;this._previousPointer=Me;var Oe=this._shouldRender(Ie),De=this._shouldGroup(Fe,Ie);if(this._shouldClearSelection(Fe,Ie)?this.discardActiveObject(Fe):De&&(this._handleGrouping(Fe,Ie),Ie=this._activeObject),this.selection&&(!Ie||!Ie.selectable&&!Ie.isEditing&&Ie!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),Ie){var Be=Ie===this._activeObject;Ie.selectable&&Ie.activeOn==="down"&&this.setActiveObject(Ie,Fe);var je=Ie._findTargetCorner(this.getPointer(Fe,!0),e.util.isTouchEvent(Fe));if(Ie.__corner=je,Ie===this._activeObject&&(je||!De)){this._setupCurrentTransform(Fe,Ie,Be);var ze=Ie.controls[je],Me=this.getPointer(Fe),Ge=ze&&ze.getMouseDownHandler(Fe,Ie,ze);Ge&&Ge(Fe,this._currentTransform,Me.x,Me.y)}}this._handleEvent(Fe,"down"),(Oe||De)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(Fe){this._resetTransformEventData(),this._pointer=this.getPointer(Fe,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(Fe)||null},_beforeTransform:function(Fe){var Ie=this._currentTransform;this.stateful&&Ie.target.saveState(),this.fire("before:transform",{e:Fe,transform:Ie})},__onMouseMove:function(Fe){this._handleEvent(Fe,"move:before"),this._cacheTransformEventData(Fe);var Ie,Me;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(Fe);return}if(!!this._isMainEvent(Fe)){var Oe=this._groupSelector;Oe?(Me=this._absolutePointer,Oe.left=Me.x-Oe.ex,Oe.top=Me.y-Oe.ey,this.renderTop()):this._currentTransform?this._transformObject(Fe):(Ie=this.findTarget(Fe)||null,this._setCursorFromEvent(Fe,Ie),this._fireOverOutEvents(Ie,Fe)),this._handleEvent(Fe,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(Fe,Ie){var Me=this._hoveredTarget,Oe=this._hoveredTargets,De=this.targets,Be=Math.max(Oe.length,De.length);this.fireSyntheticInOutEvents(Fe,Ie,{oldTarget:Me,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var je=0;je<Be;je++)this.fireSyntheticInOutEvents(De[je],Ie,{oldTarget:Oe[je],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=Fe,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(Fe,Ie){var Me=this._draggedoverTarget,Oe=this._hoveredTargets,De=this.targets,Be=Math.max(Oe.length,De.length);this.fireSyntheticInOutEvents(Fe,Ie,{oldTarget:Me,evtOut:"dragleave",evtIn:"dragenter"});for(var je=0;je<Be;je++)this.fireSyntheticInOutEvents(De[je],Ie,{oldTarget:Oe[je],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=Fe},fireSyntheticInOutEvents:function(Fe,Ie,Me){var Oe,De,Be=Me.oldTarget,je,ze,Ge=Be!==Fe,We=Me.canvasEvtIn,Ue=Me.canvasEvtOut;Ge&&(Oe={e:Ie,target:Fe,previousTarget:Be},De={e:Ie,target:Be,nextTarget:Fe}),ze=Fe&&Ge,je=Be&&Ge,je&&(Ue&&this.fire(Ue,De),Be.fire(Me.evtOut,De)),ze&&(We&&this.fire(We,Oe),Fe.fire(Me.evtIn,Oe))},__onMouseWheel:function(Fe){this._cacheTransformEventData(Fe),this._handleEvent(Fe,"wheel"),this._resetTransformEventData()},_transformObject:function(Fe){var Ie=this.getPointer(Fe),Me=this._currentTransform;Me.reset=!1,Me.shiftKey=Fe.shiftKey,Me.altKey=Fe[this.centeredKey],this._performTransformAction(Fe,Me,Ie),Me.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(Fe,Ie,Me){var Oe=Me.x,De=Me.y,Be=Ie.action,je=!1,ze=Ie.actionHandler;ze&&(je=ze(Fe,Ie,Oe,De)),Be==="drag"&&je&&(Ie.target.isMoving=!0,this.setCursor(Ie.target.moveCursor||this.moveCursor)),Ie.actionPerformed=Ie.actionPerformed||je},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(Fe,Ie){if(!Ie)return this.setCursor(this.defaultCursor),!1;var Me=Ie.hoverCursor||this.hoverCursor,Oe=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,De=(!Oe||!Oe.contains(Ie))&&Ie._findTargetCorner(this.getPointer(Fe,!0));De?this.setCursor(this.getCornerCursor(De,Ie,Fe)):(Ie.subTargetCheck&&this.targets.concat().reverse().map(function(Be){Me=Be.hoverCursor||Me}),this.setCursor(Me))},getCornerCursor:function(Fe,Ie,Me){var Oe=Ie.controls[Fe];return Oe.cursorStyleHandler(Me,Oe,Ie)}})}(),function(){var Pe=Math.min,St=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(Te,ke){var Ae=this._activeObject;return Ae&&this._isSelectionKeyPressed(Te)&&ke&&ke.selectable&&this.selection&&(Ae!==ke||Ae.type==="activeSelection")&&!ke.onSelect({e:Te})},_handleGrouping:function(Te,ke){var Ae=this._activeObject;Ae.__corner||ke===Ae&&(ke=this.findTarget(Te,!0),!ke||!ke.selectable)||(Ae&&Ae.type==="activeSelection"?this._updateActiveSelection(ke,Te):this._createActiveSelection(ke,Te))},_updateActiveSelection:function(Te,ke){var Ae=this._activeObject,xe=Ae._objects.slice(0);Ae.contains(Te)?(Ae.removeWithUpdate(Te),this._hoveredTarget=Te,this._hoveredTargets=this.targets.concat(),Ae.size()===1&&this._setActiveObject(Ae.item(0),ke)):(Ae.addWithUpdate(Te),this._hoveredTarget=Ae,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(xe,ke)},_createActiveSelection:function(Te,ke){var Ae=this.getActiveObjects(),xe=this._createGroup(Te);this._hoveredTarget=xe,this._setActiveObject(xe,ke),this._fireSelectionEvents(Ae,ke)},_createGroup:function(Te){var ke=this._objects,Ae=ke.indexOf(this._activeObject)<ke.indexOf(Te),xe=Ae?[this._activeObject,Te]:[Te,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(xe,{canvas:this})},_groupSelectedObjects:function(Te){var ke=this._collectObjects(Te),Ae;ke.length===1?this.setActiveObject(ke[0],Te):ke.length>1&&(Ae=new e.ActiveSelection(ke.reverse(),{canvas:this}),this.setActiveObject(Ae,Te))},_collectObjects:function(Te){for(var ke=[],Ae,xe=this._groupSelector.ex,Se=this._groupSelector.ey,Fe=xe+this._groupSelector.left,Ie=Se+this._groupSelector.top,Me=new e.Point(Pe(xe,Fe),Pe(Se,Ie)),Oe=new e.Point(St(xe,Fe),St(Se,Ie)),De=!this.selectionFullyContained,Be=xe===Fe&&Se===Ie,je=this._objects.length;je--&&(Ae=this._objects[je],!(!(!Ae||!Ae.selectable||!Ae.visible)&&(De&&Ae.intersectsWithRect(Me,Oe,!0)||Ae.isContainedWithinRect(Me,Oe,!0)||De&&Ae.containsPoint(Me,null,!0)||De&&Ae.containsPoint(Oe,null,!0))&&(ke.push(Ae),Be))););return ke.length>1&&(ke=ke.filter(function(ze){return!ze.onSelect({e:Te})})),ke},_maybeGroupObjects:function(Te){this.selection&&this._groupSelector&&this._groupSelectedObjects(Te),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(Pe){Pe||(Pe={});var St=Pe.format||"png",Te=Pe.quality||1,ke=(Pe.multiplier||1)*(Pe.enableRetinaScaling?this.getRetinaScaling():1),Ae=this.toCanvasElement(ke,Pe);return e.util.toDataURL(Ae,St,Te)},toCanvasElement:function(Pe,St){Pe=Pe||1,St=St||{};var Te=(St.width||this.width)*Pe,ke=(St.height||this.height)*Pe,Ae=this.getZoom(),xe=this.width,Se=this.height,Fe=Ae*Pe,Ie=this.viewportTransform,Me=(Ie[4]-(St.left||0))*Pe,Oe=(Ie[5]-(St.top||0))*Pe,De=this.interactive,Be=[Fe,0,0,Fe,Me,Oe],je=this.enableRetinaScaling,ze=e.util.createCanvasElement(),Ge=this.contextTop;return ze.width=Te,ze.height=ke,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=Be,this.width=Te,this.height=ke,this.calcViewportBoundaries(),this.renderCanvas(ze.getContext("2d"),this._objects),this.viewportTransform=Ie,this.width=xe,this.height=Se,this.calcViewportBoundaries(),this.interactive=De,this.enableRetinaScaling=je,this.contextTop=Ge,ze}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(Pe,St,Te){if(!!Pe){var ke=typeof Pe=="string"?JSON.parse(Pe):e.util.object.clone(Pe),Ae=this,xe=ke.clipPath,Se=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete ke.clipPath,this._enlivenObjects(ke.objects,function(Fe){Ae.clear(),Ae._setBgOverlay(ke,function(){xe?Ae._enlivenObjects([xe],function(Ie){Ae.clipPath=Ie[0],Ae.__setupCanvas.call(Ae,ke,Fe,Se,St)}):Ae.__setupCanvas.call(Ae,ke,Fe,Se,St)})},Te),this}},__setupCanvas:function(Pe,St,Te,ke){var Ae=this;St.forEach(function(xe,Se){Ae.insertAt(xe,Se)}),this.renderOnAddRemove=Te,delete Pe.objects,delete Pe.backgroundImage,delete Pe.overlayImage,delete Pe.background,delete Pe.overlay,this._setOptions(Pe),this.renderAll(),ke&&ke()},_setBgOverlay:function(Pe,St){var Te={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!Pe.backgroundImage&&!Pe.overlayImage&&!Pe.background&&!Pe.overlay){St&&St();return}var ke=function(){Te.backgroundImage&&Te.overlayImage&&Te.backgroundColor&&Te.overlayColor&&St&&St()};this.__setBgOverlay("backgroundImage",Pe.backgroundImage,Te,ke),this.__setBgOverlay("overlayImage",Pe.overlayImage,Te,ke),this.__setBgOverlay("backgroundColor",Pe.background,Te,ke),this.__setBgOverlay("overlayColor",Pe.overlay,Te,ke)},__setBgOverlay:function(Pe,St,Te,ke){var Ae=this;if(!St){Te[Pe]=!0,ke&&ke();return}Pe==="backgroundImage"||Pe==="overlayImage"?e.util.enlivenObjects([St],function(xe){Ae[Pe]=xe[0],Te[Pe]=!0,ke&&ke()}):this["set"+e.util.string.capitalize(Pe,!0)](St,function(){Te[Pe]=!0,ke&&ke()})},_enlivenObjects:function(Pe,St,Te){if(!Pe||Pe.length===0){St&&St([]);return}e.util.enlivenObjects(Pe,function(ke){St&&St(ke)},null,Te)},_toDataURL:function(Pe,St){this.clone(function(Te){St(Te.toDataURL(Pe))})},_toDataURLWithMultiplier:function(Pe,St,Te){this.clone(function(ke){Te(ke.toDataURLWithMultiplier(Pe,St))})},clone:function(Pe,St){var Te=JSON.stringify(this.toJSON(St));this.cloneWithoutData(function(ke){ke.loadFromJSON(Te,function(){Pe&&Pe(ke)})})},cloneWithoutData:function(Pe){var St=e.util.createCanvasElement();St.width=this.width,St.height=this.height;var Te=new e.Canvas(St);this.backgroundImage?(Te.setBackgroundImage(this.backgroundImage.src,function(){Te.renderAll(),Pe&&Pe(Te)}),Te.backgroundImageOpacity=this.backgroundImageOpacity,Te.backgroundImageStretch=this.backgroundImageStretch):Pe&&Pe(Te)}}),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.object.extend,ke=St.util.object.clone,Ae=St.util.toFixed,xe=St.util.string.capitalize,Se=St.util.degreesToRadians,Fe=!St.isLikelyNode,Ie=2;St.Object||(St.Object=St.util.createClass(St.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:Fe,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(Me){Me&&this.setOptions(Me)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=St.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(Me){var Oe=St.perfLimitSizeTotal,De=Me.width,Be=Me.height,je=St.maxCacheSideLimit,ze=St.minCacheSideLimit;if(De<=je&&Be<=je&&De*Be<=Oe)return De<ze&&(Me.width=ze),Be<ze&&(Me.height=ze),Me;var Ge=De/Be,We=St.util.limitDimsByArea(Ge,Oe),Ue=St.util.capValue,hr=Ue(ze,We.x,je),xr=Ue(ze,We.y,je);return De>hr&&(Me.zoomX/=De/hr,Me.width=hr,Me.capped=!0),Be>xr&&(Me.zoomY/=Be/xr,Me.height=xr,Me.capped=!0),Me},_getCacheCanvasDimensions:function(){var Me=this.getTotalObjectScaling(),Oe=this._getTransformedDimensions(0,0),De=Oe.x*Me.scaleX/this.scaleX,Be=Oe.y*Me.scaleY/this.scaleY;return{width:De+Ie,height:Be+Ie,zoomX:Me.scaleX,zoomY:Me.scaleY,x:De,y:Be}},_updateCacheCanvas:function(){var Me=this.canvas;if(this.noScaleCache&&Me&&Me._currentTransform){var Oe=Me._currentTransform.target,De=Me._currentTransform.action;if(this===Oe&&De.slice&&De.slice(0,5)==="scale")return!1}var Be=this._cacheCanvas,je=this._limitCacheSize(this._getCacheCanvasDimensions()),ze=St.minCacheSideLimit,Ge=je.width,We=je.height,Ue,hr,xr=je.zoomX,rr=je.zoomY,er=Ge!==this.cacheWidth||We!==this.cacheHeight,vr=this.zoomX!==xr||this.zoomY!==rr,gr=er||vr,br=0,sr=0,nr=!1;if(er){var Je=this._cacheCanvas.width,$e=this._cacheCanvas.height,tr=Ge>Je||We>$e,ir=(Ge<Je*.9||We<$e*.9)&&Je>ze&&$e>ze;nr=tr||ir,tr&&!je.capped&&(Ge>ze||We>ze)&&(br=Ge*.1,sr=We*.1)}return this instanceof St.Text&&this.path&&(gr=!0,nr=!0,br+=this.getHeightOfLine(0)*this.zoomX,sr+=this.getHeightOfLine(0)*this.zoomY),gr?(nr?(Be.width=Math.ceil(Ge+br),Be.height=Math.ceil(We+sr)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,Be.width,Be.height)),Ue=je.x/2,hr=je.y/2,this.cacheTranslationX=Math.round(Be.width/2-Ue)+Ue,this.cacheTranslationY=Math.round(Be.height/2-hr)+hr,this.cacheWidth=Ge,this.cacheHeight=We,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(xr,rr),this.zoomX=xr,this.zoomY=rr,!0):!1},setOptions:function(Me){this._setOptions(Me),this._initGradient(Me.fill,"fill"),this._initGradient(Me.stroke,"stroke"),this._initPattern(Me.fill,"fill"),this._initPattern(Me.stroke,"stroke")},transform:function(Me){var Oe=this.group&&!this.group._transformDone||this.group&&this.canvas&&Me===this.canvas.contextTop,De=this.calcTransformMatrix(!Oe);Me.transform(De[0],De[1],De[2],De[3],De[4],De[5])},toObject:function(Me){var Oe=St.Object.NUM_FRACTION_DIGITS,De={type:this.type,version:St.version,originX:this.originX,originY:this.originY,left:Ae(this.left,Oe),top:Ae(this.top,Oe),width:Ae(this.width,Oe),height:Ae(this.height,Oe),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:Ae(this.strokeWidth,Oe),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:Ae(this.strokeMiterLimit,Oe),scaleX:Ae(this.scaleX,Oe),scaleY:Ae(this.scaleY,Oe),angle:Ae(this.angle,Oe),flipX:this.flipX,flipY:this.flipY,opacity:Ae(this.opacity,Oe),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:Ae(this.skewX,Oe),skewY:Ae(this.skewY,Oe)};return this.clipPath&&!this.clipPath.excludeFromExport&&(De.clipPath=this.clipPath.toObject(Me),De.clipPath.inverted=this.clipPath.inverted,De.clipPath.absolutePositioned=this.clipPath.absolutePositioned),St.util.populateWithProperties(this,De,Me),this.includeDefaultValues||(De=this._removeDefaultValues(De)),De},toDatalessObject:function(Me){return this.toObject(Me)},_removeDefaultValues:function(Me){var Oe=St.util.getKlass(Me.type).prototype,De=Oe.stateProperties;return De.forEach(function(Be){Be==="left"||Be==="top"||(Me[Be]===Oe[Be]&&delete Me[Be],Array.isArray(Me[Be])&&Array.isArray(Oe[Be])&&Me[Be].length===0&&Oe[Be].length===0&&delete Me[Be])}),Me},toString:function(){return"#<fabric."+xe(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var Me=St.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(Me.scaleX),scaleY:Math.abs(Me.scaleY)}},getTotalObjectScaling:function(){var Me=this.getObjectScaling(),Oe=Me.scaleX,De=Me.scaleY;if(this.canvas){var Be=this.canvas.getZoom(),je=this.canvas.getRetinaScaling();Oe*=Be*je,De*=Be*je}return{scaleX:Oe,scaleY:De}},getObjectOpacity:function(){var Me=this.opacity;return this.group&&(Me*=this.group.getObjectOpacity()),Me},_set:function(Me,Oe){var De=Me==="scaleX"||Me==="scaleY",Be=this[Me]!==Oe,je=!1;return De&&(Oe=this._constrainScale(Oe)),Me==="scaleX"&&Oe<0?(this.flipX=!this.flipX,Oe*=-1):Me==="scaleY"&&Oe<0?(this.flipY=!this.flipY,Oe*=-1):Me==="shadow"&&Oe&&!(Oe instanceof St.Shadow)?Oe=new St.Shadow(Oe):Me==="dirty"&&this.group&&this.group.set("dirty",Oe),this[Me]=Oe,Be&&(je=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(Me)>-1?(this.dirty=!0,je&&this.group.set("dirty",!0)):je&&this.stateProperties.indexOf(Me)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:St.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(Me){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(Me.save(),this._setupCompositeOperation(Me),this.drawSelectionBackground(Me),this.transform(Me),this._setOpacity(Me),this._setShadow(Me,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(Me)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(Me),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),Me.restore())},renderCache:function(Me){Me=Me||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,Me.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(Me,Oe){if(Me.save(),Oe.inverted?Me.globalCompositeOperation="destination-out":Me.globalCompositeOperation="destination-in",Oe.absolutePositioned){var De=St.util.invertTransform(this.calcTransformMatrix());Me.transform(De[0],De[1],De[2],De[3],De[4],De[5])}Oe.transform(Me),Me.scale(1/Oe.zoomX,1/Oe.zoomY),Me.drawImage(Oe._cacheCanvas,-Oe.cacheTranslationX,-Oe.cacheTranslationY),Me.restore()},drawObject:function(Me,Oe){var De=this.fill,Be=this.stroke;Oe?(this.fill="black",this.stroke="",this._setClippingProperties(Me)):this._renderBackground(Me),this._render(Me),this._drawClipPath(Me,this.clipPath),this.fill=De,this.stroke=Be},_drawClipPath:function(Me,Oe){!Oe||(Oe.canvas=this.canvas,Oe.shouldCache(),Oe._transformDone=!0,Oe.renderCache({forClipping:!0}),this.drawClipPathOnCache(Me,Oe))},drawCacheOnCanvas:function(Me){Me.scale(1/this.zoomX,1/this.zoomY),Me.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(Me){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!Me&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!Me){var Oe=this.cacheWidth/this.zoomX,De=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-Oe/2,-De/2,Oe,De)}return!0}return!1},_renderBackground:function(Me){if(!!this.backgroundColor){var Oe=this._getNonTransformedDimensions();Me.fillStyle=this.backgroundColor,Me.fillRect(-Oe.x/2,-Oe.y/2,Oe.x,Oe.y),this._removeShadow(Me)}},_setOpacity:function(Me){this.group&&!this.group._transformDone?Me.globalAlpha=this.getObjectOpacity():Me.globalAlpha*=this.opacity},_setStrokeStyles:function(Me,Oe){var De=Oe.stroke;De&&(Me.lineWidth=Oe.strokeWidth,Me.lineCap=Oe.strokeLineCap,Me.lineDashOffset=Oe.strokeDashOffset,Me.lineJoin=Oe.strokeLineJoin,Me.miterLimit=Oe.strokeMiterLimit,De.toLive?De.gradientUnits==="percentage"||De.gradientTransform||De.patternTransform?this._applyPatternForTransformedGradient(Me,De):(Me.strokeStyle=De.toLive(Me,this),this._applyPatternGradientTransform(Me,De)):Me.strokeStyle=Oe.stroke)},_setFillStyles:function(Me,Oe){var De=Oe.fill;De&&(De.toLive?(Me.fillStyle=De.toLive(Me,this),this._applyPatternGradientTransform(Me,Oe.fill)):Me.fillStyle=De)},_setClippingProperties:function(Me){Me.globalAlpha=1,Me.strokeStyle="transparent",Me.fillStyle="#000000"},_setLineDash:function(Me,Oe){!Oe||Oe.length===0||(1&Oe.length&&Oe.push.apply(Oe,Oe),Me.setLineDash(Oe))},_renderControls:function(Me,Oe){var De=this.getViewportTransform(),Be=this.calcTransformMatrix(),je,ze,Ge;Oe=Oe||{},ze=typeof Oe.hasBorders<"u"?Oe.hasBorders:this.hasBorders,Ge=typeof Oe.hasControls<"u"?Oe.hasControls:this.hasControls,Be=St.util.multiplyTransformMatrices(De,Be),je=St.util.qrDecompose(Be),Me.save(),Me.translate(je.translateX,je.translateY),Me.lineWidth=1*this.borderScaleFactor,this.group||(Me.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(je.angle-=180),Me.rotate(Se(this.group?je.angle:this.angle)),Oe.forActiveSelection||this.group?ze&&this.drawBordersInGroup(Me,je,Oe):ze&&this.drawBorders(Me,Oe),Ge&&this.drawControls(Me,Oe),Me.restore()},_setShadow:function(Me){if(!!this.shadow){var Oe=this.shadow,De=this.canvas,Be,je=De&&De.viewportTransform[0]||1,ze=De&&De.viewportTransform[3]||1;Oe.nonScaling?Be={scaleX:1,scaleY:1}:Be=this.getObjectScaling(),De&&De._isRetinaScaling()&&(je*=St.devicePixelRatio,ze*=St.devicePixelRatio),Me.shadowColor=Oe.color,Me.shadowBlur=Oe.blur*St.browserShadowBlurConstant*(je+ze)*(Be.scaleX+Be.scaleY)/4,Me.shadowOffsetX=Oe.offsetX*je*Be.scaleX,Me.shadowOffsetY=Oe.offsetY*ze*Be.scaleY}},_removeShadow:function(Me){!this.shadow||(Me.shadowColor="",Me.shadowBlur=Me.shadowOffsetX=Me.shadowOffsetY=0)},_applyPatternGradientTransform:function(Me,Oe){if(!Oe||!Oe.toLive)return{offsetX:0,offsetY:0};var De=Oe.gradientTransform||Oe.patternTransform,Be=-this.width/2+Oe.offsetX||0,je=-this.height/2+Oe.offsetY||0;return Oe.gradientUnits==="percentage"?Me.transform(this.width,0,0,this.height,Be,je):Me.transform(1,0,0,1,Be,je),De&&Me.transform(De[0],De[1],De[2],De[3],De[4],De[5]),{offsetX:Be,offsetY:je}},_renderPaintInOrder:function(Me){this.paintFirst==="stroke"?(this._renderStroke(Me),this._renderFill(Me)):(this._renderFill(Me),this._renderStroke(Me))},_render:function(){},_renderFill:function(Me){!this.fill||(Me.save(),this._setFillStyles(Me,this),this.fillRule==="evenodd"?Me.fill("evenodd"):Me.fill(),Me.restore())},_renderStroke:function(Me){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(Me),Me.save(),this.strokeUniform&&this.group){var Oe=this.getObjectScaling();Me.scale(1/Oe.scaleX,1/Oe.scaleY)}else this.strokeUniform&&Me.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(Me,this.strokeDashArray),this._setStrokeStyles(Me,this),Me.stroke(),Me.restore()}},_applyPatternForTransformedGradient:function(Me,Oe){var De=this._limitCacheSize(this._getCacheCanvasDimensions()),Be=St.util.createCanvasElement(),je,ze=this.canvas.getRetinaScaling(),Ge=De.x/this.scaleX/ze,We=De.y/this.scaleY/ze;Be.width=Ge,Be.height=We,je=Be.getContext("2d"),je.beginPath(),je.moveTo(0,0),je.lineTo(Ge,0),je.lineTo(Ge,We),je.lineTo(0,We),je.closePath(),je.translate(Ge/2,We/2),je.scale(De.zoomX/this.scaleX/ze,De.zoomY/this.scaleY/ze),this._applyPatternGradientTransform(je,Oe),je.fillStyle=Oe.toLive(Me),je.fill(),Me.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),Me.scale(ze*this.scaleX/De.zoomX,ze*this.scaleY/De.zoomY),Me.strokeStyle=je.createPattern(Be,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var Me=St.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",Me.scaleX),this.set("scaleY",Me.scaleY),this.angle=Me.angle,this.skewX=Me.skewX,this.skewY=0}},_removeTransformMatrix:function(Me){var Oe=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),Oe=St.util.transformPoint(Oe,this.transformMatrix)),this.transformMatrix=null,Me&&(this.scaleX*=Me.scaleX,this.scaleY*=Me.scaleY,this.cropX=Me.cropX,this.cropY=Me.cropY,Oe.x+=Me.offsetLeft,Oe.y+=Me.offsetTop,this.width=Me.width,this.height=Me.height),this.setPositionByOrigin(Oe,"center","center")},clone:function(Me,Oe){var De=this.toObject(Oe);this.constructor.fromObject?this.constructor.fromObject(De,Me):St.Object._fromObject("Object",De,Me)},cloneAsImage:function(Me,Oe){var De=this.toCanvasElement(Oe);return Me&&Me(new St.Image(De)),this},toCanvasElement:function(Me){Me||(Me={});var Oe=St.util,De=Oe.saveObjectTransform(this),Be=this.group,je=this.shadow,ze=Math.abs,Ge=(Me.multiplier||1)*(Me.enableRetinaScaling?St.devicePixelRatio:1);delete this.group,Me.withoutTransform&&Oe.resetObjectTransform(this),Me.withoutShadow&&(this.shadow=null);var We=St.util.createCanvasElement(),Ue=this.getBoundingRect(!0,!0),hr=this.shadow,xr,rr={x:0,y:0},er,vr,gr;hr&&(er=hr.blur,hr.nonScaling?xr={scaleX:1,scaleY:1}:xr=this.getObjectScaling(),rr.x=2*Math.round(ze(hr.offsetX)+er)*ze(xr.scaleX),rr.y=2*Math.round(ze(hr.offsetY)+er)*ze(xr.scaleY)),vr=Ue.width+rr.x,gr=Ue.height+rr.y,We.width=Math.ceil(vr),We.height=Math.ceil(gr);var br=new St.StaticCanvas(We,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});Me.format==="jpeg"&&(br.backgroundColor="#fff"),this.setPositionByOrigin(new St.Point(br.width/2,br.height/2),"center","center");var sr=this.canvas;br.add(this);var nr=br.toCanvasElement(Ge||1,Me);return this.shadow=je,this.set("canvas",sr),Be&&(this.group=Be),this.set(De).setCoords(),br._objects=[],br.dispose(),br=null,nr},toDataURL:function(Me){return Me||(Me={}),St.util.toDataURL(this.toCanvasElement(Me),Me.format||"png",Me.quality||1)},isType:function(Me){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===Me},complexity:function(){return 1},toJSON:function(Me){return this.toObject(Me)},rotate:function(Me){var Oe=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return Oe&&this._setOriginToCenter(),this.set("angle",Me),Oe&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(Me,Oe){Oe=Oe||this.canvas.getPointer(Me);var De=new St.Point(Oe.x,Oe.y),Be=this._getLeftTopCoords();return this.angle&&(De=St.util.rotatePoint(De,Be,Se(-this.angle))),{x:De.x-Be.x,y:De.y-Be.y}},_setupCompositeOperation:function(Me){this.globalCompositeOperation&&(Me.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){St.runningAnimations&&St.runningAnimations.cancelByTarget(this)}}),St.util.createAccessors&&St.util.createAccessors(St.Object),Te(St.Object.prototype,St.Observable),St.Object.NUM_FRACTION_DIGITS=2,St.Object.ENLIVEN_PROPS=["clipPath"],St.Object._fromObject=function(Me,Oe,De,Be){var je=St[Me];Oe=ke(Oe,!0),St.util.enlivenPatterns([Oe.fill,Oe.stroke],function(ze){typeof ze[0]<"u"&&(Oe.fill=ze[0]),typeof ze[1]<"u"&&(Oe.stroke=ze[1]),St.util.enlivenObjectEnlivables(Oe,Oe,function(){var Ge=Be?new je(Oe[Be],Oe):new je(Oe);De&&De(Ge)})})},St.Object.__uid=0)}(t),function(){var Pe=e.util.degreesToRadians,St={left:-.5,center:0,right:.5},Te={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(ke,Ae,xe,Se,Fe){var Ie=ke.x,Me=ke.y,Oe,De,Be;return typeof Ae=="string"?Ae=St[Ae]:Ae-=.5,typeof Se=="string"?Se=St[Se]:Se-=.5,Oe=Se-Ae,typeof xe=="string"?xe=Te[xe]:xe-=.5,typeof Fe=="string"?Fe=Te[Fe]:Fe-=.5,De=Fe-xe,(Oe||De)&&(Be=this._getTransformedDimensions(),Ie=ke.x+Oe*Be.x,Me=ke.y+De*Be.y),new e.Point(Ie,Me)},translateToCenterPoint:function(ke,Ae,xe){var Se=this.translateToGivenOrigin(ke,Ae,xe,"center","center");return this.angle?e.util.rotatePoint(Se,ke,Pe(this.angle)):Se},translateToOriginPoint:function(ke,Ae,xe){var Se=this.translateToGivenOrigin(ke,"center","center",Ae,xe);return this.angle?e.util.rotatePoint(Se,ke,Pe(this.angle)):Se},getCenterPoint:function(){var ke=new e.Point(this.left,this.top);return this.translateToCenterPoint(ke,this.originX,this.originY)},getPointByOrigin:function(ke,Ae){var xe=this.getCenterPoint();return this.translateToOriginPoint(xe,ke,Ae)},toLocalPoint:function(ke,Ae,xe){var Se=this.getCenterPoint(),Fe,Ie;return typeof Ae<"u"&&typeof xe<"u"?Fe=this.translateToGivenOrigin(Se,"center","center",Ae,xe):Fe=new e.Point(this.left,this.top),Ie=new e.Point(ke.x,ke.y),this.angle&&(Ie=e.util.rotatePoint(Ie,Se,-Pe(this.angle))),Ie.subtractEquals(Fe)},setPositionByOrigin:function(ke,Ae,xe){var Se=this.translateToCenterPoint(ke,Ae,xe),Fe=this.translateToOriginPoint(Se,this.originX,this.originY);this.set("left",Fe.x),this.set("top",Fe.y)},adjustPosition:function(ke){var Ae=Pe(this.angle),xe=this.getScaledWidth(),Se=e.util.cos(Ae)*xe,Fe=e.util.sin(Ae)*xe,Ie,Me;typeof this.originX=="string"?Ie=St[this.originX]:Ie=this.originX-.5,typeof ke=="string"?Me=St[ke]:Me=ke-.5,this.left+=Se*(Me-Ie),this.top+=Fe*(Me-Ie),this.setCoords(),this.originX=ke},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var ke=this.getCenterPoint();this.originX="center",this.originY="center",this.left=ke.x,this.top=ke.y},_resetOrigin:function(){var ke=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=ke.x,this.top=ke.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function Pe(xe){return[new e.Point(xe.tl.x,xe.tl.y),new e.Point(xe.tr.x,xe.tr.y),new e.Point(xe.br.x,xe.br.y),new e.Point(xe.bl.x,xe.bl.y)]}var St=e.util,Te=St.degreesToRadians,ke=St.multiplyTransformMatrices,Ae=St.transformPoint;St.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(xe,Se){return Se?xe?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),xe?this.aCoords:this.lineCoords)},getCoords:function(xe,Se){return Pe(this._getCoords(xe,Se))},intersectsWithRect:function(xe,Se,Fe,Ie){var Me=this.getCoords(Fe,Ie),Oe=e.Intersection.intersectPolygonRectangle(Me,xe,Se);return Oe.status==="Intersection"},intersectsWithObject:function(xe,Se,Fe){var Ie=e.Intersection.intersectPolygonPolygon(this.getCoords(Se,Fe),xe.getCoords(Se,Fe));return Ie.status==="Intersection"||xe.isContainedWithinObject(this,Se,Fe)||this.isContainedWithinObject(xe,Se,Fe)},isContainedWithinObject:function(xe,Se,Fe){for(var Ie=this.getCoords(Se,Fe),Me=Se?xe.aCoords:xe.lineCoords,Oe=0,De=xe._getImageLines(Me);Oe<4;Oe++)if(!xe.containsPoint(Ie[Oe],De))return!1;return!0},isContainedWithinRect:function(xe,Se,Fe,Ie){var Me=this.getBoundingRect(Fe,Ie);return Me.left>=xe.x&&Me.left+Me.width<=Se.x&&Me.top>=xe.y&&Me.top+Me.height<=Se.y},containsPoint:function(xe,Oe,Fe,Ie){var Me=this._getCoords(Fe,Ie),Oe=Oe||this._getImageLines(Me),De=this._findCrossPoints(xe,Oe);return De!==0&&De%2===1},isOnScreen:function(xe){if(!this.canvas)return!1;var Se=this.canvas.vptCoords.tl,Fe=this.canvas.vptCoords.br,Ie=this.getCoords(!0,xe);return Ie.some(function(Me){return Me.x<=Fe.x&&Me.x>=Se.x&&Me.y<=Fe.y&&Me.y>=Se.y})||this.intersectsWithRect(Se,Fe,!0,xe)?!0:this._containsCenterOfCanvas(Se,Fe,xe)},_containsCenterOfCanvas:function(xe,Se,Fe){var Ie={x:(xe.x+Se.x)/2,y:(xe.y+Se.y)/2};return!!this.containsPoint(Ie,null,!0,Fe)},isPartiallyOnScreen:function(xe){if(!this.canvas)return!1;var Se=this.canvas.vptCoords.tl,Fe=this.canvas.vptCoords.br;if(this.intersectsWithRect(Se,Fe,!0,xe))return!0;var Ie=this.getCoords(!0,xe).every(function(Me){return(Me.x>=Fe.x||Me.x<=Se.x)&&(Me.y>=Fe.y||Me.y<=Se.y)});return Ie&&this._containsCenterOfCanvas(Se,Fe,xe)},_getImageLines:function(xe){var Se={topline:{o:xe.tl,d:xe.tr},rightline:{o:xe.tr,d:xe.br},bottomline:{o:xe.br,d:xe.bl},leftline:{o:xe.bl,d:xe.tl}};return Se},_findCrossPoints:function(xe,Se){var Fe,Ie,Me,Oe,De,Be=0,je;for(var ze in Se)if(je=Se[ze],!(je.o.y<xe.y&&je.d.y<xe.y)&&!(je.o.y>=xe.y&&je.d.y>=xe.y)&&(je.o.x===je.d.x&&je.o.x>=xe.x?De=je.o.x:(Fe=0,Ie=(je.d.y-je.o.y)/(je.d.x-je.o.x),Me=xe.y-Fe*xe.x,Oe=je.o.y-Ie*je.o.x,De=-(Me-Oe)/(Fe-Ie)),De>=xe.x&&(Be+=1),Be===2))break;return Be},getBoundingRect:function(xe,Se){var Fe=this.getCoords(xe,Se);return St.makeBoundingBoxFromPoints(Fe)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(xe){return Math.abs(xe)<this.minScaleLimit?xe<0?-this.minScaleLimit:this.minScaleLimit:xe===0?1e-4:xe},scale:function(xe){return this._set("scaleX",xe),this._set("scaleY",xe),this.setCoords()},scaleToWidth:function(xe,Se){var Fe=this.getBoundingRect(Se).width/this.getScaledWidth();return this.scale(xe/this.width/Fe)},scaleToHeight:function(xe,Se){var Fe=this.getBoundingRect(Se).height/this.getScaledHeight();return this.scale(xe/this.height/Fe)},calcLineCoords:function(){var xe=this.getViewportTransform(),Se=this.padding,Fe=Te(this.angle),Ie=St.cos(Fe),Me=St.sin(Fe),Oe=Ie*Se,De=Me*Se,Be=Oe+De,je=Oe-De,ze=this.calcACoords(),Ge={tl:Ae(ze.tl,xe),tr:Ae(ze.tr,xe),bl:Ae(ze.bl,xe),br:Ae(ze.br,xe)};return Se&&(Ge.tl.x-=je,Ge.tl.y-=Be,Ge.tr.x+=Be,Ge.tr.y-=je,Ge.bl.x-=Be,Ge.bl.y+=je,Ge.br.x+=je,Ge.br.y+=Be),Ge},calcOCoords:function(){var xe=this._calcRotateMatrix(),Se=this._calcTranslateMatrix(),Fe=this.getViewportTransform(),Ie=ke(Fe,Se),Me=ke(Ie,xe),Me=ke(Me,[1/Fe[0],0,0,1/Fe[3],0,0]),Oe=this._calculateCurrentDimensions(),De={};return this.forEachControl(function(Be,je,ze){De[je]=Be.positionHandler(Oe,Me,ze)}),De},calcACoords:function(){var xe=this._calcRotateMatrix(),Se=this._calcTranslateMatrix(),Fe=ke(Se,xe),Ie=this._getTransformedDimensions(),Me=Ie.x/2,Oe=Ie.y/2;return{tl:Ae({x:-Me,y:-Oe},Fe),tr:Ae({x:Me,y:-Oe},Fe),bl:Ae({x:-Me,y:Oe},Fe),br:Ae({x:Me,y:Oe},Fe)}},setCoords:function(xe){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),xe?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return St.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var xe=this.getCenterPoint();return[1,0,0,1,xe.x,xe.y]},transformMatrixKey:function(xe){var Se="_",Fe="";return!xe&&this.group&&(Fe=this.group.transformMatrixKey(xe)+Se),Fe+this.top+Se+this.left+Se+this.scaleX+Se+this.scaleY+Se+this.skewX+Se+this.skewY+Se+this.angle+Se+this.originX+Se+this.originY+Se+this.width+Se+this.height+Se+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(xe){var Se=this.calcOwnMatrix();if(xe||!this.group)return Se;var Fe=this.transformMatrixKey(xe),Ie=this.matrixCache||(this.matrixCache={});return Ie.key===Fe?Ie.value:(this.group&&(Se=ke(this.group.calcTransformMatrix(!1),Se)),Ie.key=Fe,Ie.value=Se,Se)},calcOwnMatrix:function(){var xe=this.transformMatrixKey(!0),Se=this.ownMatrixCache||(this.ownMatrixCache={});if(Se.key===xe)return Se.value;var Fe=this._calcTranslateMatrix(),Ie={angle:this.angle,translateX:Fe[4],translateY:Fe[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return Se.key=xe,Se.value=St.composeMatrix(Ie),Se.value},_getNonTransformedDimensions:function(){var xe=this.strokeWidth,Se=this.width+xe,Fe=this.height+xe;return{x:Se,y:Fe}},_getTransformedDimensions:function(xe,Se){typeof xe>"u"&&(xe=this.skewX),typeof Se>"u"&&(Se=this.skewY);var Fe,Ie,Me,Oe=xe===0&&Se===0;if(this.strokeUniform?(Ie=this.width,Me=this.height):(Fe=this._getNonTransformedDimensions(),Ie=Fe.x,Me=Fe.y),Oe)return this._finalizeDimensions(Ie*this.scaleX,Me*this.scaleY);var De=St.sizeAfterTransform(Ie,Me,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:xe,skewY:Se});return this._finalizeDimensions(De.x,De.y)},_finalizeDimensions:function(xe,Se){return this.strokeUniform?{x:xe+this.strokeWidth,y:Se+this.strokeWidth}:{x:xe,y:Se}},_calculateCurrentDimensions:function(){var xe=this.getViewportTransform(),Se=this._getTransformedDimensions(),Fe=Ae(Se,xe,!0);return Fe.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(Pe){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,Pe):this.canvas&&this.canvas.sendBackwards(this,Pe),this},bringForward:function(Pe){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,Pe):this.canvas&&this.canvas.bringForward(this,Pe),this},moveTo:function(Pe){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,Pe):this.canvas&&this.canvas.moveTo(this,Pe),this}}),function(){function Pe(Te,ke){if(ke){if(ke.toLive)return Te+": url(#SVGID_"+ke.id+"); ";var Ae=new e.Color(ke),xe=Te+": "+Ae.toRgb()+"; ",Se=Ae.getAlpha();return Se!==1&&(xe+=Te+"-opacity: "+Se.toString()+"; "),xe}else return Te+": none; "}var St=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(Te){var ke=this.fillRule?this.fillRule:"nonzero",Ae=this.strokeWidth?this.strokeWidth:"0",xe=this.strokeDashArray?this.strokeDashArray.join(" "):"none",Se=this.strokeDashOffset?this.strokeDashOffset:"0",Fe=this.strokeLineCap?this.strokeLineCap:"butt",Ie=this.strokeLineJoin?this.strokeLineJoin:"miter",Me=this.strokeMiterLimit?this.strokeMiterLimit:"4",Oe=typeof this.opacity<"u"?this.opacity:"1",De=this.visible?"":" visibility: hidden;",Be=Te?"":this.getSvgFilter(),je=Pe("fill",this.fill),ze=Pe("stroke",this.stroke);return[ze,"stroke-width: ",Ae,"; ","stroke-dasharray: ",xe,"; ","stroke-linecap: ",Fe,"; ","stroke-dashoffset: ",Se,"; ","stroke-linejoin: ",Ie,"; ","stroke-miterlimit: ",Me,"; ",je,"fill-rule: ",ke,"; ","opacity: ",Oe,";",Be,De].join("")},getSvgSpanStyles:function(Te,ke){var Ae="; ",Se=Te.fontFamily?"font-family: "+(Te.fontFamily.indexOf("'")===-1&&Te.fontFamily.indexOf('"')===-1?"'"+Te.fontFamily+"'":Te.fontFamily)+Ae:"",xe=Te.strokeWidth?"stroke-width: "+Te.strokeWidth+Ae:"",Se=Se,Fe=Te.fontSize?"font-size: "+Te.fontSize+"px"+Ae:"",Ie=Te.fontStyle?"font-style: "+Te.fontStyle+Ae:"",Me=Te.fontWeight?"font-weight: "+Te.fontWeight+Ae:"",Oe=Te.fill?Pe("fill",Te.fill):"",De=Te.stroke?Pe("stroke",Te.stroke):"",Be=this.getSvgTextDecoration(Te),je=Te.deltaY?"baseline-shift: "+-Te.deltaY+"; ":"";return Be&&(Be="text-decoration: "+Be+Ae),[De,xe,Se,Fe,Ie,Me,Be,Oe,je,ke?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(Te){return["overline","underline","line-through"].filter(function(ke){return Te[ke.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(Te,ke){var Ae=Te?this.calcTransformMatrix():this.calcOwnMatrix(),xe='transform="'+e.util.matrixToSVG(Ae);return xe+(ke||"")+'" '},_setSVGBg:function(Te){if(this.backgroundColor){var ke=e.Object.NUM_FRACTION_DIGITS;Te.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',St(-this.width/2,ke),'" y="',St(-this.height/2,ke),'" width="',St(this.width,ke),'" height="',St(this.height,ke),`"></rect>
`)}},toSVG:function(Te){return this._createBaseSVGMarkup(this._toSVG(Te),{reviver:Te})},toClipPathSVG:function(Te){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(Te),{reviver:Te})},_createBaseClipPathSVGMarkup:function(Te,ke){ke=ke||{};var Ae=ke.reviver,xe=ke.additionalTransform||"",Se=[this.getSvgTransform(!0,xe),this.getSvgCommons()].join(""),Fe=Te.indexOf("COMMON_PARTS");return Te[Fe]=Se,Ae?Ae(Te.join("")):Te.join("")},_createBaseSVGMarkup:function(Te,ke){ke=ke||{};var Ae=ke.noStyle,xe=ke.reviver,Se=Ae?"":'style="'+this.getSvgStyles()+'" ',Fe=ke.withShadow?'style="'+this.getSvgFilter()+'" ':"",Ie=this.clipPath,Me=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",Oe=Ie&&Ie.absolutePositioned,De=this.stroke,Be=this.fill,je=this.shadow,ze,Ge=[],We,Ue=Te.indexOf("COMMON_PARTS"),hr=ke.additionalTransform;return Ie&&(Ie.clipPathId="CLIPPATH_"+e.Object.__uid++,We='<clipPath id="'+Ie.clipPathId+`" >
`+Ie.toClipPathSVG(xe)+`</clipPath>
`),Oe&&Ge.push("<g ",Fe,this.getSvgCommons(),` >
`),Ge.push("<g ",this.getSvgTransform(!1),Oe?"":Fe+this.getSvgCommons(),` >
`),ze=[Se,Me,Ae?"":this.addPaintOrder()," ",hr?'transform="'+hr+'" ':""].join(""),Te[Ue]=ze,Be&&Be.toLive&&Ge.push(Be.toSVG(this)),De&&De.toLive&&Ge.push(De.toSVG(this)),je&&Ge.push(je.toSVG(this)),Ie&&Ge.push(We),Ge.push(Te.join("")),Ge.push(`</g>
`),Oe&&Ge.push(`</g>
`),xe?xe(Ge.join("")):Ge.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var Pe=e.util.object.extend,St="stateProperties";function Te(Ae,xe,Se){var Fe={},Ie=!0;Se.forEach(function(Me){Fe[Me]=Ae[Me]}),Pe(Ae[xe],Fe,Ie)}function ke(Ae,xe,Se){if(Ae===xe)return!0;if(Array.isArray(Ae)){if(!Array.isArray(xe)||Ae.length!==xe.length)return!1;for(var Fe=0,Ie=Ae.length;Fe<Ie;Fe++)if(!ke(Ae[Fe],xe[Fe]))return!1;return!0}else if(Ae&&typeof Ae=="object"){var Me=Object.keys(Ae),Oe;if(!xe||typeof xe!="object"||!Se&&Me.length!==Object.keys(xe).length)return!1;for(var Fe=0,Ie=Me.length;Fe<Ie;Fe++)if(Oe=Me[Fe],!(Oe==="canvas"||Oe==="group")&&!ke(Ae[Oe],xe[Oe]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(Ae){Ae=Ae||St;var xe="_"+Ae;return Object.keys(this[xe]).length<this[Ae].length?!0:!ke(this[xe],this,!0)},saveState:function(Ae){var xe=Ae&&Ae.propertySet||St,Se="_"+xe;return this[Se]?(Te(this,Se,this[xe]),Ae&&Ae.stateProperties&&Te(this,Se,Ae.stateProperties),this):this.setupState(Ae)},setupState:function(Ae){Ae=Ae||{};var xe=Ae.propertySet||St;return Ae.propertySet=xe,this["_"+xe]={},this.saveState(Ae),this}})}(),function(){var Pe=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(St,Te){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var ke=St.x,Ae=St.y,xe,Se,Fe=Object.keys(this.oCoords),Ie=Fe.length-1,Me;for(this.__corner=0;Ie>=0;Ie--)if(Me=Fe[Ie],!!this.isControlVisible(Me)&&(Se=this._getImageLines(Te?this.oCoords[Me].touchCorner:this.oCoords[Me].corner),xe=this._findCrossPoints({x:ke,y:Ae},Se),xe!==0&&xe%2===1))return this.__corner=Me,Me;return!1},forEachControl:function(St){for(var Te in this.controls)St(this.controls[Te],Te,this)},_setCornerCoords:function(){var St=this.oCoords;for(var Te in St){var ke=this.controls[Te];St[Te].corner=ke.calcCornerCoords(this.angle,this.cornerSize,St[Te].x,St[Te].y,!1),St[Te].touchCorner=ke.calcCornerCoords(this.angle,this.touchCornerSize,St[Te].x,St[Te].y,!0)}},drawSelectionBackground:function(St){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;St.save();var Te=this.getCenterPoint(),ke=this._calculateCurrentDimensions(),Ae=this.canvas.viewportTransform;return St.translate(Te.x,Te.y),St.scale(1/Ae[0],1/Ae[3]),St.rotate(Pe(this.angle)),St.fillStyle=this.selectionBackgroundColor,St.fillRect(-ke.x/2,-ke.y/2,ke.x,ke.y),St.restore(),this},drawBorders:function(St,Te){Te=Te||{};var ke=this._calculateCurrentDimensions(),Ae=this.borderScaleFactor,xe=ke.x+Ae,Se=ke.y+Ae,Fe=typeof Te.hasControls<"u"?Te.hasControls:this.hasControls,Ie=!1;return St.save(),St.strokeStyle=Te.borderColor||this.borderColor,this._setLineDash(St,Te.borderDashArray||this.borderDashArray),St.strokeRect(-xe/2,-Se/2,xe,Se),Fe&&(St.beginPath(),this.forEachControl(function(Me,Oe,De){Me.withConnection&&Me.getVisibility(De,Oe)&&(Ie=!0,St.moveTo(Me.x*xe,Me.y*Se),St.lineTo(Me.x*xe+Me.offsetX,Me.y*Se+Me.offsetY))}),Ie&&St.stroke()),St.restore(),this},drawBordersInGroup:function(St,Te,ke){ke=ke||{};var Ae=e.util.sizeAfterTransform(this.width,this.height,Te),xe=this.strokeWidth,Se=this.strokeUniform,Fe=this.borderScaleFactor,Ie=Ae.x+xe*(Se?this.canvas.getZoom():Te.scaleX)+Fe,Me=Ae.y+xe*(Se?this.canvas.getZoom():Te.scaleY)+Fe;return St.save(),this._setLineDash(St,ke.borderDashArray||this.borderDashArray),St.strokeStyle=ke.borderColor||this.borderColor,St.strokeRect(-Ie/2,-Me/2,Ie,Me),St.restore(),this},drawControls:function(St,Te){Te=Te||{},St.save();var ke=this.canvas.getRetinaScaling(),Ae,xe;return St.setTransform(ke,0,0,ke,0,0),St.strokeStyle=St.fillStyle=Te.cornerColor||this.cornerColor,this.transparentCorners||(St.strokeStyle=Te.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(St,Te.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(Ae=this.group.calcTransformMatrix()),this.forEachControl(function(Se,Fe,Ie){xe=Ie.oCoords[Fe],Se.getVisibility(Ie,Fe)&&(Ae&&(xe=e.util.transformPoint(xe,Ae)),Se.render(St,xe.x,xe.y,Te,Ie))}),St.restore(),this},isControlVisible:function(St){return this.controls[St]&&this.controls[St].getVisibility(this,St)},setControlVisible:function(St,Te){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[St]=Te,this},setControlsVisibility:function(St){St||(St={});for(var Te in St)this.setControlVisible(Te,St[Te]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(Pe,St){St=St||{};var Te=function(){},ke=St.onComplete||Te,Ae=St.onChange||Te,xe=this;return e.util.animate({target:this,startValue:Pe.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(Se){Pe.set("left",Se),xe.requestRenderAll(),Ae()},onComplete:function(){Pe.setCoords(),ke()}})},fxCenterObjectV:function(Pe,St){St=St||{};var Te=function(){},ke=St.onComplete||Te,Ae=St.onChange||Te,xe=this;return e.util.animate({target:this,startValue:Pe.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(Se){Pe.set("top",Se),xe.requestRenderAll(),Ae()},onComplete:function(){Pe.setCoords(),ke()}})},fxRemove:function(Pe,St){St=St||{};var Te=function(){},ke=St.onComplete||Te,Ae=St.onChange||Te,xe=this;return e.util.animate({target:this,startValue:Pe.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(Se){Pe.set("opacity",Se),xe.requestRenderAll(),Ae()},onComplete:function(){xe.remove(Pe),ke()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var Pe=[],St,Te,ke=[];for(St in arguments[0])Pe.push(St);for(var Ae=0,xe=Pe.length;Ae<xe;Ae++)St=Pe[Ae],Te=Ae!==xe-1,ke.push(this._animate(St,arguments[0][St],arguments[1],Te));return ke}else return this._animate.apply(this,arguments)},_animate:function(Pe,St,Te,ke){var Ae=this,xe;St=St.toString(),Te?Te=e.util.object.clone(Te):Te={},~Pe.indexOf(".")&&(xe=Pe.split("."));var Se=Ae.colorProperties.indexOf(Pe)>-1||xe&&Ae.colorProperties.indexOf(xe[1])>-1,Fe=xe?this.get(xe[0])[xe[1]]:this.get(Pe);"from"in Te||(Te.from=Fe),Se||(~St.indexOf("=")?St=Fe+parseFloat(St.replace("=","")):St=parseFloat(St));var Ie={target:this,startValue:Te.from,endValue:St,byValue:Te.by,easing:Te.easing,duration:Te.duration,abort:Te.abort&&function(Me,Oe,De){return Te.abort.call(Ae,Me,Oe,De)},onChange:function(Me,Oe,De){xe?Ae[xe[0]][xe[1]]=Me:Ae.set(Pe,Me),!ke&&Te.onChange&&Te.onChange(Me,Oe,De)},onComplete:function(Me,Oe,De){ke||(Ae.setCoords(),Te.onComplete&&Te.onComplete(Me,Oe,De))}};return Se?e.util.animateColor(Ie.startValue,Ie.endValue,Ie.duration,Ie):e.util.animate(Ie)}}),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.object.extend,ke=St.util.object.clone,Ae={x1:1,x2:1,y1:1,y2:1};if(St.Line){St.warn("fabric.Line is already defined");return}St.Line=St.util.createClass(St.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:St.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(Se,Fe){Se||(Se=[0,0,0,0]),this.callSuper("initialize",Fe),this.set("x1",Se[0]),this.set("y1",Se[1]),this.set("x2",Se[2]),this.set("y2",Se[3]),this._setWidthHeight(Fe)},_setWidthHeight:function(Se){Se||(Se={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in Se?Se.left:this._getLeftToOriginX(),this.top="top"in Se?Se.top:this._getTopToOriginY()},_set:function(Se,Fe){return this.callSuper("_set",Se,Fe),typeof Ae[Se]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:xe({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:xe({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(Se){Se.beginPath();var Fe=this.calcLinePoints();Se.moveTo(Fe.x1,Fe.y1),Se.lineTo(Fe.x2,Fe.y2),Se.lineWidth=this.strokeWidth;var Ie=Se.strokeStyle;Se.strokeStyle=this.stroke||Se.fillStyle,this.stroke&&this._renderStroke(Se),Se.strokeStyle=Ie},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(Se){return Te(this.callSuper("toObject",Se),this.calcLinePoints())},_getNonTransformedDimensions:function(){var Se=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(Se.y-=this.strokeWidth),this.height===0&&(Se.x-=this.strokeWidth)),Se},calcLinePoints:function(){var Se=this.x1<=this.x2?-1:1,Fe=this.y1<=this.y2?-1:1,Ie=Se*this.width*.5,Me=Fe*this.height*.5,Oe=Se*this.width*-.5,De=Fe*this.height*-.5;return{x1:Ie,x2:Oe,y1:Me,y2:De}},_toSVG:function(){var Se=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',Se.x1,'" y1="',Se.y1,'" x2="',Se.x2,'" y2="',Se.y2,`" />
`]}}),St.Line.ATTRIBUTE_NAMES=St.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),St.Line.fromElement=function(Se,Fe,Ie){Ie=Ie||{};var Me=St.parseAttributes(Se,St.Line.ATTRIBUTE_NAMES),Oe=[Me.x1||0,Me.y1||0,Me.x2||0,Me.y2||0];Fe(new St.Line(Oe,Te(Me,Ie)))},St.Line.fromObject=function(Se,Fe){function Ie(Oe){delete Oe.points,Fe&&Fe(Oe)}var Me=ke(Se,!0);Me.points=[Se.x1,Se.y1,Se.x2,Se.y2],St.Object._fromObject("Line",Me,Ie,"points")};function xe(Se,Fe){var Ie=Se.origin,Me=Se.axis1,Oe=Se.axis2,De=Se.dimension,Be=Fe.nearest,je=Fe.center,ze=Fe.farthest;return function(){switch(this.get(Ie)){case Be:return Math.min(this.get(Me),this.get(Oe));case je:return Math.min(this.get(Me),this.get(Oe))+.5*this.get(De);case ze:return Math.max(this.get(Me),this.get(Oe))}}}}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.degreesToRadians;if(St.Circle){St.warn("fabric.Circle is already defined.");return}St.Circle=St.util.createClass(St.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:St.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(Ae,xe){return this.callSuper("_set",Ae,xe),Ae==="radius"&&this.setRadius(xe),this},toObject:function(Ae){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(Ae))},_toSVG:function(){var Ae,xe=0,Se=0,Fe=(this.endAngle-this.startAngle)%360;if(Fe===0)Ae=["<circle ","COMMON_PARTS",'cx="'+xe+'" cy="'+Se+'" ','r="',this.radius,`" />
`];else{var Ie=Te(this.startAngle),Me=Te(this.endAngle),Oe=this.radius,De=St.util.cos(Ie)*Oe,Be=St.util.sin(Ie)*Oe,je=St.util.cos(Me)*Oe,ze=St.util.sin(Me)*Oe,Ge=Fe>180?"1":"0";Ae=['<path d="M '+De+" "+Be," A "+Oe+" "+Oe," 0 ",+Ge+" 1"," "+je+" "+ze,'" ',"COMMON_PARTS",` />
`]}return Ae},_render:function(Ae){Ae.beginPath(),Ae.arc(0,0,this.radius,Te(this.startAngle),Te(this.endAngle),!1),this._renderPaintInOrder(Ae)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(Ae){return this.radius=Ae,this.set("width",Ae*2).set("height",Ae*2)}}),St.Circle.ATTRIBUTE_NAMES=St.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),St.Circle.fromElement=function(Ae,xe){var Se=St.parseAttributes(Ae,St.Circle.ATTRIBUTE_NAMES);if(!ke(Se))throw new Error("value of `r` attribute is required and can not be negative");Se.left=(Se.left||0)-Se.radius,Se.top=(Se.top||0)-Se.radius,xe(new St.Circle(Se))};function ke(Ae){return"radius"in Ae&&Ae.radius>=0}St.Circle.fromObject=function(Ae,xe){St.Object._fromObject("Circle",Ae,xe)}}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={});if(St.Triangle){St.warn("fabric.Triangle is already defined");return}St.Triangle=St.util.createClass(St.Object,{type:"triangle",width:100,height:100,_render:function(Te){var ke=this.width/2,Ae=this.height/2;Te.beginPath(),Te.moveTo(-ke,Ae),Te.lineTo(0,-Ae),Te.lineTo(ke,Ae),Te.closePath(),this._renderPaintInOrder(Te)},_toSVG:function(){var Te=this.width/2,ke=this.height/2,Ae=[-Te+" "+ke,"0 "+-ke,Te+" "+ke].join(",");return["<polygon ","COMMON_PARTS",'points="',Ae,'" />']}}),St.Triangle.fromObject=function(Te,ke){return St.Object._fromObject("Triangle",Te,ke)}}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=Math.PI*2;if(St.Ellipse){St.warn("fabric.Ellipse is already defined.");return}St.Ellipse=St.util.createClass(St.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:St.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(ke){this.callSuper("initialize",ke),this.set("rx",ke&&ke.rx||0),this.set("ry",ke&&ke.ry||0)},_set:function(ke,Ae){switch(this.callSuper("_set",ke,Ae),ke){case"rx":this.rx=Ae,this.set("width",Ae*2);break;case"ry":this.ry=Ae,this.set("height",Ae*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(ke){return this.callSuper("toObject",["rx","ry"].concat(ke))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(ke){ke.beginPath(),ke.save(),ke.transform(1,0,0,this.ry/this.rx,0,0),ke.arc(0,0,this.rx,0,Te,!1),ke.restore(),this._renderPaintInOrder(ke)}}),St.Ellipse.ATTRIBUTE_NAMES=St.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),St.Ellipse.fromElement=function(ke,Ae){var xe=St.parseAttributes(ke,St.Ellipse.ATTRIBUTE_NAMES);xe.left=(xe.left||0)-xe.rx,xe.top=(xe.top||0)-xe.ry,Ae(new St.Ellipse(xe))},St.Ellipse.fromObject=function(ke,Ae){St.Object._fromObject("Ellipse",ke,Ae)}}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.object.extend;if(St.Rect){St.warn("fabric.Rect is already defined");return}St.Rect=St.util.createClass(St.Object,{stateProperties:St.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:St.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(ke){this.callSuper("initialize",ke),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(ke){var Ae=this.rx?Math.min(this.rx,this.width/2):0,xe=this.ry?Math.min(this.ry,this.height/2):0,Se=this.width,Fe=this.height,Ie=-this.width/2,Me=-this.height/2,Oe=Ae!==0||xe!==0,De=1-.5522847498;ke.beginPath(),ke.moveTo(Ie+Ae,Me),ke.lineTo(Ie+Se-Ae,Me),Oe&&ke.bezierCurveTo(Ie+Se-De*Ae,Me,Ie+Se,Me+De*xe,Ie+Se,Me+xe),ke.lineTo(Ie+Se,Me+Fe-xe),Oe&&ke.bezierCurveTo(Ie+Se,Me+Fe-De*xe,Ie+Se-De*Ae,Me+Fe,Ie+Se-Ae,Me+Fe),ke.lineTo(Ie+Ae,Me+Fe),Oe&&ke.bezierCurveTo(Ie+De*Ae,Me+Fe,Ie,Me+Fe-De*xe,Ie,Me+Fe-xe),ke.lineTo(Ie,Me+xe),Oe&&ke.bezierCurveTo(Ie,Me+De*xe,Ie+De*Ae,Me,Ie+Ae,Me),ke.closePath(),this._renderPaintInOrder(ke)},toObject:function(ke){return this.callSuper("toObject",["rx","ry"].concat(ke))},_toSVG:function(){var ke=-this.width/2,Ae=-this.height/2;return["<rect ","COMMON_PARTS",'x="',ke,'" y="',Ae,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),St.Rect.ATTRIBUTE_NAMES=St.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),St.Rect.fromElement=function(ke,Ae,xe){if(!ke)return Ae(null);xe=xe||{};var Se=St.parseAttributes(ke,St.Rect.ATTRIBUTE_NAMES);Se.left=Se.left||0,Se.top=Se.top||0,Se.height=Se.height||0,Se.width=Se.width||0;var Fe=new St.Rect(Te(xe?St.util.object.clone(xe):{},Se));Fe.visible=Fe.visible&&Fe.width>0&&Fe.height>0,Ae(Fe)},St.Rect.fromObject=function(ke,Ae){return St.Object._fromObject("Rect",ke,Ae)}}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.object.extend,ke=St.util.array.min,Ae=St.util.array.max,xe=St.util.toFixed,Se=St.util.projectStrokeOnPoints;if(St.Polyline){St.warn("fabric.Polyline is already defined");return}St.Polyline=St.util.createClass(St.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:St.Object.prototype.cacheProperties.concat("points"),initialize:function(Fe,Ie){Ie=Ie||{},this.points=Fe||[],this.callSuper("initialize",Ie),this._setPositionDimensions(Ie)},_projectStrokeOnPoints:function(){return Se(this.points,this,!0)},_setPositionDimensions:function(Fe){var Ie=this._calcDimensions(Fe),Me,Oe=this.exactBoundingBox?this.strokeWidth:0;this.width=Ie.width-Oe,this.height=Ie.height-Oe,Fe.fromSVG||(Me=this.translateToGivenOrigin({x:Ie.left-this.strokeWidth/2+Oe/2,y:Ie.top-this.strokeWidth/2+Oe/2},"left","top",this.originX,this.originY)),typeof Fe.left>"u"&&(this.left=Fe.fromSVG?Ie.left:Me.x),typeof Fe.top>"u"&&(this.top=Fe.fromSVG?Ie.top:Me.y),this.pathOffset={x:Ie.left+this.width/2+Oe/2,y:Ie.top+this.height/2+Oe/2}},_calcDimensions:function(){var Fe=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,Ie=ke(Fe,"x")||0,Me=ke(Fe,"y")||0,Oe=Ae(Fe,"x")||0,De=Ae(Fe,"y")||0,Be=Oe-Ie,je=De-Me;return{left:Ie,top:Me,width:Be,height:je}},toObject:function(Fe){return Te(this.callSuper("toObject",Fe),{points:this.points.concat()})},_toSVG:function(){for(var Fe=[],Ie=this.pathOffset.x,Me=this.pathOffset.y,Oe=St.Object.NUM_FRACTION_DIGITS,De=0,Be=this.points.length;De<Be;De++)Fe.push(xe(this.points[De].x-Ie,Oe),",",xe(this.points[De].y-Me,Oe)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',Fe.join(""),`" />
`]},commonRender:function(Fe){var Ie,Me=this.points.length,Oe=this.pathOffset.x,De=this.pathOffset.y;if(!Me||isNaN(this.points[Me-1].y))return!1;Fe.beginPath(),Fe.moveTo(this.points[0].x-Oe,this.points[0].y-De);for(var Be=0;Be<Me;Be++)Ie=this.points[Be],Fe.lineTo(Ie.x-Oe,Ie.y-De);return!0},_render:function(Fe){!this.commonRender(Fe)||this._renderPaintInOrder(Fe)},complexity:function(){return this.get("points").length}}),St.Polyline.ATTRIBUTE_NAMES=St.SHARED_ATTRIBUTES.concat(),St.Polyline.fromElementGenerator=function(Fe){return function(Ie,Me,Oe){if(!Ie)return Me(null);Oe||(Oe={});var De=St.parsePointsAttribute(Ie.getAttribute("points")),Be=St.parseAttributes(Ie,St[Fe].ATTRIBUTE_NAMES);Be.fromSVG=!0,Me(new St[Fe](De,Te(Be,Oe)))}},St.Polyline.fromElement=St.Polyline.fromElementGenerator("Polyline"),St.Polyline.fromObject=function(Fe,Ie){return St.Object._fromObject("Polyline",Fe,Ie,"points")}}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.projectStrokeOnPoints;if(St.Polygon){St.warn("fabric.Polygon is already defined");return}St.Polygon=St.util.createClass(St.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return Te(this.points,this)},_render:function(ke){!this.commonRender(ke)||(ke.closePath(),this._renderPaintInOrder(ke))}}),St.Polygon.ATTRIBUTE_NAMES=St.SHARED_ATTRIBUTES.concat(),St.Polygon.fromElement=St.Polyline.fromElementGenerator("Polygon"),St.Polygon.fromObject=function(ke,Ae){St.Object._fromObject("Polygon",ke,Ae,"points")}}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.array.min,ke=St.util.array.max,Ae=St.util.object.extend,xe=St.util.object.clone,Se=St.util.toFixed;if(St.Path){St.warn("fabric.Path is already defined");return}St.Path=St.util.createClass(St.Object,{type:"path",path:null,cacheProperties:St.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:St.Object.prototype.stateProperties.concat("path"),initialize:function(Fe,Ie){Ie=xe(Ie||{}),delete Ie.path,this.callSuper("initialize",Ie),this._setPath(Fe||[],Ie)},_setPath:function(Fe,Ie){this.path=St.util.makePathSimpler(Array.isArray(Fe)?Fe:St.util.parsePath(Fe)),St.Polyline.prototype._setPositionDimensions.call(this,Ie||{})},_renderPathCommands:function(Fe){var Ie,Me=0,Oe=0,De=0,Be=0,je=0,ze=0,Ge=-this.pathOffset.x,We=-this.pathOffset.y;Fe.beginPath();for(var Ue=0,hr=this.path.length;Ue<hr;++Ue)switch(Ie=this.path[Ue],Ie[0]){case"L":De=Ie[1],Be=Ie[2],Fe.lineTo(De+Ge,Be+We);break;case"M":De=Ie[1],Be=Ie[2],Me=De,Oe=Be,Fe.moveTo(De+Ge,Be+We);break;case"C":De=Ie[5],Be=Ie[6],je=Ie[3],ze=Ie[4],Fe.bezierCurveTo(Ie[1]+Ge,Ie[2]+We,je+Ge,ze+We,De+Ge,Be+We);break;case"Q":Fe.quadraticCurveTo(Ie[1]+Ge,Ie[2]+We,Ie[3]+Ge,Ie[4]+We),De=Ie[3],Be=Ie[4],je=Ie[1],ze=Ie[2];break;case"z":case"Z":De=Me,Be=Oe,Fe.closePath();break}},_render:function(Fe){this._renderPathCommands(Fe),this._renderPaintInOrder(Fe)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(Fe){return Ae(this.callSuper("toObject",Fe),{path:this.path.map(function(Ie){return Ie.slice()})})},toDatalessObject:function(Fe){var Ie=this.toObject(["sourcePath"].concat(Fe));return Ie.sourcePath&&delete Ie.path,Ie},_toSVG:function(){var Fe=St.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',Fe,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var Fe=St.Object.NUM_FRACTION_DIGITS;return" translate("+Se(-this.pathOffset.x,Fe)+", "+Se(-this.pathOffset.y,Fe)+")"},toClipPathSVG:function(Fe){var Ie=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:Fe,additionalTransform:Ie})},toSVG:function(Fe){var Ie=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:Fe,additionalTransform:Ie})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var Fe=[],Ie=[],Me,Oe=0,De=0,Be=0,je=0,ze,Ge=0,We=this.path.length;Ge<We;++Ge){switch(Me=this.path[Ge],Me[0]){case"L":Be=Me[1],je=Me[2],ze=[];break;case"M":Be=Me[1],je=Me[2],Oe=Be,De=je,ze=[];break;case"C":ze=St.util.getBoundsOfCurve(Be,je,Me[1],Me[2],Me[3],Me[4],Me[5],Me[6]),Be=Me[5],je=Me[6];break;case"Q":ze=St.util.getBoundsOfCurve(Be,je,Me[1],Me[2],Me[1],Me[2],Me[3],Me[4]),Be=Me[3],je=Me[4];break;case"z":case"Z":Be=Oe,je=De;break}ze.forEach(function(gr){Fe.push(gr.x),Ie.push(gr.y)}),Fe.push(Be),Ie.push(je)}var Ue=Te(Fe)||0,hr=Te(Ie)||0,xr=ke(Fe)||0,rr=ke(Ie)||0,er=xr-Ue,vr=rr-hr;return{left:Ue,top:hr,width:er,height:vr}}}),St.Path.fromObject=function(Fe,Ie){if(typeof Fe.sourcePath=="string"){var Me=Fe.sourcePath;St.loadSVGFromURL(Me,function(Oe){var De=Oe[0];De.setOptions(Fe),Fe.clipPath?St.util.enlivenObjects([Fe.clipPath],function(Be){De.clipPath=Be[0],Ie&&Ie(De)}):Ie&&Ie(De)})}else St.Object._fromObject("Path",Fe,Ie,"path")},St.Path.ATTRIBUTE_NAMES=St.SHARED_ATTRIBUTES.concat(["d"]),St.Path.fromElement=function(Fe,Ie,Me){var Oe=St.parseAttributes(Fe,St.Path.ATTRIBUTE_NAMES);Oe.fromSVG=!0,Ie(new St.Path(Oe.d,Ae(Oe,Me)))}}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.array.min,ke=St.util.array.max;St.Group||(St.Group=St.util.createClass(St.Object,St.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(Ae,xe,Se){xe=xe||{},this._objects=[],Se&&this.callSuper("initialize",xe),this._objects=Ae||[];for(var Fe=this._objects.length;Fe--;)this._objects[Fe].group=this;if(Se)this._updateObjectsACoords();else{var Ie=xe&&xe.centerPoint;xe.originX!==void 0&&(this.originX=xe.originX),xe.originY!==void 0&&(this.originY=xe.originY),Ie||this._calcBounds(),this._updateObjectsCoords(Ie),delete xe.centerPoint,this.callSuper("initialize",xe)}this.setCoords()},_updateObjectsACoords:function(){for(var Ae=!0,xe=this._objects.length;xe--;)this._objects[xe].setCoords(Ae)},_updateObjectsCoords:function(xe){for(var xe=xe||this.getCenterPoint(),Se=this._objects.length;Se--;)this._updateObjectCoords(this._objects[Se],xe)},_updateObjectCoords:function(Ae,xe){var Se=Ae.left,Fe=Ae.top,Ie=!0;Ae.set({left:Se-xe.x,top:Fe-xe.y}),Ae.group=this,Ae.setCoords(Ie)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(Ae){var xe=!!this.group;return this._restoreObjectsState(),St.util.resetObjectTransform(this),Ae&&(xe&&St.util.removeTransformFromObject(Ae,this.group.calcTransformMatrix()),this._objects.push(Ae),Ae.group=this,Ae._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,xe?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(Ae){return this._restoreObjectsState(),St.util.resetObjectTransform(this),this.remove(Ae),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(Ae){this.dirty=!0,Ae.group=this,Ae._set("canvas",this.canvas)},_onObjectRemoved:function(Ae){this.dirty=!0,delete Ae.group},_set:function(Ae,xe){var Se=this._objects.length;if(this.useSetOnGroup)for(;Se--;)this._objects[Se].setOnGroup(Ae,xe);if(Ae==="canvas")for(;Se--;)this._objects[Se]._set(Ae,xe);St.Object.prototype._set.call(this,Ae,xe)},toObject:function(Ae){var xe=this.includeDefaultValues,Se=this._objects.filter(function(Ie){return!Ie.excludeFromExport}).map(function(Ie){var Me=Ie.includeDefaultValues;Ie.includeDefaultValues=xe;var Oe=Ie.toObject(Ae);return Ie.includeDefaultValues=Me,Oe}),Fe=St.Object.prototype.toObject.call(this,Ae);return Fe.objects=Se,Fe},toDatalessObject:function(Ae){var xe,Se=this.sourcePath;if(Se)xe=Se;else{var Fe=this.includeDefaultValues;xe=this._objects.map(function(Me){var Oe=Me.includeDefaultValues;Me.includeDefaultValues=Fe;var De=Me.toDatalessObject(Ae);return Me.includeDefaultValues=Oe,De})}var Ie=St.Object.prototype.toDatalessObject.call(this,Ae);return Ie.objects=xe,Ie},render:function(Ae){this._transformDone=!0,this.callSuper("render",Ae),this._transformDone=!1},shouldCache:function(){var Ae=St.Object.prototype.shouldCache.call(this);if(Ae){for(var xe=0,Se=this._objects.length;xe<Se;xe++)if(this._objects[xe].willDrawShadow())return this.ownCaching=!1,!1}return Ae},willDrawShadow:function(){if(St.Object.prototype.willDrawShadow.call(this))return!0;for(var Ae=0,xe=this._objects.length;Ae<xe;Ae++)if(this._objects[Ae].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(Ae){for(var xe=0,Se=this._objects.length;xe<Se;xe++)this._objects[xe].render(Ae);this._drawClipPath(Ae,this.clipPath)},isCacheDirty:function(Ae){if(this.callSuper("isCacheDirty",Ae))return!0;if(!this.statefullCache)return!1;for(var xe=0,Se=this._objects.length;xe<Se;xe++)if(this._objects[xe].isCacheDirty(!0)){if(this._cacheCanvas){var Fe=this.cacheWidth/this.zoomX,Ie=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-Fe/2,-Ie/2,Fe,Ie)}return!0}return!1},_restoreObjectsState:function(){var Ae=this.calcOwnMatrix();return this._objects.forEach(function(xe){St.util.addTransformToObject(xe,Ae),delete xe.group,xe.setCoords()}),this},destroy:function(){return this._objects.forEach(function(Ae){Ae.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(Ae){Ae.dispose&&Ae.dispose()}),this._objects=[]},toActiveSelection:function(){if(!!this.canvas){var Ae=this._objects,xe=this.canvas;this._objects=[];var Se=this.toObject();delete Se.objects;var Fe=new St.ActiveSelection([]);return Fe.set(Se),Fe.type="activeSelection",xe.remove(this),Ae.forEach(function(Ie){Ie.group=Fe,Ie.dirty=!0,xe.add(Ie)}),Fe.canvas=xe,Fe._objects=Ae,xe._activeObject=Fe,Fe.setCoords(),Fe}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var Ae=!0;return this.forEachObject(function(xe){xe.setCoords(Ae)}),this},_calcBounds:function(Ae){for(var xe=[],Se=[],Fe,Ie,Me,Oe=["tr","br","bl","tl"],De=0,Be=this._objects.length,je,ze=Oe.length;De<Be;++De){for(Fe=this._objects[De],Me=Fe.calcACoords(),je=0;je<ze;je++)Ie=Oe[je],xe.push(Me[Ie].x),Se.push(Me[Ie].y);Fe.aCoords=Me}this._getBounds(xe,Se,Ae)},_getBounds:function(Ae,xe,Se){var Fe=new St.Point(Te(Ae),Te(xe)),Ie=new St.Point(ke(Ae),ke(xe)),Me=Fe.y||0,Oe=Fe.x||0,De=Ie.x-Fe.x||0,Be=Ie.y-Fe.y||0;this.width=De,this.height=Be,Se||this.setPositionByOrigin({x:Oe,y:Me},"left","top")},_toSVG:function(Ae){for(var xe=["<g ","COMMON_PARTS",` >
`],Se=0,Fe=this._objects.length;Se<Fe;Se++)xe.push("		",this._objects[Se].toSVG(Ae));return xe.push(`</g>
`),xe},getSvgStyles:function(){var Ae=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",xe=this.visible?"":" visibility: hidden;";return[Ae,this.getSvgFilter(),xe].join("")},toClipPathSVG:function(Ae){for(var xe=[],Se=0,Fe=this._objects.length;Se<Fe;Se++)xe.push("	",this._objects[Se].toClipPathSVG(Ae));return this._createBaseClipPathSVGMarkup(xe,{reviver:Ae})}}),St.Group.fromObject=function(Ae,xe){var Se=Ae.objects,Fe=St.util.object.clone(Ae,!0);if(delete Fe.objects,typeof Se=="string"){St.loadSVGFromURL(Se,function(Ie){var Me=St.util.groupSVGElements(Ie,Ae,Se),Oe=Fe.clipPath;delete Fe.clipPath,Me.set(Fe),Oe?St.util.enlivenObjects([Oe],function(De){Me.clipPath=De[0],xe&&xe(Me)}):xe&&xe(Me)});return}St.util.enlivenObjects(Se,function(Ie){St.util.enlivenObjectEnlivables(Ae,Fe,function(){xe&&xe(new St.Group(Ie,Fe,!0))})})})}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={});St.ActiveSelection||(St.ActiveSelection=St.util.createClass(St.Group,{type:"activeSelection",initialize:function(Te,ke){ke=ke||{},this._objects=Te||[];for(var Ae=this._objects.length;Ae--;)this._objects[Ae].group=this;ke.originX&&(this.originX=ke.originX),ke.originY&&(this.originY=ke.originY),this._calcBounds(),this._updateObjectsCoords(),St.Object.prototype.initialize.call(this,ke),this.setCoords()},toGroup:function(){var Te=this._objects.concat();this._objects=[];var ke=St.Object.prototype.toObject.call(this),Ae=new St.Group([]);if(delete ke.type,Ae.set(ke),Te.forEach(function(Se){Se.canvas.remove(Se),Se.group=Ae}),Ae._objects=Te,!this.canvas)return Ae;var xe=this.canvas;return xe.add(Ae),xe._activeObject=Ae,Ae.setCoords(),Ae},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(Te,ke,Ae){Te.save(),Te.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",Te,ke),Ae=Ae||{},typeof Ae.hasControls>"u"&&(Ae.hasControls=!1),Ae.forActiveSelection=!0;for(var xe=0,Se=this._objects.length;xe<Se;xe++)this._objects[xe]._renderControls(Te,Ae);Te.restore()}}),St.ActiveSelection.fromObject=function(Te,ke){St.util.enlivenObjects(Te.objects,function(Ae){delete Te.objects,ke&&ke(new St.ActiveSelection(Ae,Te,!0))})})}(t),function(Pe){var St=e.util.object.extend;if(Pe.fabric||(Pe.fabric={}),Pe.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(Te,ke){ke||(ke={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",ke),this._initElement(Te,ke)},getElement:function(){return this._element||{}},setElement:function(Te,ke){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=Te,this._originalElement=Te,this._initConfig(ke),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(Te){var ke=e.filterBackend;ke&&ke.evictCachesForKey&&ke.evictCachesForKey(Te)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(Te){e.util.cleanUpJsdomNode(this[Te]),this[Te]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var Te=this.getElement();return{width:Te.naturalWidth||Te.width,height:Te.naturalHeight||Te.height}},_stroke:function(Te){if(!(!this.stroke||this.strokeWidth===0)){var ke=this.width/2,Ae=this.height/2;Te.beginPath(),Te.moveTo(-ke,-Ae),Te.lineTo(ke,-Ae),Te.lineTo(ke,Ae),Te.lineTo(-ke,Ae),Te.lineTo(-ke,-Ae),Te.closePath()}},toObject:function(Te){var ke=[];this.filters.forEach(function(xe){xe&&ke.push(xe.toObject())});var Ae=St(this.callSuper("toObject",["cropX","cropY"].concat(Te)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:ke});return this.resizeFilter&&(Ae.resizeFilter=this.resizeFilter.toObject()),Ae},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var Te=[],ke=[],Ae,xe=this._element,Se=-this.width/2,Fe=-this.height/2,Ie="",Me="";if(!xe)return[];if(this.hasCrop()){var Oe=e.Object.__uid++;Te.push('<clipPath id="imageCrop_'+Oe+`">
`,'	<rect x="'+Se+'" y="'+Fe+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),Ie=' clip-path="url(#imageCrop_'+Oe+')" '}if(this.imageSmoothing||(Me='" image-rendering="optimizeSpeed'),ke.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',Se-this.cropX,'" y="',Fe-this.cropY,'" width="',xe.width||xe.naturalWidth,'" height="',xe.height||xe.height,Me,'"',Ie,`></image>
`),this.stroke||this.strokeDashArray){var De=this.fill;this.fill=null,Ae=["	<rect ",'x="',Se,'" y="',Fe,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=De}return this.paintFirst!=="fill"?Te=Te.concat(Ae,ke):Te=Te.concat(ke,Ae),Te},getSrc:function(Te){var ke=Te?this._element:this._originalElement;return ke?ke.toDataURL?ke.toDataURL():this.srcFromAttribute?ke.getAttribute("src"):ke.src:this.src||""},setSrc:function(Te,ke,Ae){return e.util.loadImage(Te,function(xe,Se){this.setElement(xe,Ae),this._setWidthHeight(),ke&&ke(this,Se)},this,Ae&&Ae.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var Te=this.resizeFilter,ke=this.minimumScaleTrigger,Ae=this.getTotalObjectScaling(),xe=Ae.scaleX,Se=Ae.scaleY,Fe=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!Te||xe>ke&&Se>ke){this._element=Fe,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=xe,this._lastScaleY=Se;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var Ie=e.util.createCanvasElement(),Me=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,Oe=Fe.width,De=Fe.height;Ie.width=Oe,Ie.height=De,this._element=Ie,this._lastScaleX=Te.scaleX=xe,this._lastScaleY=Te.scaleY=Se,e.filterBackend.applyFilters([Te],Fe,Oe,De,this._element,Me),this._filterScalingX=Ie.width/this._originalElement.width,this._filterScalingY=Ie.height/this._originalElement.height},applyFilters:function(Te){if(Te=Te||this.filters||[],Te=Te.filter(function(Fe){return Fe&&!Fe.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),Te.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var ke=this._originalElement,Ae=ke.naturalWidth||ke.width,xe=ke.naturalHeight||ke.height;if(this._element===this._originalElement){var Se=e.util.createCanvasElement();Se.width=Ae,Se.height=xe,this._element=Se,this._filteredEl=Se}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,Ae,xe),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(Te,this._originalElement,Ae,xe,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(Te){e.util.setImageSmoothing(Te,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(Te),this._renderPaintInOrder(Te)},drawCacheOnCanvas:function(Te){e.util.setImageSmoothing(Te,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,Te)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(Te){var ke=this._element;if(!!ke){var Ae=this._filterScalingX,xe=this._filterScalingY,Se=this.width,Fe=this.height,Ie=Math.min,Me=Math.max,Oe=Me(this.cropX,0),De=Me(this.cropY,0),Be=ke.naturalWidth||ke.width,je=ke.naturalHeight||ke.height,ze=Oe*Ae,Ge=De*xe,We=Ie(Se*Ae,Be-ze),Ue=Ie(Fe*xe,je-Ge),hr=-Se/2,xr=-Fe/2,rr=Ie(Se,Be/Ae-Oe),er=Ie(Fe,je/xe-De);ke&&Te.drawImage(ke,ze,Ge,We,Ue,hr,xr,rr,er)}},_needsResize:function(){var Te=this.getTotalObjectScaling();return Te.scaleX!==this._lastScaleX||Te.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(Te,ke){this.setElement(e.util.getById(Te),ke),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(Te){Te||(Te={}),this.setOptions(Te),this._setWidthHeight(Te)},_initFilters:function(Te,ke){Te&&Te.length?e.util.enlivenObjects(Te,function(Ae){ke&&ke(Ae)},"fabric.Image.filters"):ke&&ke()},_setWidthHeight:function(Te){Te||(Te={});var ke=this.getElement();this.width=Te.width||ke.naturalWidth||ke.width||0,this.height=Te.height||ke.naturalHeight||ke.height||0},parsePreserveAspectRatioAttribute:function(){var Te=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),ke=this._element.width,Ae=this._element.height,xe=1,Se=1,Fe=0,Ie=0,Me=0,Oe=0,De,Be=this.width,je=this.height,ze={width:Be,height:je};return Te&&(Te.alignX!=="none"||Te.alignY!=="none")?(Te.meetOrSlice==="meet"&&(xe=Se=e.util.findScaleToFit(this._element,ze),De=(Be-ke*xe)/2,Te.alignX==="Min"&&(Fe=-De),Te.alignX==="Max"&&(Fe=De),De=(je-Ae*Se)/2,Te.alignY==="Min"&&(Ie=-De),Te.alignY==="Max"&&(Ie=De)),Te.meetOrSlice==="slice"&&(xe=Se=e.util.findScaleToCover(this._element,ze),De=ke-Be/xe,Te.alignX==="Mid"&&(Me=De/2),Te.alignX==="Max"&&(Me=De),De=Ae-je/Se,Te.alignY==="Mid"&&(Oe=De/2),Te.alignY==="Max"&&(Oe=De),ke=Be/xe,Ae=je/Se)):(xe=Be/ke,Se=je/Ae),{width:ke,height:Ae,scaleX:xe,scaleY:Se,offsetLeft:Fe,offsetTop:Ie,cropX:Me,cropY:Oe}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(Te,ke){var Ae=e.util.object.clone(Te);e.util.loadImage(Ae.src,function(xe,Se){if(Se){ke&&ke(null,!0);return}e.Image.prototype._initFilters.call(Ae,Ae.filters,function(Fe){Ae.filters=Fe||[],e.Image.prototype._initFilters.call(Ae,[Ae.resizeFilter],function(Ie){Ae.resizeFilter=Ie[0],e.util.enlivenObjectEnlivables(Ae,Ae,function(){var Me=new e.Image(xe,Ae);ke(Me,!1)})})})},null,Ae.crossOrigin)},e.Image.fromURL=function(Te,ke,Ae){e.util.loadImage(Te,function(xe,Se){ke&&ke(new e.Image(xe,Ae),Se)},null,Ae&&Ae.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(Te,ke,Ae){var xe=e.parseAttributes(Te,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(xe["xlink:href"],ke,St(Ae?e.util.object.clone(Ae):{},xe))}}(t),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var Pe=this.angle%360;return Pe>0?Math.round((Pe-1)/90)*90:Math.round(Pe/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(Pe){Pe=Pe||{};var St=function(){},Te=Pe.onComplete||St,ke=Pe.onChange||St,Ae=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(xe){Ae.rotate(xe),ke()},onComplete:function(){Ae.setCoords(),Te()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(Pe){return Pe.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(Pe){return Pe.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function Pe(Te,ke){var Ae="precision "+ke+` float;
void main(){}`,xe=Te.createShader(Te.FRAGMENT_SHADER);return Te.shaderSource(xe,Ae),Te.compileShader(xe),!!Te.getShaderParameter(xe,Te.COMPILE_STATUS)}e.isWebglSupported=function(Te){if(e.isLikelyNode)return!1;Te=Te||e.WebglFilterBackend.prototype.tileSize;var ke=document.createElement("canvas"),Ae=ke.getContext("webgl")||ke.getContext("experimental-webgl"),xe=!1;if(Ae){e.maxTextureSize=Ae.getParameter(Ae.MAX_TEXTURE_SIZE),xe=e.maxTextureSize>=Te;for(var Se=["highp","mediump","lowp"],Fe=0;Fe<3;Fe++)if(Pe(Ae,Se[Fe])){e.webGlPrecision=Se[Fe];break}}return this.isSupported=xe,xe},e.WebglFilterBackend=St;function St(Te){Te&&Te.tileSize&&(this.tileSize=Te.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}St.prototype={tileSize:2048,resources:{},setupGLContext:function(Te,ke){this.dispose(),this.createWebGLCanvas(Te,ke),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(Te,ke)},chooseFastestCopyGLTo2DMethod:function(Te,ke){var Ae=typeof window.performance<"u",xe;try{new ImageData(1,1),xe=!0}catch{xe=!1}var Se=typeof ArrayBuffer<"u",Fe=typeof Uint8ClampedArray<"u";if(!!(Ae&&xe&&Se&&Fe)){var Ie=e.util.createCanvasElement(),Me=new ArrayBuffer(Te*ke*4);if(e.forceGLPutImageData){this.imageBuffer=Me,this.copyGLTo2D=Re;return}var Oe={imageBuffer:Me,destinationWidth:Te,destinationHeight:ke,targetCanvas:Ie},De,Be,je;Ie.width=Te,Ie.height=ke,De=window.performance.now(),Ee.call(Oe,this.gl,Oe),Be=window.performance.now()-De,De=window.performance.now(),Re.call(Oe,this.gl,Oe),je=window.performance.now()-De,Be>je?(this.imageBuffer=Me,this.copyGLTo2D=Re):this.copyGLTo2D=Ee}},createWebGLCanvas:function(Te,ke){var Ae=e.util.createCanvasElement();Ae.width=Te,Ae.height=ke;var xe={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},Se=Ae.getContext("webgl",xe);Se||(Se=Ae.getContext("experimental-webgl",xe)),Se&&(Se.clearColor(0,0,0,0),this.canvas=Ae,this.gl=Se)},applyFilters:function(Te,ke,Ae,xe,Se,Fe){var Ie=this.gl,Me;Fe&&(Me=this.getCachedTexture(Fe,ke));var Oe={originalWidth:ke.width||ke.originalWidth,originalHeight:ke.height||ke.originalHeight,sourceWidth:Ae,sourceHeight:xe,destinationWidth:Ae,destinationHeight:xe,context:Ie,sourceTexture:this.createTexture(Ie,Ae,xe,!Me&&ke),targetTexture:this.createTexture(Ie,Ae,xe),originalTexture:Me||this.createTexture(Ie,Ae,xe,!Me&&ke),passes:Te.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:Se},De=Ie.createFramebuffer();return Ie.bindFramebuffer(Ie.FRAMEBUFFER,De),Te.forEach(function(Be){Be&&Be.applyTo(Oe)}),Ce(Oe),this.copyGLTo2D(Ie,Oe),Ie.bindTexture(Ie.TEXTURE_2D,null),Ie.deleteTexture(Oe.sourceTexture),Ie.deleteTexture(Oe.targetTexture),Ie.deleteFramebuffer(De),Se.getContext("2d").setTransform(1,0,0,1,0,0),Oe},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(Te,ke,Ae,xe){var Se=Te.createTexture();return Te.bindTexture(Te.TEXTURE_2D,Se),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_MAG_FILTER,Te.NEAREST),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_MIN_FILTER,Te.NEAREST),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_WRAP_S,Te.CLAMP_TO_EDGE),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_WRAP_T,Te.CLAMP_TO_EDGE),xe?Te.texImage2D(Te.TEXTURE_2D,0,Te.RGBA,Te.RGBA,Te.UNSIGNED_BYTE,xe):Te.texImage2D(Te.TEXTURE_2D,0,Te.RGBA,ke,Ae,0,Te.RGBA,Te.UNSIGNED_BYTE,null),Se},getCachedTexture:function(Te,ke){if(this.textureCache[Te])return this.textureCache[Te];var Ae=this.createTexture(this.gl,ke.width,ke.height,ke);return this.textureCache[Te]=Ae,Ae},evictCachesForKey:function(Te){this.textureCache[Te]&&(this.gl.deleteTexture(this.textureCache[Te]),delete this.textureCache[Te])},copyGLTo2D:Ee,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var Te=this.gl,ke={renderer:"",vendor:""};if(!Te)return ke;var Ae=Te.getExtension("WEBGL_debug_renderer_info");if(Ae){var xe=Te.getParameter(Ae.UNMASKED_RENDERER_WEBGL),Se=Te.getParameter(Ae.UNMASKED_VENDOR_WEBGL);xe&&(ke.renderer=xe.toLowerCase()),Se&&(ke.vendor=Se.toLowerCase())}return this.gpuInfo=ke,ke}}}();function Ce(Pe){var St=Pe.targetCanvas,Te=St.width,ke=St.height,Ae=Pe.destinationWidth,xe=Pe.destinationHeight;(Te!==Ae||ke!==xe)&&(St.width=Ae,St.height=xe)}function Ee(Pe,St){var Te=Pe.canvas,ke=St.targetCanvas,Ae=ke.getContext("2d");Ae.translate(0,ke.height),Ae.scale(1,-1);var xe=Te.height-ke.height;Ae.drawImage(Te,0,xe,ke.width,ke.height,0,0,ke.width,ke.height)}function Re(Pe,St){var Te=St.targetCanvas,ke=Te.getContext("2d"),Ae=St.destinationWidth,xe=St.destinationHeight,Se=Ae*xe*4,Fe=new Uint8Array(this.imageBuffer,0,Se),Ie=new Uint8ClampedArray(this.imageBuffer,0,Se);Pe.readPixels(0,0,Ae,xe,Pe.RGBA,Pe.UNSIGNED_BYTE,Fe);var Me=new ImageData(Ie,Ae,xe);ke.putImageData(Me,0,0)}(function(){var Pe=function(){};e.Canvas2dFilterBackend=St;function St(){}St.prototype={evictCachesForKey:Pe,dispose:Pe,clearWebGLCaches:Pe,resources:{},applyFilters:function(Te,ke,Ae,xe,Se){var Fe=Se.getContext("2d");Fe.drawImage(ke,0,0,Ae,xe);var Ie=Fe.getImageData(0,0,Ae,xe),Me=Fe.getImageData(0,0,Ae,xe),Oe={sourceWidth:Ae,sourceHeight:xe,imageData:Ie,originalEl:ke,originalImageData:Me,canvasEl:Se,ctx:Fe,filterBackend:this};return Te.forEach(function(De){De.applyTo(Oe)}),(Oe.imageData.width!==Ae||Oe.imageData.height!==xe)&&(Se.width=Oe.imageData.width,Se.height=Oe.imageData.height),Fe.putImageData(Oe.imageData,0,0),Oe}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(Pe){Pe&&this.setOptions(Pe)},setOptions:function(Pe){for(var St in Pe)this[St]=Pe[St]},createProgram:function(Pe,St,Te){St=St||this.fragmentSource,Te=Te||this.vertexSource,e.webGlPrecision!=="highp"&&(St=St.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var ke=Pe.createShader(Pe.VERTEX_SHADER);if(Pe.shaderSource(ke,Te),Pe.compileShader(ke),!Pe.getShaderParameter(ke,Pe.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+Pe.getShaderInfoLog(ke));var Ae=Pe.createShader(Pe.FRAGMENT_SHADER);if(Pe.shaderSource(Ae,St),Pe.compileShader(Ae),!Pe.getShaderParameter(Ae,Pe.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+Pe.getShaderInfoLog(Ae));var xe=Pe.createProgram();if(Pe.attachShader(xe,ke),Pe.attachShader(xe,Ae),Pe.linkProgram(xe),!Pe.getProgramParameter(xe,Pe.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+Pe.getProgramInfoLog(xe));var Se=this.getAttributeLocations(Pe,xe),Fe=this.getUniformLocations(Pe,xe)||{};return Fe.uStepW=Pe.getUniformLocation(xe,"uStepW"),Fe.uStepH=Pe.getUniformLocation(xe,"uStepH"),{program:xe,attributeLocations:Se,uniformLocations:Fe}},getAttributeLocations:function(Pe,St){return{aPosition:Pe.getAttribLocation(St,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(Pe,St,Te){var ke=St.aPosition,Ae=Pe.createBuffer();Pe.bindBuffer(Pe.ARRAY_BUFFER,Ae),Pe.enableVertexAttribArray(ke),Pe.vertexAttribPointer(ke,2,Pe.FLOAT,!1,0,0),Pe.bufferData(Pe.ARRAY_BUFFER,Te,Pe.STATIC_DRAW)},_setupFrameBuffer:function(Pe){var St=Pe.context,Te,ke;Pe.passes>1?(Te=Pe.destinationWidth,ke=Pe.destinationHeight,(Pe.sourceWidth!==Te||Pe.sourceHeight!==ke)&&(St.deleteTexture(Pe.targetTexture),Pe.targetTexture=Pe.filterBackend.createTexture(St,Te,ke)),St.framebufferTexture2D(St.FRAMEBUFFER,St.COLOR_ATTACHMENT0,St.TEXTURE_2D,Pe.targetTexture,0)):(St.bindFramebuffer(St.FRAMEBUFFER,null),St.finish())},_swapTextures:function(Pe){Pe.passes--,Pe.pass++;var St=Pe.targetTexture;Pe.targetTexture=Pe.sourceTexture,Pe.sourceTexture=St},isNeutralState:function(){var Pe=this.mainParameter,St=e.Image.filters[this.type].prototype;if(Pe)if(Array.isArray(St[Pe])){for(var Te=St[Pe].length;Te--;)if(this[Pe][Te]!==St[Pe][Te])return!1;return!0}else return St[Pe]===this[Pe];else return!1},applyTo:function(Pe){Pe.webgl?(this._setupFrameBuffer(Pe),this.applyToWebGL(Pe),this._swapTextures(Pe)):this.applyTo2d(Pe)},retrieveShader:function(Pe){return Pe.programCache.hasOwnProperty(this.type)||(Pe.programCache[this.type]=this.createProgram(Pe.context)),Pe.programCache[this.type]},applyToWebGL:function(Pe){var St=Pe.context,Te=this.retrieveShader(Pe);Pe.pass===0&&Pe.originalTexture?St.bindTexture(St.TEXTURE_2D,Pe.originalTexture):St.bindTexture(St.TEXTURE_2D,Pe.sourceTexture),St.useProgram(Te.program),this.sendAttributeData(St,Te.attributeLocations,Pe.aPosition),St.uniform1f(Te.uniformLocations.uStepW,1/Pe.sourceWidth),St.uniform1f(Te.uniformLocations.uStepH,1/Pe.sourceHeight),this.sendUniformData(St,Te.uniformLocations),St.viewport(0,0,Pe.destinationWidth,Pe.destinationHeight),St.drawArrays(St.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(Pe,St,Te){Pe.activeTexture(Te),Pe.bindTexture(Pe.TEXTURE_2D,St),Pe.activeTexture(Pe.TEXTURE0)},unbindAdditionalTexture:function(Pe,St){Pe.activeTexture(St),Pe.bindTexture(Pe.TEXTURE_2D,null),Pe.activeTexture(Pe.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(Pe){this[this.mainParameter]=Pe},sendUniformData:function(){},createHelpLayer:function(Pe){if(!Pe.helpLayer){var St=document.createElement("canvas");St.width=Pe.sourceWidth,St.height=Pe.sourceHeight,Pe.helpLayer=St}},toObject:function(){var Pe={type:this.type},St=this.mainParameter;return St&&(Pe[St]=this[St]),Pe},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(Pe,St){var Te=new e.Image.filters[Pe.type](Pe);return St&&St(Te),Te},function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.Image.filters,ke=St.util.createClass;Te.ColorMatrix=ke(Te.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(Ae){this.callSuper("initialize",Ae),this.matrix=this.matrix.slice(0)},applyTo2d:function(Ae){var xe=Ae.imageData,Se=xe.data,Fe=Se.length,Ie=this.matrix,Me,Oe,De,Be,je,ze=this.colorsOnly;for(je=0;je<Fe;je+=4)Me=Se[je],Oe=Se[je+1],De=Se[je+2],ze?(Se[je]=Me*Ie[0]+Oe*Ie[1]+De*Ie[2]+Ie[4]*255,Se[je+1]=Me*Ie[5]+Oe*Ie[6]+De*Ie[7]+Ie[9]*255,Se[je+2]=Me*Ie[10]+Oe*Ie[11]+De*Ie[12]+Ie[14]*255):(Be=Se[je+3],Se[je]=Me*Ie[0]+Oe*Ie[1]+De*Ie[2]+Be*Ie[3]+Ie[4]*255,Se[je+1]=Me*Ie[5]+Oe*Ie[6]+De*Ie[7]+Be*Ie[8]+Ie[9]*255,Se[je+2]=Me*Ie[10]+Oe*Ie[11]+De*Ie[12]+Be*Ie[13]+Ie[14]*255,Se[je+3]=Me*Ie[15]+Oe*Ie[16]+De*Ie[17]+Be*Ie[18]+Ie[19]*255)},getUniformLocations:function(Ae,xe){return{uColorMatrix:Ae.getUniformLocation(xe,"uColorMatrix"),uConstants:Ae.getUniformLocation(xe,"uConstants")}},sendUniformData:function(Ae,xe){var Se=this.matrix,Fe=[Se[0],Se[1],Se[2],Se[3],Se[5],Se[6],Se[7],Se[8],Se[10],Se[11],Se[12],Se[13],Se[15],Se[16],Se[17],Se[18]],Ie=[Se[4],Se[9],Se[14],Se[19]];Ae.uniformMatrix4fv(xe.uColorMatrix,!1,Fe),Ae.uniform4fv(xe.uConstants,Ie)}}),St.Image.filters.ColorMatrix.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.Image.filters,ke=St.util.createClass;Te.Brightness=ke(Te.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(Ae){if(this.brightness!==0){var xe=Ae.imageData,Se=xe.data,Fe,Ie=Se.length,Me=Math.round(this.brightness*255);for(Fe=0;Fe<Ie;Fe+=4)Se[Fe]=Se[Fe]+Me,Se[Fe+1]=Se[Fe+1]+Me,Se[Fe+2]=Se[Fe+2]+Me}},getUniformLocations:function(Ae,xe){return{uBrightness:Ae.getUniformLocation(xe,"uBrightness")}},sendUniformData:function(Ae,xe){Ae.uniform1f(xe.uBrightness,this.brightness)}}),St.Image.filters.Brightness.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.object.extend,ke=St.Image.filters,Ae=St.util.createClass;ke.Convolute=Ae(ke.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(xe){var Se=Math.sqrt(this.matrix.length),Fe=this.type+"_"+Se+"_"+(this.opaque?1:0),Ie=this.fragmentSource[Fe];return xe.programCache.hasOwnProperty(Fe)||(xe.programCache[Fe]=this.createProgram(xe.context,Ie)),xe.programCache[Fe]},applyTo2d:function(xe){var Se=xe.imageData,Fe=Se.data,Ie=this.matrix,Me=Math.round(Math.sqrt(Ie.length)),Oe=Math.floor(Me/2),De=Se.width,Be=Se.height,je=xe.ctx.createImageData(De,Be),ze=je.data,Ge=this.opaque?1:0,We,Ue,hr,xr,rr,er,vr,gr,br,sr,nr,Je,$e;for(nr=0;nr<Be;nr++)for(sr=0;sr<De;sr++){for(rr=(nr*De+sr)*4,We=0,Ue=0,hr=0,xr=0,$e=0;$e<Me;$e++)for(Je=0;Je<Me;Je++)vr=nr+$e-Oe,er=sr+Je-Oe,!(vr<0||vr>=Be||er<0||er>=De)&&(gr=(vr*De+er)*4,br=Ie[$e*Me+Je],We+=Fe[gr]*br,Ue+=Fe[gr+1]*br,hr+=Fe[gr+2]*br,Ge||(xr+=Fe[gr+3]*br));ze[rr]=We,ze[rr+1]=Ue,ze[rr+2]=hr,Ge?ze[rr+3]=Fe[rr+3]:ze[rr+3]=xr}xe.imageData=je},getUniformLocations:function(xe,Se){return{uMatrix:xe.getUniformLocation(Se,"uMatrix"),uOpaque:xe.getUniformLocation(Se,"uOpaque"),uHalfSize:xe.getUniformLocation(Se,"uHalfSize"),uSize:xe.getUniformLocation(Se,"uSize")}},sendUniformData:function(xe,Se){xe.uniform1fv(Se.uMatrix,this.matrix)},toObject:function(){return Te(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),St.Image.filters.Convolute.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.Image.filters,ke=St.util.createClass;Te.Grayscale=ke(Te.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(Ae){var xe=Ae.imageData,Se=xe.data,Fe,Ie=Se.length,Me,Oe=this.mode;for(Fe=0;Fe<Ie;Fe+=4)Oe==="average"?Me=(Se[Fe]+Se[Fe+1]+Se[Fe+2])/3:Oe==="lightness"?Me=(Math.min(Se[Fe],Se[Fe+1],Se[Fe+2])+Math.max(Se[Fe],Se[Fe+1],Se[Fe+2]))/2:Oe==="luminosity"&&(Me=.21*Se[Fe]+.72*Se[Fe+1]+.07*Se[Fe+2]),Se[Fe]=Me,Se[Fe+1]=Me,Se[Fe+2]=Me},retrieveShader:function(Ae){var xe=this.type+"_"+this.mode;if(!Ae.programCache.hasOwnProperty(xe)){var Se=this.fragmentSource[this.mode];Ae.programCache[xe]=this.createProgram(Ae.context,Se)}return Ae.programCache[xe]},getUniformLocations:function(Ae,xe){return{uMode:Ae.getUniformLocation(xe,"uMode")}},sendUniformData:function(Ae,xe){var Se=1;Ae.uniform1i(xe.uMode,Se)},isNeutralState:function(){return!1}}),St.Image.filters.Grayscale.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.Image.filters,ke=St.util.createClass;Te.Invert=ke(Te.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(Ae){var xe=Ae.imageData,Se=xe.data,Fe,Ie=Se.length;for(Fe=0;Fe<Ie;Fe+=4)Se[Fe]=255-Se[Fe],Se[Fe+1]=255-Se[Fe+1],Se[Fe+2]=255-Se[Fe+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(Ae,xe){return{uInvert:Ae.getUniformLocation(xe,"uInvert")}},sendUniformData:function(Ae,xe){Ae.uniform1i(xe.uInvert,this.invert)}}),St.Image.filters.Invert.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.object.extend,ke=St.Image.filters,Ae=St.util.createClass;ke.Noise=Ae(ke.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(xe){if(this.noise!==0){var Se=xe.imageData,Fe=Se.data,Ie,Me=Fe.length,Oe=this.noise,De;for(Ie=0,Me=Fe.length;Ie<Me;Ie+=4)De=(.5-Math.random())*Oe,Fe[Ie]+=De,Fe[Ie+1]+=De,Fe[Ie+2]+=De}},getUniformLocations:function(xe,Se){return{uNoise:xe.getUniformLocation(Se,"uNoise"),uSeed:xe.getUniformLocation(Se,"uSeed")}},sendUniformData:function(xe,Se){xe.uniform1f(Se.uNoise,this.noise/255),xe.uniform1f(Se.uSeed,Math.random())},toObject:function(){return Te(this.callSuper("toObject"),{noise:this.noise})}}),St.Image.filters.Noise.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.Image.filters,ke=St.util.createClass;Te.Pixelate=ke(Te.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(Ae){var xe=Ae.imageData,Se=xe.data,Fe=xe.height,Ie=xe.width,Me,Oe,De,Be,je,ze,Ge,We,Ue,hr,xr;for(Oe=0;Oe<Fe;Oe+=this.blocksize)for(De=0;De<Ie;De+=this.blocksize)for(Me=Oe*4*Ie+De*4,Be=Se[Me],je=Se[Me+1],ze=Se[Me+2],Ge=Se[Me+3],hr=Math.min(Oe+this.blocksize,Fe),xr=Math.min(De+this.blocksize,Ie),We=Oe;We<hr;We++)for(Ue=De;Ue<xr;Ue++)Me=We*4*Ie+Ue*4,Se[Me]=Be,Se[Me+1]=je,Se[Me+2]=ze,Se[Me+3]=Ge},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(Ae,xe){return{uBlocksize:Ae.getUniformLocation(xe,"uBlocksize"),uStepW:Ae.getUniformLocation(xe,"uStepW"),uStepH:Ae.getUniformLocation(xe,"uStepH")}},sendUniformData:function(Ae,xe){Ae.uniform1f(xe.uBlocksize,this.blocksize)}}),St.Image.filters.Pixelate.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.object.extend,ke=St.Image.filters,Ae=St.util.createClass;ke.RemoveColor=Ae(ke.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(xe){var Se=xe.imageData,Fe=Se.data,Ie,Me=this.distance*255,Oe,De,Be,je=new St.Color(this.color).getSource(),ze=[je[0]-Me,je[1]-Me,je[2]-Me],Ge=[je[0]+Me,je[1]+Me,je[2]+Me];for(Ie=0;Ie<Fe.length;Ie+=4)Oe=Fe[Ie],De=Fe[Ie+1],Be=Fe[Ie+2],Oe>ze[0]&&De>ze[1]&&Be>ze[2]&&Oe<Ge[0]&&De<Ge[1]&&Be<Ge[2]&&(Fe[Ie+3]=0)},getUniformLocations:function(xe,Se){return{uLow:xe.getUniformLocation(Se,"uLow"),uHigh:xe.getUniformLocation(Se,"uHigh")}},sendUniformData:function(xe,Se){var Fe=new St.Color(this.color).getSource(),Ie=parseFloat(this.distance),Me=[0+Fe[0]/255-Ie,0+Fe[1]/255-Ie,0+Fe[2]/255-Ie,1],Oe=[Fe[0]/255+Ie,Fe[1]/255+Ie,Fe[2]/255+Ie,1];xe.uniform4fv(Se.uLow,Me),xe.uniform4fv(Se.uHigh,Oe)},toObject:function(){return Te(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),St.Image.filters.RemoveColor.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.Image.filters,ke=St.util.createClass,Ae={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var xe in Ae)Te[xe]=ke(Te.ColorMatrix,{type:xe,matrix:Ae[xe],mainParameter:!1,colorsOnly:!0}),St.Image.filters[xe].fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric,Te=St.Image.filters,ke=St.util.createClass;Te.BlendColor=ke(Te.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(Ae){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[Ae]+`}
}`},retrieveShader:function(Ae){var xe=this.type+"_"+this.mode,Se;return Ae.programCache.hasOwnProperty(xe)||(Se=this.buildSource(this.mode),Ae.programCache[xe]=this.createProgram(Ae.context,Se)),Ae.programCache[xe]},applyTo2d:function(Ae){var xe=Ae.imageData,Se=xe.data,Fe=Se.length,Ie,Me,Oe,De,Be,je,ze,Ge=1-this.alpha;ze=new St.Color(this.color).getSource(),Ie=ze[0]*this.alpha,Me=ze[1]*this.alpha,Oe=ze[2]*this.alpha;for(var We=0;We<Fe;We+=4)switch(De=Se[We],Be=Se[We+1],je=Se[We+2],this.mode){case"multiply":Se[We]=De*Ie/255,Se[We+1]=Be*Me/255,Se[We+2]=je*Oe/255;break;case"screen":Se[We]=255-(255-De)*(255-Ie)/255,Se[We+1]=255-(255-Be)*(255-Me)/255,Se[We+2]=255-(255-je)*(255-Oe)/255;break;case"add":Se[We]=De+Ie,Se[We+1]=Be+Me,Se[We+2]=je+Oe;break;case"diff":case"difference":Se[We]=Math.abs(De-Ie),Se[We+1]=Math.abs(Be-Me),Se[We+2]=Math.abs(je-Oe);break;case"subtract":Se[We]=De-Ie,Se[We+1]=Be-Me,Se[We+2]=je-Oe;break;case"darken":Se[We]=Math.min(De,Ie),Se[We+1]=Math.min(Be,Me),Se[We+2]=Math.min(je,Oe);break;case"lighten":Se[We]=Math.max(De,Ie),Se[We+1]=Math.max(Be,Me),Se[We+2]=Math.max(je,Oe);break;case"overlay":Se[We]=Ie<128?2*De*Ie/255:255-2*(255-De)*(255-Ie)/255,Se[We+1]=Me<128?2*Be*Me/255:255-2*(255-Be)*(255-Me)/255,Se[We+2]=Oe<128?2*je*Oe/255:255-2*(255-je)*(255-Oe)/255;break;case"exclusion":Se[We]=Ie+De-2*Ie*De/255,Se[We+1]=Me+Be-2*Me*Be/255,Se[We+2]=Oe+je-2*Oe*je/255;break;case"tint":Se[We]=Ie+De*Ge,Se[We+1]=Me+Be*Ge,Se[We+2]=Oe+je*Ge}},getUniformLocations:function(Ae,xe){return{uColor:Ae.getUniformLocation(xe,"uColor")}},sendUniformData:function(Ae,xe){var Se=new St.Color(this.color).getSource();Se[0]=this.alpha*Se[0]/255,Se[1]=this.alpha*Se[1]/255,Se[2]=this.alpha*Se[2]/255,Se[3]=this.alpha,Ae.uniform4fv(xe.uColor,Se)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),St.Image.filters.BlendColor.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric,Te=St.Image.filters,ke=St.util.createClass;Te.BlendImage=ke(Te.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(Ae){var xe=this.type+"_"+this.mode,Se=this.fragmentSource[this.mode];return Ae.programCache.hasOwnProperty(xe)||(Ae.programCache[xe]=this.createProgram(Ae.context,Se)),Ae.programCache[xe]},applyToWebGL:function(Ae){var xe=Ae.context,Se=this.createTexture(Ae.filterBackend,this.image);this.bindAdditionalTexture(xe,Se,xe.TEXTURE1),this.callSuper("applyToWebGL",Ae),this.unbindAdditionalTexture(xe,xe.TEXTURE1)},createTexture:function(Ae,xe){return Ae.getCachedTexture(xe.cacheKey,xe._element)},calculateMatrix:function(){var Ae=this.image,xe=Ae._element.width,Se=Ae._element.height;return[1/Ae.scaleX,0,0,0,1/Ae.scaleY,0,-Ae.left/xe,-Ae.top/Se,1]},applyTo2d:function(Ae){var xe=Ae.imageData,Se=Ae.filterBackend.resources,Fe=xe.data,Ie=Fe.length,Me=xe.width,Oe=xe.height,De,Be,je,ze,Ge,We,Ue,hr,xr,rr,er=this.image,vr;Se.blendImage||(Se.blendImage=St.util.createCanvasElement()),xr=Se.blendImage,rr=xr.getContext("2d"),xr.width!==Me||xr.height!==Oe?(xr.width=Me,xr.height=Oe):rr.clearRect(0,0,Me,Oe),rr.setTransform(er.scaleX,0,0,er.scaleY,er.left,er.top),rr.drawImage(er._element,0,0,Me,Oe),vr=rr.getImageData(0,0,Me,Oe).data;for(var gr=0;gr<Ie;gr+=4)switch(Ge=Fe[gr],We=Fe[gr+1],Ue=Fe[gr+2],hr=Fe[gr+3],De=vr[gr],Be=vr[gr+1],je=vr[gr+2],ze=vr[gr+3],this.mode){case"multiply":Fe[gr]=Ge*De/255,Fe[gr+1]=We*Be/255,Fe[gr+2]=Ue*je/255,Fe[gr+3]=hr*ze/255;break;case"mask":Fe[gr+3]=ze;break}},getUniformLocations:function(Ae,xe){return{uTransformMatrix:Ae.getUniformLocation(xe,"uTransformMatrix"),uImage:Ae.getUniformLocation(xe,"uImage")}},sendUniformData:function(Ae,xe){var Se=this.calculateMatrix();Ae.uniform1i(xe.uImage,1),Ae.uniformMatrix3fv(xe.uTransformMatrix,!1,Se)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),St.Image.filters.BlendImage.fromObject=function(Ae,xe){St.Image.fromObject(Ae.image,function(Se){var Fe=St.util.object.clone(Ae);Fe.image=Se,xe(new St.Image.filters.BlendImage(Fe))})}}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=Math.pow,ke=Math.floor,Ae=Math.sqrt,xe=Math.abs,Se=Math.round,Fe=Math.sin,Ie=Math.ceil,Me=St.Image.filters,Oe=St.util.createClass;Me.Resize=Oe(Me.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(De,Be){return{uDelta:De.getUniformLocation(Be,"uDelta"),uTaps:De.getUniformLocation(Be,"uTaps")}},sendUniformData:function(De,Be){De.uniform2fv(Be.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),De.uniform1fv(Be.uTaps,this.taps)},retrieveShader:function(De){var Be=this.getFilterWindow(),je=this.type+"_"+Be;if(!De.programCache.hasOwnProperty(je)){var ze=this.generateShader(Be);De.programCache[je]=this.createProgram(De.context,ze)}return De.programCache[je]},getFilterWindow:function(){var De=this.tempScale;return Math.ceil(this.lanczosLobes/De)},getTaps:function(){for(var De=this.lanczosCreate(this.lanczosLobes),Be=this.tempScale,je=this.getFilterWindow(),ze=new Array(je),Ge=1;Ge<=je;Ge++)ze[Ge-1]=De(Ge*Be);return ze},generateShader:function(ze){for(var Be=new Array(ze),je=this.fragmentSourceTOP,ze,Ge=1;Ge<=ze;Ge++)Be[Ge-1]=Ge+".0 * uDelta";return je+="uniform float uTaps["+ze+`];
`,je+=`void main() {
`,je+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,je+=`  float sum = 1.0;
`,Be.forEach(function(We,Ue){je+="  color += texture2D(uTexture, vTexCoord + "+We+") * uTaps["+Ue+`];
`,je+="  color += texture2D(uTexture, vTexCoord - "+We+") * uTaps["+Ue+`];
`,je+="  sum += 2.0 * uTaps["+Ue+`];
`}),je+=`  gl_FragColor = color / sum;
`,je+="}",je},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(De){De.webgl?(De.passes++,this.width=De.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=De.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),De.destinationWidth=this.dW,this._setupFrameBuffer(De),this.applyToWebGL(De),this._swapTextures(De),De.sourceWidth=De.destinationWidth,this.height=De.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),De.destinationHeight=this.dH,this._setupFrameBuffer(De),this.applyToWebGL(De),this._swapTextures(De),De.sourceHeight=De.destinationHeight):this.applyTo2d(De)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(De){return function(Be){if(Be>=De||Be<=-De)return 0;if(Be<11920929e-14&&Be>-11920929e-14)return 1;Be*=Math.PI;var je=Be/De;return Fe(Be)/Be*Fe(je)/je}},applyTo2d:function(De){var Be=De.imageData,je=this.scaleX,ze=this.scaleY;this.rcpScaleX=1/je,this.rcpScaleY=1/ze;var Ge=Be.width,We=Be.height,Ue=Se(Ge*je),hr=Se(We*ze),xr;this.resizeType==="sliceHack"?xr=this.sliceByTwo(De,Ge,We,Ue,hr):this.resizeType==="hermite"?xr=this.hermiteFastResize(De,Ge,We,Ue,hr):this.resizeType==="bilinear"?xr=this.bilinearFiltering(De,Ge,We,Ue,hr):this.resizeType==="lanczos"&&(xr=this.lanczosResize(De,Ge,We,Ue,hr)),De.imageData=xr},sliceByTwo:function(De,Be,je,ze,Ge){var We=De.imageData,Ue=.5,hr=!1,xr=!1,rr=Be*Ue,er=je*Ue,vr=St.filterBackend.resources,gr,br,sr=0,nr=0,Je=Be,$e=0;for(vr.sliceByTwo||(vr.sliceByTwo=document.createElement("canvas")),gr=vr.sliceByTwo,(gr.width<Be*1.5||gr.height<je)&&(gr.width=Be*1.5,gr.height=je),br=gr.getContext("2d"),br.clearRect(0,0,Be*1.5,je),br.putImageData(We,0,0),ze=ke(ze),Ge=ke(Ge);!hr||!xr;)Be=rr,je=er,ze<ke(rr*Ue)?rr=ke(rr*Ue):(rr=ze,hr=!0),Ge<ke(er*Ue)?er=ke(er*Ue):(er=Ge,xr=!0),br.drawImage(gr,sr,nr,Be,je,Je,$e,rr,er),sr=Je,nr=$e,$e+=er;return br.getImageData(sr,nr,ze,Ge)},lanczosResize:function(De,Be,je,ze,Ge){function We(ir){var Xe,cr,Qe,Ke,lr,mr,Ar,Pr,Rr,Ir,ur;for($e.x=(ir+.5)*er,tr.x=ke($e.x),Xe=0;Xe<Ge;Xe++){for($e.y=(Xe+.5)*vr,tr.y=ke($e.y),lr=0,mr=0,Ar=0,Pr=0,Rr=0,cr=tr.x-sr;cr<=tr.x+sr;cr++)if(!(cr<0||cr>=Be)){Ir=ke(1e3*xe(cr-$e.x)),Je[Ir]||(Je[Ir]={});for(var ar=tr.y-nr;ar<=tr.y+nr;ar++)ar<0||ar>=je||(ur=ke(1e3*xe(ar-$e.y)),Je[Ir][ur]||(Je[Ir][ur]=rr(Ae(Te(Ir*gr,2)+Te(ur*br,2))/1e3)),Qe=Je[Ir][ur],Qe>0&&(Ke=(ar*Be+cr)*4,lr+=Qe,mr+=Qe*Ue[Ke],Ar+=Qe*Ue[Ke+1],Pr+=Qe*Ue[Ke+2],Rr+=Qe*Ue[Ke+3]))}Ke=(Xe*ze+ir)*4,xr[Ke]=mr/lr,xr[Ke+1]=Ar/lr,xr[Ke+2]=Pr/lr,xr[Ke+3]=Rr/lr}return++ir<ze?We(ir):hr}var Ue=De.imageData.data,hr=De.ctx.createImageData(ze,Ge),xr=hr.data,rr=this.lanczosCreate(this.lanczosLobes),er=this.rcpScaleX,vr=this.rcpScaleY,gr=2/this.rcpScaleX,br=2/this.rcpScaleY,sr=Ie(er*this.lanczosLobes/2),nr=Ie(vr*this.lanczosLobes/2),Je={},$e={},tr={};return We(0)},bilinearFiltering:function(De,Be,je,ze,Ge){var We,Ue,hr,xr,rr,er,vr,gr,br,sr,nr,Je,$e=0,tr,ir=this.rcpScaleX,Xe=this.rcpScaleY,cr=4*(Be-1),Qe=De.imageData,Ke=Qe.data,lr=De.ctx.createImageData(ze,Ge),mr=lr.data;for(vr=0;vr<Ge;vr++)for(gr=0;gr<ze;gr++)for(rr=ke(ir*gr),er=ke(Xe*vr),br=ir*gr-rr,sr=Xe*vr-er,tr=4*(er*Be+rr),nr=0;nr<4;nr++)We=Ke[tr+nr],Ue=Ke[tr+4+nr],hr=Ke[tr+cr+nr],xr=Ke[tr+cr+4+nr],Je=We*(1-br)*(1-sr)+Ue*br*(1-sr)+hr*sr*(1-br)+xr*br*sr,mr[$e++]=Je;return lr},hermiteFastResize:function(De,Be,je,ze,Ge){for(var We=this.rcpScaleX,Ue=this.rcpScaleY,hr=Ie(We/2),xr=Ie(Ue/2),rr=De.imageData,er=rr.data,vr=De.ctx.createImageData(ze,Ge),gr=vr.data,br=0;br<Ge;br++)for(var sr=0;sr<ze;sr++){for(var nr=(sr+br*ze)*4,Je=0,$e=0,tr=0,ir=0,Xe=0,cr=0,Qe=0,Ke=(br+.5)*Ue,lr=ke(br*Ue);lr<(br+1)*Ue;lr++)for(var mr=xe(Ke-(lr+.5))/xr,Ar=(sr+.5)*We,Pr=mr*mr,Rr=ke(sr*We);Rr<(sr+1)*We;Rr++){var Ir=xe(Ar-(Rr+.5))/hr,ur=Ae(Pr+Ir*Ir);ur>1&&ur<-1||(Je=2*ur*ur*ur-3*ur*ur+1,Je>0&&(Ir=4*(Rr+lr*Be),Qe+=Je*er[Ir+3],tr+=Je,er[Ir+3]<255&&(Je=Je*er[Ir+3]/250),ir+=Je*er[Ir],Xe+=Je*er[Ir+1],cr+=Je*er[Ir+2],$e+=Je))}gr[nr]=ir/$e,gr[nr+1]=Xe/$e,gr[nr+2]=cr/$e,gr[nr+3]=Qe/tr}return vr},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),St.Image.filters.Resize.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.Image.filters,ke=St.util.createClass;Te.Contrast=ke(Te.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(Ae){if(this.contrast!==0){var xe=Ae.imageData,Se,Ie,Fe=xe.data,Ie=Fe.length,Me=Math.floor(this.contrast*255),Oe=259*(Me+255)/(255*(259-Me));for(Se=0;Se<Ie;Se+=4)Fe[Se]=Oe*(Fe[Se]-128)+128,Fe[Se+1]=Oe*(Fe[Se+1]-128)+128,Fe[Se+2]=Oe*(Fe[Se+2]-128)+128}},getUniformLocations:function(Ae,xe){return{uContrast:Ae.getUniformLocation(xe,"uContrast")}},sendUniformData:function(Ae,xe){Ae.uniform1f(xe.uContrast,this.contrast)}}),St.Image.filters.Contrast.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.Image.filters,ke=St.util.createClass;Te.Saturation=ke(Te.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(Ae){if(this.saturation!==0){var xe=Ae.imageData,Se=xe.data,Fe=Se.length,Ie=-this.saturation,Me,Oe;for(Me=0;Me<Fe;Me+=4)Oe=Math.max(Se[Me],Se[Me+1],Se[Me+2]),Se[Me]+=Oe!==Se[Me]?(Oe-Se[Me])*Ie:0,Se[Me+1]+=Oe!==Se[Me+1]?(Oe-Se[Me+1])*Ie:0,Se[Me+2]+=Oe!==Se[Me+2]?(Oe-Se[Me+2])*Ie:0}},getUniformLocations:function(Ae,xe){return{uSaturation:Ae.getUniformLocation(xe,"uSaturation")}},sendUniformData:function(Ae,xe){Ae.uniform1f(xe.uSaturation,-this.saturation)}}),St.Image.filters.Saturation.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.Image.filters,ke=St.util.createClass;Te.Vibrance=ke(Te.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(Ae){if(this.vibrance!==0){var xe=Ae.imageData,Se=xe.data,Fe=Se.length,Ie=-this.vibrance,Me,Oe,De,Be;for(Me=0;Me<Fe;Me+=4)Oe=Math.max(Se[Me],Se[Me+1],Se[Me+2]),De=(Se[Me]+Se[Me+1]+Se[Me+2])/3,Be=Math.abs(Oe-De)*2/255*Ie,Se[Me]+=Oe!==Se[Me]?(Oe-Se[Me])*Be:0,Se[Me+1]+=Oe!==Se[Me+1]?(Oe-Se[Me+1])*Be:0,Se[Me+2]+=Oe!==Se[Me+2]?(Oe-Se[Me+2])*Be:0}},getUniformLocations:function(Ae,xe){return{uVibrance:Ae.getUniformLocation(xe,"uVibrance")}},sendUniformData:function(Ae,xe){Ae.uniform1f(xe.uVibrance,-this.vibrance)}}),St.Image.filters.Vibrance.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.Image.filters,ke=St.util.createClass;Te.Blur=ke(Te.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(Ae){Ae.webgl?(this.aspectRatio=Ae.sourceWidth/Ae.sourceHeight,Ae.passes++,this._setupFrameBuffer(Ae),this.horizontal=!0,this.applyToWebGL(Ae),this._swapTextures(Ae),this._setupFrameBuffer(Ae),this.horizontal=!1,this.applyToWebGL(Ae),this._swapTextures(Ae)):this.applyTo2d(Ae)},applyTo2d:function(Ae){Ae.imageData=this.simpleBlur(Ae)},simpleBlur:function(Ae){var xe=Ae.filterBackend.resources,Se,Fe,Ie=Ae.imageData.width,Me=Ae.imageData.height;xe.blurLayer1||(xe.blurLayer1=St.util.createCanvasElement(),xe.blurLayer2=St.util.createCanvasElement()),Se=xe.blurLayer1,Fe=xe.blurLayer2,(Se.width!==Ie||Se.height!==Me)&&(Fe.width=Se.width=Ie,Fe.height=Se.height=Me);var Oe=Se.getContext("2d"),De=Fe.getContext("2d"),Be=15,je,ze,Ge,We,Ue=this.blur*.06*.5;for(Oe.putImageData(Ae.imageData,0,0),De.clearRect(0,0,Ie,Me),We=-Be;We<=Be;We++)je=(Math.random()-.5)/4,ze=We/Be,Ge=Ue*ze*Ie+je,De.globalAlpha=1-Math.abs(ze),De.drawImage(Se,Ge,je),Oe.drawImage(Fe,0,0),De.globalAlpha=1,De.clearRect(0,0,Fe.width,Fe.height);for(We=-Be;We<=Be;We++)je=(Math.random()-.5)/4,ze=We/Be,Ge=Ue*ze*Me+je,De.globalAlpha=1-Math.abs(ze),De.drawImage(Se,je,Ge),Oe.drawImage(Fe,0,0),De.globalAlpha=1,De.clearRect(0,0,Fe.width,Fe.height);Ae.ctx.drawImage(Se,0,0);var hr=Ae.ctx.getImageData(0,0,Se.width,Se.height);return Oe.globalAlpha=1,Oe.clearRect(0,0,Se.width,Se.height),hr},getUniformLocations:function(Ae,xe){return{delta:Ae.getUniformLocation(xe,"uDelta")}},sendUniformData:function(Ae,xe){var Se=this.chooseRightDelta();Ae.uniform2fv(xe.delta,Se)},chooseRightDelta:function(){var Ae=1,xe=[0,0],Se;return this.horizontal?this.aspectRatio>1&&(Ae=1/this.aspectRatio):this.aspectRatio<1&&(Ae=this.aspectRatio),Se=Ae*this.blur*.12,this.horizontal?xe[0]=Se:xe[1]=Se,xe}}),Te.Blur.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.Image.filters,ke=St.util.createClass;Te.Gamma=ke(Te.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(Ae){this.gamma=[1,1,1],Te.BaseFilter.prototype.initialize.call(this,Ae)},applyTo2d:function(Ae){var xe=Ae.imageData,Se=xe.data,Fe=this.gamma,Ie=Se.length,Me=1/Fe[0],Oe=1/Fe[1],De=1/Fe[2],Be;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),Be=0,Ie=256;Be<Ie;Be++)this.rVals[Be]=Math.pow(Be/255,Me)*255,this.gVals[Be]=Math.pow(Be/255,Oe)*255,this.bVals[Be]=Math.pow(Be/255,De)*255;for(Be=0,Ie=Se.length;Be<Ie;Be+=4)Se[Be]=this.rVals[Se[Be]],Se[Be+1]=this.gVals[Se[Be+1]],Se[Be+2]=this.bVals[Se[Be+2]]},getUniformLocations:function(Ae,xe){return{uGamma:Ae.getUniformLocation(xe,"uGamma")}},sendUniformData:function(Ae,xe){Ae.uniform3fv(xe.uGamma,this.gamma)}}),St.Image.filters.Gamma.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.Image.filters,ke=St.util.createClass;Te.Composed=ke(Te.BaseFilter,{type:"Composed",subFilters:[],initialize:function(Ae){this.callSuper("initialize",Ae),this.subFilters=this.subFilters.slice(0)},applyTo:function(Ae){Ae.passes+=this.subFilters.length-1,this.subFilters.forEach(function(xe){xe.applyTo(Ae)})},toObject:function(){return St.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(Ae){return Ae.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(Ae){return!Ae.isNeutralState()})}}),St.Image.filters.Composed.fromObject=function(Ae,xe){var Se=Ae.subFilters||[],Fe=Se.map(function(Me){return new St.Image.filters[Me.type](Me)}),Ie=new St.Image.filters.Composed({subFilters:Fe});return xe&&xe(Ie),Ie}}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.Image.filters,ke=St.util.createClass;Te.HueRotation=ke(Te.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var Ae=this.rotation*Math.PI,xe=St.util.cos(Ae),Se=St.util.sin(Ae),Fe=1/3,Ie=Math.sqrt(Fe)*Se,Me=1-xe;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=xe+Me/3,this.matrix[1]=Fe*Me-Ie,this.matrix[2]=Fe*Me+Ie,this.matrix[5]=Fe*Me+Ie,this.matrix[6]=xe+Fe*Me,this.matrix[7]=Fe*Me-Ie,this.matrix[10]=Fe*Me-Ie,this.matrix[11]=Fe*Me+Ie,this.matrix[12]=xe+Fe*Me},isNeutralState:function(Ae){return this.calculateMatrix(),Te.BaseFilter.prototype.isNeutralState.call(this,Ae)},applyTo:function(Ae){this.calculateMatrix(),Te.BaseFilter.prototype.applyTo.call(this,Ae)}}),St.Image.filters.HueRotation.fromObject=St.Image.filters.BaseFilter.fromObject}(t),function(Pe){var St=Pe.fabric||(Pe.fabric={}),Te=St.util.object.clone;if(St.Text){St.warn("fabric.Text is already defined");return}var ke="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");St.Text=St.util.createClass(St.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:St.Object.prototype.stateProperties.concat(ke),cacheProperties:St.Object.prototype.cacheProperties.concat(ke),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(Ae,xe){this.styles=xe?xe.styles||{}:{},this.text=Ae,this.__skipDimension=!0,this.callSuper("initialize",xe),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var Ae=this.path;Ae&&(Ae.segmentsInfo=St.util.getPathSegmentsInfo(Ae.path))},getMeasuringContext:function(){return St._measuringContext||(St._measuringContext=this.canvas&&this.canvas.contextCache||St.util.createCanvasElement().getContext("2d")),St._measuringContext},_splitText:function(){var Ae=this._splitTextIntoLines(this.text);return this.textLines=Ae.lines,this._textLines=Ae.graphemeLines,this._unwrappedTextLines=Ae._unwrappedLines,this._text=Ae.graphemeText,Ae},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var Ae,xe,Se,Fe,Ie,Me,Oe,De=0,Be=this._textLines.length;De<Be;De++)if(!(this.textAlign!=="justify"&&(De===Be-1||this.isEndOfWrapping(De)))&&(Fe=0,Ie=this._textLines[De],xe=this.getLineWidth(De),xe<this.width&&(Oe=this.textLines[De].match(this._reSpacesAndTabs)))){Se=Oe.length,Ae=(this.width-xe)/Se;for(var je=0,ze=Ie.length;je<=ze;je++)Me=this.__charBounds[De][je],this._reSpaceAndTab.test(Ie[je])?(Me.width+=Ae,Me.kernedWidth+=Ae,Me.left+=Fe,Fe+=Ae):Me.left+=Fe}},isEndOfWrapping:function(Ae){return Ae===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var Ae=this.callSuper("_getCacheCanvasDimensions"),xe=this.fontSize;return Ae.width+=xe*Ae.zoomX,Ae.height+=xe*Ae.zoomY,Ae},_render:function(Ae){var xe=this.path;xe&&!xe.isNotVisible()&&xe._render(Ae),this._setTextStyles(Ae),this._renderTextLinesBackground(Ae),this._renderTextDecoration(Ae,"underline"),this._renderText(Ae),this._renderTextDecoration(Ae,"overline"),this._renderTextDecoration(Ae,"linethrough")},_renderText:function(Ae){this.paintFirst==="stroke"?(this._renderTextStroke(Ae),this._renderTextFill(Ae)):(this._renderTextFill(Ae),this._renderTextStroke(Ae))},_setTextStyles:function(Ae,xe,Se){if(Ae.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":Ae.textBaseline="middle";break;case"ascender":Ae.textBaseline="top";break;case"descender":Ae.textBaseline="bottom";break}Ae.font=this._getFontDeclaration(xe,Se)},calcTextWidth:function(){for(var Ae=this.getLineWidth(0),xe=1,Se=this._textLines.length;xe<Se;xe++){var Fe=this.getLineWidth(xe);Fe>Ae&&(Ae=Fe)}return Ae},_renderTextLine:function(Ae,xe,Se,Fe,Ie,Me){this._renderChars(Ae,xe,Se,Fe,Ie,Me)},_renderTextLinesBackground:function(Ae){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var xe,Se,Fe=Ae.fillStyle,Ie,Me,Oe=this._getLeftOffset(),De=this._getTopOffset(),Be=0,je=0,ze,Ge,We=this.path,Ue,hr=0,xr=this._textLines.length;hr<xr;hr++){if(xe=this.getHeightOfLine(hr),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",hr)){De+=xe;continue}Ie=this._textLines[hr],Se=this._getLineLeftOffset(hr),je=0,Be=0,Me=this.getValueOfPropertyAt(hr,0,"textBackgroundColor");for(var rr=0,er=Ie.length;rr<er;rr++)ze=this.__charBounds[hr][rr],Ge=this.getValueOfPropertyAt(hr,rr,"textBackgroundColor"),We?(Ae.save(),Ae.translate(ze.renderLeft,ze.renderTop),Ae.rotate(ze.angle),Ae.fillStyle=Ge,Ge&&Ae.fillRect(-ze.width/2,-xe/this.lineHeight*(1-this._fontSizeFraction),ze.width,xe/this.lineHeight),Ae.restore()):Ge!==Me?(Ue=Oe+Se+Be,this.direction==="rtl"&&(Ue=this.width-Ue-je),Ae.fillStyle=Me,Me&&Ae.fillRect(Ue,De,je,xe/this.lineHeight),Be=ze.left,je=ze.width,Me=Ge):je+=ze.kernedWidth;Ge&&!We&&(Ue=Oe+Se+Be,this.direction==="rtl"&&(Ue=this.width-Ue-je),Ae.fillStyle=Ge,Ae.fillRect(Ue,De,je,xe/this.lineHeight)),De+=xe}Ae.fillStyle=Fe,this._removeShadow(Ae)}},getFontCache:function(Ae){var xe=Ae.fontFamily.toLowerCase();St.charWidthsCache[xe]||(St.charWidthsCache[xe]={});var Se=St.charWidthsCache[xe],Fe=Ae.fontStyle.toLowerCase()+"_"+(Ae.fontWeight+"").toLowerCase();return Se[Fe]||(Se[Fe]={}),Se[Fe]},_measureChar:function(Ae,xe,Se,Fe){var Ie=this.getFontCache(xe),Me=this._getFontDeclaration(xe),Oe=this._getFontDeclaration(Fe),De=Se+Ae,Be=Me===Oe,je,ze,Ge,We=xe.fontSize/this.CACHE_FONT_SIZE,Ue;if(Se&&Ie[Se]!==void 0&&(Ge=Ie[Se]),Ie[Ae]!==void 0&&(Ue=je=Ie[Ae]),Be&&Ie[De]!==void 0&&(ze=Ie[De],Ue=ze-Ge),je===void 0||Ge===void 0||ze===void 0){var hr=this.getMeasuringContext();this._setTextStyles(hr,xe,!0)}return je===void 0&&(Ue=je=hr.measureText(Ae).width,Ie[Ae]=je),Ge===void 0&&Be&&Se&&(Ge=hr.measureText(Se).width,Ie[Se]=Ge),Be&&ze===void 0&&(ze=hr.measureText(De).width,Ie[De]=ze,Ue=ze-Ge),{width:je*We,kernedWidth:Ue*We}},getHeightOfChar:function(Ae,xe){return this.getValueOfPropertyAt(Ae,xe,"fontSize")},measureLine:function(Ae){var xe=this._measureLine(Ae);return this.charSpacing!==0&&(xe.width-=this._getWidthOfCharSpacing()),xe.width<0&&(xe.width=0),xe},_measureLine:function(Ae){var xe=0,Se,Fe,Ie=this._textLines[Ae],Me,Oe,De=0,Be=new Array(Ie.length),je=0,ze,Ge,We=this.path,Ue=this.pathSide==="right";for(this.__charBounds[Ae]=Be,Se=0;Se<Ie.length;Se++)Fe=Ie[Se],Oe=this._getGraphemeBox(Fe,Ae,Se,Me),Be[Se]=Oe,xe+=Oe.kernedWidth,Me=Fe;if(Be[Se]={left:Oe?Oe.left+Oe.width:0,width:0,kernedWidth:0,height:this.fontSize},We){switch(Ge=We.segmentsInfo[We.segmentsInfo.length-1].length,ze=St.util.getPointOnPath(We.path,0,We.segmentsInfo),ze.x+=We.pathOffset.x,ze.y+=We.pathOffset.y,this.textAlign){case"left":je=Ue?Ge-xe:0;break;case"center":je=(Ge-xe)/2;break;case"right":je=Ue?0:Ge-xe;break}for(je+=this.pathStartOffset*(Ue?-1:1),Se=Ue?Ie.length-1:0;Ue?Se>=0:Se<Ie.length;Ue?Se--:Se++)Oe=Be[Se],je>Ge?je%=Ge:je<0&&(je+=Ge),this._setGraphemeOnPath(je,Oe,ze),je+=Oe.kernedWidth}return{width:xe,numOfSpaces:De}},_setGraphemeOnPath:function(Ae,xe,Se){var Fe=Ae+xe.kernedWidth/2,Ie=this.path,Me=St.util.getPointOnPath(Ie.path,Fe,Ie.segmentsInfo);xe.renderLeft=Me.x-Se.x,xe.renderTop=Me.y-Se.y,xe.angle=Me.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(Ae,xe,Se,Fe,Ie){var Me=this.getCompleteStyleDeclaration(xe,Se),Oe=Fe?this.getCompleteStyleDeclaration(xe,Se-1):{},De=this._measureChar(Ae,Me,Fe,Oe),Be=De.kernedWidth,je=De.width,ze;this.charSpacing!==0&&(ze=this._getWidthOfCharSpacing(),je+=ze,Be+=ze);var Ge={width:je,left:0,height:Me.fontSize,kernedWidth:Be,deltaY:Me.deltaY};if(Se>0&&!Ie){var We=this.__charBounds[xe][Se-1];Ge.left=We.left+We.width+De.kernedWidth-De.width}return Ge},getHeightOfLine:function(Ae){if(this.__lineHeights[Ae])return this.__lineHeights[Ae];for(var xe=this._textLines[Ae],Se=this.getHeightOfChar(Ae,0),Fe=1,Ie=xe.length;Fe<Ie;Fe++)Se=Math.max(this.getHeightOfChar(Ae,Fe),Se);return this.__lineHeights[Ae]=Se*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var Ae,xe=0,Se=0,Fe=this._textLines.length;Se<Fe;Se++)Ae=this.getHeightOfLine(Se),xe+=Se===Fe-1?Ae/this.lineHeight:Ae;return xe},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(Ae,xe){Ae.save();for(var Se=0,Fe=this._getLeftOffset(),Ie=this._getTopOffset(),Me=0,Oe=this._textLines.length;Me<Oe;Me++){var De=this.getHeightOfLine(Me),Be=De/this.lineHeight,je=this._getLineLeftOffset(Me);this._renderTextLine(xe,Ae,this._textLines[Me],Fe+je,Ie+Se+Be,Me),Se+=De}Ae.restore()},_renderTextFill:function(Ae){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(Ae,"fillText")},_renderTextStroke:function(Ae){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(Ae),Ae.save(),this._setLineDash(Ae,this.strokeDashArray),Ae.beginPath(),this._renderTextCommon(Ae,"strokeText"),Ae.closePath(),Ae.restore())},_renderChars:function(Ae,xe,Se,Fe,Ie,Me){var Oe=this.getHeightOfLine(Me),De=this.textAlign.indexOf("justify")!==-1,Be,je,ze="",Ge,We=0,Ue,hr=this.path,xr=!De&&this.charSpacing===0&&this.isEmptyStyles(Me)&&!hr,rr=this.direction==="ltr",er=this.direction==="ltr"?1:-1,vr,gr=xe.canvas.getAttribute("dir");if(xe.save(),gr!==this.direction&&(xe.canvas.setAttribute("dir",rr?"ltr":"rtl"),xe.direction=rr?"ltr":"rtl",xe.textAlign=rr?"left":"right"),Ie-=Oe*this._fontSizeFraction/this.lineHeight,xr){this._renderChar(Ae,xe,Me,0,Se.join(""),Fe,Ie,Oe),xe.restore();return}for(var br=0,sr=Se.length-1;br<=sr;br++)Ue=br===sr||this.charSpacing||hr,ze+=Se[br],Ge=this.__charBounds[Me][br],We===0?(Fe+=er*(Ge.kernedWidth-Ge.width),We+=Ge.width):We+=Ge.kernedWidth,De&&!Ue&&this._reSpaceAndTab.test(Se[br])&&(Ue=!0),Ue||(Be=Be||this.getCompleteStyleDeclaration(Me,br),je=this.getCompleteStyleDeclaration(Me,br+1),Ue=St.util.hasStyleChanged(Be,je,!1)),Ue&&(hr?(xe.save(),xe.translate(Ge.renderLeft,Ge.renderTop),xe.rotate(Ge.angle),this._renderChar(Ae,xe,Me,br,ze,-We/2,0,Oe),xe.restore()):(vr=Fe,this._renderChar(Ae,xe,Me,br,ze,vr,Ie,Oe)),ze="",Be=je,Fe+=er*We,We=0);xe.restore()},_applyPatternGradientTransformText:function(Ae){var xe=St.util.createCanvasElement(),Se,Fe=this.width+this.strokeWidth,Ie=this.height+this.strokeWidth;return xe.width=Fe,xe.height=Ie,Se=xe.getContext("2d"),Se.beginPath(),Se.moveTo(0,0),Se.lineTo(Fe,0),Se.lineTo(Fe,Ie),Se.lineTo(0,Ie),Se.closePath(),Se.translate(Fe/2,Ie/2),Se.fillStyle=Ae.toLive(Se),this._applyPatternGradientTransform(Se,Ae),Se.fill(),Se.createPattern(xe,"no-repeat")},handleFiller:function(Ae,xe,Se){var Fe,Ie;return Se.toLive?Se.gradientUnits==="percentage"||Se.gradientTransform||Se.patternTransform?(Fe=-this.width/2,Ie=-this.height/2,Ae.translate(Fe,Ie),Ae[xe]=this._applyPatternGradientTransformText(Se),{offsetX:Fe,offsetY:Ie}):(Ae[xe]=Se.toLive(Ae,this),this._applyPatternGradientTransform(Ae,Se)):(Ae[xe]=Se,{offsetX:0,offsetY:0})},_setStrokeStyles:function(Ae,xe){return Ae.lineWidth=xe.strokeWidth,Ae.lineCap=this.strokeLineCap,Ae.lineDashOffset=this.strokeDashOffset,Ae.lineJoin=this.strokeLineJoin,Ae.miterLimit=this.strokeMiterLimit,this.handleFiller(Ae,"strokeStyle",xe.stroke)},_setFillStyles:function(Ae,xe){return this.handleFiller(Ae,"fillStyle",xe.fill)},_renderChar:function(Ae,xe,Se,Fe,Ie,Me,Oe){var De=this._getStyleDeclaration(Se,Fe),Be=this.getCompleteStyleDeclaration(Se,Fe),je=Ae==="fillText"&&Be.fill,ze=Ae==="strokeText"&&Be.stroke&&Be.strokeWidth,Ge,We;!ze&&!je||(xe.save(),je&&(Ge=this._setFillStyles(xe,Be)),ze&&(We=this._setStrokeStyles(xe,Be)),xe.font=this._getFontDeclaration(Be),De&&De.textBackgroundColor&&this._removeShadow(xe),De&&De.deltaY&&(Oe+=De.deltaY),je&&xe.fillText(Ie,Me-Ge.offsetX,Oe-Ge.offsetY),ze&&xe.strokeText(Ie,Me-We.offsetX,Oe-We.offsetY),xe.restore())},setSuperscript:function(Ae,xe){return this._setScript(Ae,xe,this.superscript)},setSubscript:function(Ae,xe){return this._setScript(Ae,xe,this.subscript)},_setScript:function(Ae,xe,Se){var Fe=this.get2DCursorLocation(Ae,!0),Ie=this.getValueOfPropertyAt(Fe.lineIndex,Fe.charIndex,"fontSize"),Me=this.getValueOfPropertyAt(Fe.lineIndex,Fe.charIndex,"deltaY"),Oe={fontSize:Ie*Se.size,deltaY:Me+Ie*Se.baseline};return this.setSelectionStyles(Oe,Ae,xe),this},_getLineLeftOffset:function(Ae){var xe=this.getLineWidth(Ae),Se=this.width-xe,Fe=this.textAlign,Ie=this.direction,Oe,Me=0,Oe=this.isEndOfWrapping(Ae);return Fe==="justify"||Fe==="justify-center"&&!Oe||Fe==="justify-right"&&!Oe||Fe==="justify-left"&&!Oe?0:(Fe==="center"&&(Me=Se/2),Fe==="right"&&(Me=Se),Fe==="justify-center"&&(Me=Se/2),Fe==="justify-right"&&(Me=Se),Ie==="rtl"&&(Me-=Se),Me)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var Ae=this._forceClearCache;return Ae||(Ae=this.hasStateChanged("_dimensionAffectingProps")),Ae&&(this.dirty=!0,this._forceClearCache=!1),Ae},getLineWidth:function(Ae){if(this.__lineWidths[Ae]!==void 0)return this.__lineWidths[Ae];var xe=this.measureLine(Ae),Se=xe.width;return this.__lineWidths[Ae]=Se,Se},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(Ae,xe,Se){var Fe=this._getStyleDeclaration(Ae,xe);return Fe&&typeof Fe[Se]<"u"?Fe[Se]:this[Se]},_renderTextDecoration:function(Ae,xe){if(!(!this[xe]&&!this.styleHas(xe))){for(var Se,Fe,Ie,Me,Oe,De,Be,je,ze=this._getLeftOffset(),Ge=this._getTopOffset(),We,Ue,hr,xr,rr,er,vr,gr,br=this.path,sr=this._getWidthOfCharSpacing(),nr=this.offsets[xe],Je=0,$e=this._textLines.length;Je<$e;Je++){if(Se=this.getHeightOfLine(Je),!this[xe]&&!this.styleHas(xe,Je)){Ge+=Se;continue}Be=this._textLines[Je],er=Se/this.lineHeight,Me=this._getLineLeftOffset(Je),Ue=0,hr=0,je=this.getValueOfPropertyAt(Je,0,xe),gr=this.getValueOfPropertyAt(Je,0,"fill"),We=Ge+er*(1-this._fontSizeFraction),Fe=this.getHeightOfChar(Je,0),Oe=this.getValueOfPropertyAt(Je,0,"deltaY");for(var tr=0,ir=Be.length;tr<ir;tr++)if(xr=this.__charBounds[Je][tr],rr=this.getValueOfPropertyAt(Je,tr,xe),vr=this.getValueOfPropertyAt(Je,tr,"fill"),Ie=this.getHeightOfChar(Je,tr),De=this.getValueOfPropertyAt(Je,tr,"deltaY"),br&&rr&&vr)Ae.save(),Ae.fillStyle=gr,Ae.translate(xr.renderLeft,xr.renderTop),Ae.rotate(xr.angle),Ae.fillRect(-xr.kernedWidth/2,nr*Ie+De,xr.kernedWidth,this.fontSize/15),Ae.restore();else if((rr!==je||vr!==gr||Ie!==Fe||De!==Oe)&&hr>0){var Xe=ze+Me+Ue;this.direction==="rtl"&&(Xe=this.width-Xe-hr),je&&gr&&(Ae.fillStyle=gr,Ae.fillRect(Xe,We+nr*Fe+Oe,hr,this.fontSize/15)),Ue=xr.left,hr=xr.width,je=rr,gr=vr,Fe=Ie,Oe=De}else hr+=xr.kernedWidth;var Xe=ze+Me+Ue;this.direction==="rtl"&&(Xe=this.width-Xe-hr),Ae.fillStyle=vr,rr&&vr&&Ae.fillRect(Xe,We+nr*Fe+Oe,hr-sr,this.fontSize/15),Ge+=Se}this._removeShadow(Ae)}},_getFontDeclaration:function(Ae,xe){var Se=Ae||this,Fe=this.fontFamily,Ie=St.Text.genericFonts.indexOf(Fe.toLowerCase())>-1,Me=Fe===void 0||Fe.indexOf("'")>-1||Fe.indexOf(",")>-1||Fe.indexOf('"')>-1||Ie?Se.fontFamily:'"'+Se.fontFamily+'"';return[St.isLikelyNode?Se.fontWeight:Se.fontStyle,St.isLikelyNode?Se.fontStyle:Se.fontWeight,xe?this.CACHE_FONT_SIZE+"px":Se.fontSize+"px",Me].join(" ")},render:function(Ae){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",Ae))},_splitTextIntoLines:function(Ae){for(var xe=Ae.split(this._reNewline),Se=new Array(xe.length),Fe=[`
`],Ie=[],Me=0;Me<xe.length;Me++)Se[Me]=St.util.string.graphemeSplit(xe[Me]),Ie=Ie.concat(Se[Me],Fe);return Ie.pop(),{_unwrappedLines:Se,lines:xe,graphemeText:Ie,graphemeLines:Se}},toObject:function(Ae){var xe=ke.concat(Ae),Se=this.callSuper("toObject",xe);return Se.styles=St.util.stylesToArray(this.styles,this.text),Se.path&&(Se.path=this.path.toObject()),Se},set:function(Ae,xe){this.callSuper("set",Ae,xe);var Se=!1,Fe=!1;if(typeof Ae=="object")for(var Ie in Ae)Ie==="path"&&this.setPathInfo(),Se=Se||this._dimensionAffectingProps.indexOf(Ie)!==-1,Fe=Fe||Ie==="path";else Se=this._dimensionAffectingProps.indexOf(Ae)!==-1,Fe=Ae==="path";return Fe&&this.setPathInfo(),Se&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),St.Text.ATTRIBUTE_NAMES=St.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),St.Text.DEFAULT_SVG_FONT_SIZE=16,St.Text.fromElement=function(Ae,xe,Se){if(!Ae)return xe(null);var Fe=St.parseAttributes(Ae,St.Text.ATTRIBUTE_NAMES),Ie=Fe.textAnchor||"left";if(Se=St.util.object.extend(Se?Te(Se):{},Fe),Se.top=Se.top||0,Se.left=Se.left||0,Fe.textDecoration){var Me=Fe.textDecoration;Me.indexOf("underline")!==-1&&(Se.underline=!0),Me.indexOf("overline")!==-1&&(Se.overline=!0),Me.indexOf("line-through")!==-1&&(Se.linethrough=!0),delete Se.textDecoration}"dx"in Fe&&(Se.left+=Fe.dx),"dy"in Fe&&(Se.top+=Fe.dy),"fontSize"in Se||(Se.fontSize=St.Text.DEFAULT_SVG_FONT_SIZE);var Oe="";"textContent"in Ae?Oe=Ae.textContent:"firstChild"in Ae&&Ae.firstChild!==null&&"data"in Ae.firstChild&&Ae.firstChild.data!==null&&(Oe=Ae.firstChild.data),Oe=Oe.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var De=Se.strokeWidth;Se.strokeWidth=0;var Be=new St.Text(Oe,Se),je=Be.getScaledHeight()/Be.height,ze=(Be.height+Be.strokeWidth)*Be.lineHeight-Be.height,Ge=ze*je,We=Be.getScaledHeight()+Ge,Ue=0;Ie==="center"&&(Ue=Be.getScaledWidth()/2),Ie==="right"&&(Ue=Be.getScaledWidth()),Be.set({left:Be.left-Ue,top:Be.top-(We-Be.fontSize*(.07+Be._fontSizeFraction))/Be.lineHeight,strokeWidth:typeof De<"u"?De:1}),xe(Be)},St.Text.fromObject=function(Ae,xe){var Se=Te(Ae),Fe=Ae.path;return delete Se.path,St.Object._fromObject("Text",Se,function(Ie){Ie.styles=St.util.stylesFromArray(Ae.styles,Ae.text),Fe?St.Object._fromObject("Path",Fe,function(Me){Ie.set("path",Me),xe(Ie)},"path"):xe(Ie)},"text")},St.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],St.util.createAccessors&&St.util.createAccessors(St.Text)}(t),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(Pe){if(!this.styles||typeof Pe<"u"&&!this.styles[Pe])return!0;var St=typeof Pe>"u"?this.styles:{line:this.styles[Pe]};for(var Te in St)for(var ke in St[Te])for(var Ae in St[Te][ke])return!1;return!0},styleHas:function(Pe,St){if(!this.styles||!Pe||Pe===""||typeof St<"u"&&!this.styles[St])return!1;var Te=typeof St>"u"?this.styles:{0:this.styles[St]};for(var ke in Te)for(var Ae in Te[ke])if(typeof Te[ke][Ae][Pe]<"u")return!0;return!1},cleanStyle:function(Pe){if(!this.styles||!Pe||Pe==="")return!1;var St=this.styles,Te=0,ke,Ae,xe=!0,Se=0,Fe;for(var Ie in St){ke=0;for(var Me in St[Ie]){var Fe=St[Ie][Me],Oe=Fe.hasOwnProperty(Pe);Te++,Oe?(Ae?Fe[Pe]!==Ae&&(xe=!1):Ae=Fe[Pe],Fe[Pe]===this[Pe]&&delete Fe[Pe]):xe=!1,Object.keys(Fe).length!==0?ke++:delete St[Ie][Me]}ke===0&&delete St[Ie]}for(var De=0;De<this._textLines.length;De++)Se+=this._textLines[De].length;xe&&Te===Se&&(this[Pe]=Ae,this.removeStyle(Pe))},removeStyle:function(Pe){if(!(!this.styles||!Pe||Pe==="")){var St=this.styles,Te,ke,Ae;for(ke in St){Te=St[ke];for(Ae in Te)delete Te[Ae][Pe],Object.keys(Te[Ae]).length===0&&delete Te[Ae];Object.keys(Te).length===0&&delete St[ke]}}},_extendStyles:function(Pe,St){var Te=this.get2DCursorLocation(Pe);this._getLineStyle(Te.lineIndex)||this._setLineStyle(Te.lineIndex),this._getStyleDeclaration(Te.lineIndex,Te.charIndex)||this._setStyleDeclaration(Te.lineIndex,Te.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(Te.lineIndex,Te.charIndex),St)},get2DCursorLocation:function(Pe,St){typeof Pe>"u"&&(Pe=this.selectionStart);for(var Te=St?this._unwrappedTextLines:this._textLines,ke=Te.length,Ae=0;Ae<ke;Ae++){if(Pe<=Te[Ae].length)return{lineIndex:Ae,charIndex:Pe};Pe-=Te[Ae].length+this.missingNewlineOffset(Ae)}return{lineIndex:Ae-1,charIndex:Te[Ae-1].length<Pe?Te[Ae-1].length:Pe}},getSelectionStyles:function(Pe,St,Te){typeof Pe>"u"&&(Pe=this.selectionStart||0),typeof St>"u"&&(St=this.selectionEnd||Pe);for(var ke=[],Ae=Pe;Ae<St;Ae++)ke.push(this.getStyleAtPosition(Ae,Te));return ke},getStyleAtPosition:function(Pe,St){var Te=this.get2DCursorLocation(Pe),ke=St?this.getCompleteStyleDeclaration(Te.lineIndex,Te.charIndex):this._getStyleDeclaration(Te.lineIndex,Te.charIndex);return ke||{}},setSelectionStyles:function(Pe,St,Te){typeof St>"u"&&(St=this.selectionStart||0),typeof Te>"u"&&(Te=this.selectionEnd||St);for(var ke=St;ke<Te;ke++)this._extendStyles(ke,Pe);return this._forceClearCache=!0,this},_getStyleDeclaration:function(Pe,St){var Te=this.styles&&this.styles[Pe];return Te?Te[St]:null},getCompleteStyleDeclaration:function(Pe,St){for(var Te=this._getStyleDeclaration(Pe,St)||{},ke={},Ae,xe=0;xe<this._styleProperties.length;xe++)Ae=this._styleProperties[xe],ke[Ae]=typeof Te[Ae]>"u"?this[Ae]:Te[Ae];return ke},_setStyleDeclaration:function(Pe,St,Te){this.styles[Pe][St]=Te},_deleteStyleDeclaration:function(Pe,St){delete this.styles[Pe][St]},_getLineStyle:function(Pe){return!!this.styles[Pe]},_setLineStyle:function(Pe){this.styles[Pe]={}},_deleteLineStyle:function(Pe){delete this.styles[Pe]}})}(),function(){function Pe(St){St.textDecoration&&(St.textDecoration.indexOf("underline")>-1&&(St.underline=!0),St.textDecoration.indexOf("line-through")>-1&&(St.linethrough=!0),St.textDecoration.indexOf("overline")>-1&&(St.overline=!0),delete St.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(St,Te){this.callSuper("initialize",St,Te),this.initBehavior()},setSelectionStart:function(St){St=Math.max(St,0),this._updateAndFire("selectionStart",St)},setSelectionEnd:function(St){St=Math.min(St,this.text.length),this._updateAndFire("selectionEnd",St)},_updateAndFire:function(St,Te){this[St]!==Te&&(this._fireSelectionChanged(),this[St]=Te),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(St){this.clearContextTop(),this.callSuper("render",St),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(St){this.callSuper("_render",St)},clearContextTop:function(St){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var Te=this.canvas.contextTop,ke=this.canvas.viewportTransform;Te.save(),Te.transform(ke[0],ke[1],ke[2],ke[3],ke[4],ke[5]),this.transform(Te),this._clearTextArea(Te),St||Te.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var St=this._getCursorBoundaries(),Te=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(St,Te):this.renderSelection(St,Te),Te.restore()}},_clearTextArea:function(St){var Te=this.width+4,ke=this.height+4;St.clearRect(-Te/2,-ke/2,Te,ke)},_getCursorBoundaries:function(St){typeof St>"u"&&(St=this.selectionStart);var Te=this._getLeftOffset(),ke=this._getTopOffset(),Ae=this._getCursorBoundariesOffsets(St);return{left:Te,top:ke,leftOffset:Ae.left,topOffset:Ae.top}},_getCursorBoundariesOffsets:function(St){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var Te,ke,Ae,xe=0,Se=0,Fe,Ie=this.get2DCursorLocation(St);Ae=Ie.charIndex,ke=Ie.lineIndex;for(var Me=0;Me<ke;Me++)xe+=this.getHeightOfLine(Me);Te=this._getLineLeftOffset(ke);var Oe=this.__charBounds[ke][Ae];return Oe&&(Se=Oe.left),this.charSpacing!==0&&Ae===this._textLines[ke].length&&(Se-=this._getWidthOfCharSpacing()),Fe={top:xe,left:Te+(Se>0?Se:0)},this.direction==="rtl"&&(Fe.left*=-1),this.cursorOffsetCache=Fe,this.cursorOffsetCache},renderCursor:function(St,Te){var ke=this.get2DCursorLocation(),Ae=ke.lineIndex,xe=ke.charIndex>0?ke.charIndex-1:0,Se=this.getValueOfPropertyAt(Ae,xe,"fontSize"),Fe=this.scaleX*this.canvas.getZoom(),Ie=this.cursorWidth/Fe,Me=St.topOffset,Oe=this.getValueOfPropertyAt(Ae,xe,"deltaY");Me+=(1-this._fontSizeFraction)*this.getHeightOfLine(Ae)/this.lineHeight-Se*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(St,Te),Te.fillStyle=this.cursorColor||this.getValueOfPropertyAt(Ae,xe,"fill"),Te.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,Te.fillRect(St.left+St.leftOffset-Ie/2,Me+St.top+Oe,Ie,Se)},renderSelection:function(St,Te){for(var ke=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,Ae=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,xe=this.textAlign.indexOf("justify")!==-1,Se=this.get2DCursorLocation(ke),Fe=this.get2DCursorLocation(Ae),Ie=Se.lineIndex,Me=Fe.lineIndex,Oe=Se.charIndex<0?0:Se.charIndex,De=Fe.charIndex<0?0:Fe.charIndex,Be=Ie;Be<=Me;Be++){var je=this._getLineLeftOffset(Be)||0,ze=this.getHeightOfLine(Be),Ge=0,We=0,Ue=0;if(Be===Ie&&(We=this.__charBounds[Ie][Oe].left),Be>=Ie&&Be<Me)Ue=xe&&!this.isEndOfWrapping(Be)?this.width:this.getLineWidth(Be)||5;else if(Be===Me)if(De===0)Ue=this.__charBounds[Me][De].left;else{var hr=this._getWidthOfCharSpacing();Ue=this.__charBounds[Me][De-1].left+this.__charBounds[Me][De-1].width-hr}Ge=ze,(this.lineHeight<1||Be===Me&&this.lineHeight>1)&&(ze/=this.lineHeight);var xr=St.left+je+We,rr=Ue-We,er=ze,vr=0;this.inCompositionMode?(Te.fillStyle=this.compositionColor||"black",er=1,vr=ze):Te.fillStyle=this.selectionColor,this.direction==="rtl"&&(xr=this.width-xr-rr),Te.fillRect(xr,St.top+St.topOffset+vr,rr,er),St.topOffset+=Ge}},getCurrentCharFontSize:function(){var St=this._getCurrentCharIndex();return this.getValueOfPropertyAt(St.l,St.c,"fontSize")},getCurrentCharColor:function(){var St=this._getCurrentCharIndex();return this.getValueOfPropertyAt(St.l,St.c,"fill")},_getCurrentCharIndex:function(){var St=this.get2DCursorLocation(this.selectionStart,!0),Te=St.charIndex>0?St.charIndex-1:0;return{l:St.lineIndex,c:Te}}}),e.IText.fromObject=function(St,Te){var ke=e.util.stylesFromArray(St.styles,St.text),Ae=Object.assign({},St,{styles:ke});if(Pe(Ae),Ae.styles)for(var xe in Ae.styles)for(var Se in Ae.styles[xe])Pe(Ae.styles[xe][Se]);e.Object._fromObject("IText",Ae,Te,"text")}}(),function(){var Pe=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var St=this;this.on("added",function(){var Te=St.canvas;Te&&(Te._hasITextHandlers||(Te._hasITextHandlers=!0,St._initCanvasHandlers(Te)),Te._iTextInstances=Te._iTextInstances||[],Te._iTextInstances.push(St))})},initRemovedHandler:function(){var St=this;this.on("removed",function(){var Te=St.canvas;Te&&(Te._iTextInstances=Te._iTextInstances||[],e.util.removeFromArray(Te._iTextInstances,St),Te._iTextInstances.length===0&&(Te._hasITextHandlers=!1,St._removeCanvasHandlers(Te)))})},_initCanvasHandlers:function(St){St._mouseUpITextHandler=function(){St._iTextInstances&&St._iTextInstances.forEach(function(Te){Te.__isMousedown=!1})},St.on("mouse:up",St._mouseUpITextHandler)},_removeCanvasHandlers:function(St){St.off("mouse:up",St._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(St,Te,ke,Ae){var xe;return xe={isAborted:!1,abort:function(){this.isAborted=!0}},St.animate("_currentCursorOpacity",Te,{duration:ke,onComplete:function(){xe.isAborted||St[Ae]()},onChange:function(){St.canvas&&St.selectionStart===St.selectionEnd&&St.renderCursorOrSelection()},abort:function(){return xe.isAborted}}),xe},_onTickComplete:function(){var St=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){St._currentTickCompleteState=St._animateCursor(St,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(St){var Te=this,ke=St?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){Te._tick()},ke)},abortCursorAnimation:function(){var St=this._currentTickState||this._currentTickCompleteState,Te=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,St&&Te&&Te.clearContext(Te.contextTop||Te.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(St){var Te=0,ke=St-1;if(this._reSpace.test(this._text[ke]))for(;this._reSpace.test(this._text[ke]);)Te++,ke--;for(;/\S/.test(this._text[ke])&&ke>-1;)Te++,ke--;return St-Te},findWordBoundaryRight:function(St){var Te=0,ke=St;if(this._reSpace.test(this._text[ke]))for(;this._reSpace.test(this._text[ke]);)Te++,ke++;for(;/\S/.test(this._text[ke])&&ke<this._text.length;)Te++,ke++;return St+Te},findLineBoundaryLeft:function(St){for(var Te=0,ke=St-1;!/\n/.test(this._text[ke])&&ke>-1;)Te++,ke--;return St-Te},findLineBoundaryRight:function(St){for(var Te=0,ke=St;!/\n/.test(this._text[ke])&&ke<this._text.length;)Te++,ke++;return St+Te},searchWordBoundary:function(St,Te){for(var ke=this._text,Ae=this._reSpace.test(ke[St])?St-1:St,xe=ke[Ae],Se=e.reNonWord;!Se.test(xe)&&Ae>0&&Ae<ke.length;)Ae+=Te,xe=ke[Ae];return Se.test(xe)&&(Ae+=Te===1?0:1),Ae},selectWord:function(St){St=St||this.selectionStart;var Te=this.searchWordBoundary(St,-1),ke=this.searchWordBoundary(St,1);this.selectionStart=Te,this.selectionEnd=ke,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(St){St=St||this.selectionStart;var Te=this.findLineBoundaryLeft(St),ke=this.findLineBoundaryRight(St);return this.selectionStart=Te,this.selectionEnd=ke,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(St){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(St),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(St){St._iTextInstances&&St._iTextInstances.forEach(function(Te){Te.selected=!1,Te.isEditing&&Te.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(St){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var Te=this.getSelectionStartFromPointer(St.e),ke=this.selectionStart,Ae=this.selectionEnd;(Te!==this.__selectionStartOnMouseDown||ke===Ae)&&(ke===Te||Ae===Te)||(Te>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=Te):(this.selectionStart=Te,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==ke||this.selectionEnd!==Ae)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(St,Te,ke){var Ae=ke.slice(0,St),xe=e.util.string.graphemeSplit(Ae).length;if(St===Te)return{selectionStart:xe,selectionEnd:xe};var Se=ke.slice(St,Te),Fe=e.util.string.graphemeSplit(Se).length;return{selectionStart:xe,selectionEnd:xe+Fe}},fromGraphemeToStringSelection:function(St,Te,ke){var Ae=ke.slice(0,St),xe=Ae.join("").length;if(St===Te)return{selectionStart:xe,selectionEnd:xe};var Se=ke.slice(St,Te),Fe=Se.join("").length;return{selectionStart:xe,selectionEnd:xe+Fe}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var St=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=St.selectionStart,this.hiddenTextarea.selectionEnd=St.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var St=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=St.selectionEnd,this.inCompositionMode||(this.selectionStart=St.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var St=this._calcTextareaPosition();this.hiddenTextarea.style.left=St.left,this.hiddenTextarea.style.top=St.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var St=this.inCompositionMode?this.compositionStart:this.selectionStart,Te=this._getCursorBoundaries(St),ke=this.get2DCursorLocation(St),Ae=ke.lineIndex,xe=ke.charIndex,Se=this.getValueOfPropertyAt(Ae,xe,"fontSize")*this.lineHeight,Fe=Te.leftOffset,Ie=this.calcTransformMatrix(),Me={x:Te.left+Fe,y:Te.top+Te.topOffset+Se},Oe=this.canvas.getRetinaScaling(),De=this.canvas.upperCanvasEl,Be=De.width/Oe,je=De.height/Oe,ze=Be-Se,Ge=je-Se,We=De.clientWidth/Be,Ue=De.clientHeight/je;return Me=e.util.transformPoint(Me,Ie),Me=e.util.transformPoint(Me,this.canvas.viewportTransform),Me.x*=We,Me.y*=Ue,Me.x<0&&(Me.x=0),Me.x>ze&&(Me.x=ze),Me.y<0&&(Me.y=0),Me.y>Ge&&(Me.y=Ge),Me.x+=this.canvas._offset.left,Me.y+=this.canvas._offset.top,{left:Me.x+"px",top:Me.y+"px",fontSize:Se+"px",charHeight:Se}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var St=this._textBeforeEdit!==this.text,Te=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,Te&&(Te.blur&&Te.blur(),Te.parentNode&&Te.parentNode.removeChild(Te)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),St&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),St&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var St in this.styles)this._textLines[St]||delete this.styles[St]},removeStyleFromTo:function(St,Te){var ke=this.get2DCursorLocation(St,!0),Ae=this.get2DCursorLocation(Te,!0),xe=ke.lineIndex,Se=ke.charIndex,Fe=Ae.lineIndex,Ie=Ae.charIndex,Me,Oe;if(xe!==Fe){if(this.styles[xe])for(Me=Se;Me<this._unwrappedTextLines[xe].length;Me++)delete this.styles[xe][Me];if(this.styles[Fe])for(Me=Ie;Me<this._unwrappedTextLines[Fe].length;Me++)Oe=this.styles[Fe][Me],Oe&&(this.styles[xe]||(this.styles[xe]={}),this.styles[xe][Se+Me-Ie]=Oe);for(Me=xe+1;Me<=Fe;Me++)delete this.styles[Me];this.shiftLineStyles(Fe,xe-Fe)}else if(this.styles[xe]){Oe=this.styles[xe];var De=Ie-Se,Be,je;for(Me=Se;Me<Ie;Me++)delete Oe[Me];for(je in this.styles[xe])Be=parseInt(je,10),Be>=Ie&&(Oe[Be-De]=Oe[je],delete Oe[je])}},shiftLineStyles:function(St,Te){var ke=Pe(this.styles);for(var Ae in this.styles){var xe=parseInt(Ae,10);xe>St&&(this.styles[xe+Te]=ke[xe],ke[xe-Te]||delete this.styles[xe])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(St,Te,ke,Ae){var xe,Se={},Fe=!1,Ie=this._unwrappedTextLines[St].length===Te;ke||(ke=1),this.shiftLineStyles(St,ke),this.styles[St]&&(xe=this.styles[St][Te===0?Te:Te-1]);for(var Me in this.styles[St]){var Oe=parseInt(Me,10);Oe>=Te&&(Fe=!0,Se[Oe-Te]=this.styles[St][Me],Ie&&Te===0||delete this.styles[St][Me])}var De=!1;for(Fe&&!Ie&&(this.styles[St+ke]=Se,De=!0),De&&ke--;ke>0;)Ae&&Ae[ke-1]?this.styles[St+ke]={0:Pe(Ae[ke-1])}:xe?this.styles[St+ke]={0:Pe(xe)}:delete this.styles[St+ke],ke--;this._forceClearCache=!0},insertCharStyleObject:function(St,Te,ke,Ae){this.styles||(this.styles={});var xe=this.styles[St],Se=xe?Pe(xe):{};ke||(ke=1);for(var Fe in Se){var Ie=parseInt(Fe,10);Ie>=Te&&(xe[Ie+ke]=Se[Ie],Se[Ie-ke]||delete xe[Ie])}if(this._forceClearCache=!0,Ae){for(;ke--;)!Object.keys(Ae[ke]).length||(this.styles[St]||(this.styles[St]={}),this.styles[St][Te+ke]=Pe(Ae[ke]));return}if(!!xe)for(var Me=xe[Te?Te-1:1];Me&&ke--;)this.styles[St][Te+ke]=Pe(Me)},insertNewStyleBlock:function(St,Te,ke){for(var Ae=this.get2DCursorLocation(Te,!0),xe=[0],Se=0,Fe=0;Fe<St.length;Fe++)St[Fe]===`
`?(Se++,xe[Se]=0):xe[Se]++;xe[0]>0&&(this.insertCharStyleObject(Ae.lineIndex,Ae.charIndex,xe[0],ke),ke=ke&&ke.slice(xe[0]+1)),Se&&this.insertNewlineStyleObject(Ae.lineIndex,Ae.charIndex+xe[0],Se);for(var Fe=1;Fe<Se;Fe++)xe[Fe]>0?this.insertCharStyleObject(Ae.lineIndex+Fe,0,xe[Fe],ke):ke&&this.styles[Ae.lineIndex+Fe]&&ke[0]&&(this.styles[Ae.lineIndex+Fe][0]=ke[0]),ke=ke&&ke.slice(xe[Fe]+1);xe[Fe]>0&&this.insertCharStyleObject(Ae.lineIndex+Fe,0,xe[Fe],ke)},setSelectionStartEndWithShift:function(St,Te,ke){ke<=St?(Te===St?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=St),this.selectionStart=ke):ke>St&&ke<Te?this._selectionDirection==="right"?this.selectionEnd=ke:this.selectionStart=ke:(Te===St?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=Te),this.selectionEnd=ke)},setSelectionInBoundaries:function(){var St=this.text.length;this.selectionStart>St?this.selectionStart=St:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>St?this.selectionEnd=St:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(Pe){if(!!this.canvas){this.__newClickTime=+new Date;var St=Pe.pointer;this.isTripleClick(St)&&(this.fire("tripleclick",Pe),this._stopEvent(Pe.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=St,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(Pe){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===Pe.x&&this.__lastPointer.y===Pe.y},_stopEvent:function(Pe){Pe.preventDefault&&Pe.preventDefault(),Pe.stopPropagation&&Pe.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(Pe){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(Pe.e))},tripleClickHandler:function(Pe){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(Pe.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(Pe){!this.canvas||!this.editable||Pe.e.button&&Pe.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(Pe.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(Pe){!this.canvas||!this.editable||Pe.e.button&&Pe.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(Pe){if(this.__isMousedown=!1,!(!this.editable||this.group||Pe.transform&&Pe.transform.actionPerformed||Pe.e.button&&Pe.e.button!==1)){if(this.canvas){var St=this.canvas._activeObject;if(St&&St!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(Pe.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(Pe){var St=this.getSelectionStartFromPointer(Pe),Te=this.selectionStart,ke=this.selectionEnd;Pe.shiftKey?this.setSelectionStartEndWithShift(Te,ke,St):(this.selectionStart=St,this.selectionEnd=St),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(Pe){for(var St=this.getLocalPointer(Pe),Te=0,ke=0,Ae=0,xe=0,Se=0,Fe,Ie,Me=0,Oe=this._textLines.length;Me<Oe&&Ae<=St.y;Me++)Ae+=this.getHeightOfLine(Me)*this.scaleY,Se=Me,Me>0&&(xe+=this._textLines[Me-1].length+this.missingNewlineOffset(Me-1));Fe=this._getLineLeftOffset(Se),ke=Fe*this.scaleX,Ie=this._textLines[Se],this.direction==="rtl"&&(St.x=this.width*this.scaleX-St.x+ke);for(var De=0,Be=Ie.length;De<Be&&(Te=ke,ke+=this.__charBounds[Se][De].kernedWidth*this.scaleX,ke<=St.x);De++)xe++;return this._getNewSelectionStartFromOffset(St,Te,ke,xe,Be)},_getNewSelectionStartFromOffset:function(Pe,St,Te,ke,Ae){var xe=Pe.x-St,Se=Te-Pe.x,Fe=Se>xe||Se<0?0:1,Ie=ke+Fe;return this.flipX&&(Ie=Ae-Ie),Ie>this._text.length&&(Ie=this._text.length),Ie}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var Pe=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+Pe.top+"; left: "+Pe.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+Pe.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(Pe){if(!!this.isEditing){var St=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(Pe.keyCode in St)this[St[Pe.keyCode]](Pe);else if(Pe.keyCode in this.ctrlKeysMapDown&&(Pe.ctrlKey||Pe.metaKey))this[this.ctrlKeysMapDown[Pe.keyCode]](Pe);else return;Pe.stopImmediatePropagation(),Pe.preventDefault(),Pe.keyCode>=33&&Pe.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(Pe){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(Pe.keyCode in this.ctrlKeysMapUp&&(Pe.ctrlKey||Pe.metaKey))this[this.ctrlKeysMapUp[Pe.keyCode]](Pe);else return;Pe.stopImmediatePropagation(),Pe.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(Pe){var St=this.fromPaste;if(this.fromPaste=!1,Pe&&Pe.stopPropagation(),!!this.isEditing){var Te=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,ke=this._text.length,Ae=Te.length,xe,Se,Fe=Ae-ke,Ie=this.selectionStart,Me=this.selectionEnd,Oe=Ie!==Me,De,Be,je;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var ze=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),Ge=Ie>ze.selectionStart;Oe?(xe=this._text.slice(Ie,Me),Fe+=Me-Ie):Ae<ke&&(Ge?xe=this._text.slice(Me+Fe,Me):xe=this._text.slice(Ie,Ie-Fe)),Se=Te.slice(ze.selectionEnd-Fe,ze.selectionEnd),xe&&xe.length&&(Se.length&&(De=this.getSelectionStyles(Ie,Ie+1,!1),De=Se.map(function(){return De[0]})),Oe?(Be=Ie,je=Me):Ge?(Be=Me-xe.length,je=Me):(Be=Me,je=Me+xe.length),this.removeStyleFromTo(Be,je)),Se.length&&(St&&Se.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(De=e.copiedTextStyle),this.insertNewStyleBlock(Se,Ie,De)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(Pe){this.compositionStart=Pe.target.selectionStart,this.compositionEnd=Pe.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(Pe){return Pe&&Pe.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(Pe,St){var Te=this._getLineLeftOffset(Pe),ke;return St>0&&(ke=this.__charBounds[Pe][St-1],Te+=ke.left+ke.width),Te},getDownCursorOffset:function(Pe,St){var Te=this._getSelectionForOffset(Pe,St),ke=this.get2DCursorLocation(Te),Ae=ke.lineIndex;if(Ae===this._textLines.length-1||Pe.metaKey||Pe.keyCode===34)return this._text.length-Te;var xe=ke.charIndex,Se=this._getWidthBeforeCursor(Ae,xe),Fe=this._getIndexOnLine(Ae+1,Se),Ie=this._textLines[Ae].slice(xe);return Ie.length+Fe+1+this.missingNewlineOffset(Ae)},_getSelectionForOffset:function(Pe,St){return Pe.shiftKey&&this.selectionStart!==this.selectionEnd&&St?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(Pe,St){var Te=this._getSelectionForOffset(Pe,St),ke=this.get2DCursorLocation(Te),Ae=ke.lineIndex;if(Ae===0||Pe.metaKey||Pe.keyCode===33)return-Te;var xe=ke.charIndex,Se=this._getWidthBeforeCursor(Ae,xe),Fe=this._getIndexOnLine(Ae-1,Se),Ie=this._textLines[Ae].slice(0,xe),Me=this.missingNewlineOffset(Ae-1);return-this._textLines[Ae-1].length+Fe-Ie.length+(1-Me)},_getIndexOnLine:function(Pe,St){for(var Te=this._textLines[Pe],ke=this._getLineLeftOffset(Pe),Ae=ke,xe=0,Se,Fe,Ie=0,Me=Te.length;Ie<Me;Ie++)if(Se=this.__charBounds[Pe][Ie].width,Ae+=Se,Ae>St){Fe=!0;var Oe=Ae-Se,De=Ae,Be=Math.abs(Oe-St),je=Math.abs(De-St);xe=je<Be?Ie:Ie-1;break}return Fe||(xe=Te.length-1),xe},moveCursorDown:function(Pe){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",Pe)},moveCursorUp:function(Pe){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",Pe)},_moveCursorUpOrDown:function(Pe,St){var Te="get"+Pe+"CursorOffset",ke=this[Te](St,this._selectionDirection==="right");St.shiftKey?this.moveCursorWithShift(ke):this.moveCursorWithoutShift(ke),ke!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(Pe){var St=this._selectionDirection==="left"?this.selectionStart+Pe:this.selectionEnd+Pe;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,St),Pe!==0},moveCursorWithoutShift:function(Pe){return Pe<0?(this.selectionStart+=Pe,this.selectionEnd=this.selectionStart):(this.selectionEnd+=Pe,this.selectionStart=this.selectionEnd),Pe!==0},moveCursorLeft:function(Pe){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",Pe)},_move:function(Pe,St,Te){var ke;if(Pe.altKey)ke=this["findWordBoundary"+Te](this[St]);else if(Pe.metaKey||Pe.keyCode===35||Pe.keyCode===36)ke=this["findLineBoundary"+Te](this[St]);else return this[St]+=Te==="Left"?-1:1,!0;if(typeof ke<"u"&&this[St]!==ke)return this[St]=ke,!0},_moveLeft:function(Pe,St){return this._move(Pe,St,"Left")},_moveRight:function(Pe,St){return this._move(Pe,St,"Right")},moveCursorLeftWithoutShift:function(Pe){var St=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(St=this._moveLeft(Pe,"selectionStart")),this.selectionEnd=this.selectionStart,St},moveCursorLeftWithShift:function(Pe){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(Pe,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(Pe,"selectionStart")},moveCursorRight:function(Pe){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",Pe)},_moveCursorLeftOrRight:function(Pe,St){var Te="moveCursor"+Pe+"With";this._currentCursorOpacity=1,St.shiftKey?Te+="Shift":Te+="outShift",this[Te](St)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(Pe){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(Pe,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(Pe,"selectionEnd")},moveCursorRightWithoutShift:function(Pe){var St=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(St=this._moveRight(Pe,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,St},removeChars:function(Pe,St){typeof St>"u"&&(St=Pe+1),this.removeStyleFromTo(Pe,St),this._text.splice(Pe,St-Pe),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(Pe,St,Te,ke){typeof ke>"u"&&(ke=Te),ke>Te&&this.removeStyleFromTo(Te,ke);var Ae=e.util.string.graphemeSplit(Pe);this.insertNewStyleBlock(Ae,Te,St),this._text=[].concat(this._text.slice(0,Te),Ae,this._text.slice(ke)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var Pe=e.util.toFixed,St=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var Te=this._getSVGLeftTopOffsets(),ke=this._getSVGTextAndBg(Te.textTop,Te.textLeft);return this._wrapSVGTextAndBg(ke)},toSVG:function(Te){return this._createBaseSVGMarkup(this._toSVG(),{reviver:Te,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(Te){var ke=!0,Ae=this.getSvgTextDecoration(this);return[Te.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",Ae?'text-decoration="'+Ae+'" ':"",'style="',this.getSvgStyles(ke),'"',this.addPaintOrder()," >",Te.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(Te,ke){var Ae=[],xe=[],Se=Te,Fe;this._setSVGBg(xe);for(var Ie=0,Me=this._textLines.length;Ie<Me;Ie++)Fe=this._getLineLeftOffset(Ie),(this.textBackgroundColor||this.styleHas("textBackgroundColor",Ie))&&this._setSVGTextLineBg(xe,Ie,ke+Fe,Se),this._setSVGTextLineText(Ae,Ie,ke+Fe,Se),Se+=this.getHeightOfLine(Ie);return{textSpans:Ae,textBgRects:xe}},_createTextCharSpan:function(Te,ke,Ae,xe){var Se=Te!==Te.trim()||Te.match(St),Fe=this.getSvgSpanStyles(ke,Se),Ie=Fe?'style="'+Fe+'"':"",Me=ke.deltaY,Oe="",De=e.Object.NUM_FRACTION_DIGITS;return Me&&(Oe=' dy="'+Pe(Me,De)+'" '),['<tspan x="',Pe(Ae,De),'" y="',Pe(xe,De),'" ',Oe,Ie,">",e.util.string.escapeXml(Te),"</tspan>"].join("")},_setSVGTextLineText:function(Te,ke,Ae,xe){var Se=this.getHeightOfLine(ke),Fe=this.textAlign.indexOf("justify")!==-1,Ie,Me,Oe="",De,Be,je=0,ze=this._textLines[ke],Ge;xe+=Se*(1-this._fontSizeFraction)/this.lineHeight;for(var We=0,Ue=ze.length-1;We<=Ue;We++)Ge=We===Ue||this.charSpacing,Oe+=ze[We],De=this.__charBounds[ke][We],je===0?(Ae+=De.kernedWidth-De.width,je+=De.width):je+=De.kernedWidth,Fe&&!Ge&&this._reSpaceAndTab.test(ze[We])&&(Ge=!0),Ge||(Ie=Ie||this.getCompleteStyleDeclaration(ke,We),Me=this.getCompleteStyleDeclaration(ke,We+1),Ge=e.util.hasStyleChanged(Ie,Me,!0)),Ge&&(Be=this._getStyleDeclaration(ke,We)||{},Te.push(this._createTextCharSpan(Oe,Be,Ae,xe)),Oe="",Ie=Me,Ae+=je,je=0)},_pushTextBgRect:function(Te,ke,Ae,xe,Se,Fe){var Ie=e.Object.NUM_FRACTION_DIGITS;Te.push("		<rect ",this._getFillAttributes(ke),' x="',Pe(Ae,Ie),'" y="',Pe(xe,Ie),'" width="',Pe(Se,Ie),'" height="',Pe(Fe,Ie),`"></rect>
`)},_setSVGTextLineBg:function(Te,ke,Ae,xe){for(var Se=this._textLines[ke],Fe=this.getHeightOfLine(ke)/this.lineHeight,Ie=0,Me=0,Oe,De,Be=this.getValueOfPropertyAt(ke,0,"textBackgroundColor"),je=0,ze=Se.length;je<ze;je++)Oe=this.__charBounds[ke][je],De=this.getValueOfPropertyAt(ke,je,"textBackgroundColor"),De!==Be?(Be&&this._pushTextBgRect(Te,Be,Ae+Me,xe,Ie,Fe),Me=Oe.left,Ie=Oe.width,Be=De):Ie+=Oe.kernedWidth;De&&this._pushTextBgRect(Te,De,Ae+Me,xe,Ie,Fe)},_getFillAttributes:function(Te){var ke=Te&&typeof Te=="string"?new e.Color(Te):"";return!ke||!ke.getSource()||ke.getAlpha()===1?'fill="'+Te+'"':'opacity="'+ke.getAlpha()+'" fill="'+ke.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(Te){for(var ke=0,Ae=0,xe=0;xe<Te;xe++)ke+=this.getHeightOfLine(xe);return Ae=this.getHeightOfLine(xe),{lineTop:ke,offset:(this._fontSizeMult-this._fontSizeFraction)*Ae/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(Te){var ke=e.Object.prototype.getSvgStyles.call(this,Te);return ke+" white-space: pre;"}})}(),function(Pe){var St=Pe.fabric||(Pe.fabric={});St.Textbox=St.util.createClass(St.IText,St.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:St.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(Te){for(var ke=0,Ae=0,xe=0,Se={},Fe=0;Fe<Te.graphemeLines.length;Fe++)Te.graphemeText[xe]===`
`&&Fe>0?(Ae=0,xe++,ke++):!this.splitByGrapheme&&this._reSpaceAndTab.test(Te.graphemeText[xe])&&Fe>0&&(Ae++,xe++),Se[Fe]={line:ke,offset:Ae},xe+=Te.graphemeLines[Fe].length,Ae+=Te.graphemeLines[Fe].length;return Se},styleHas:function(Te,ke){if(this._styleMap&&!this.isWrapping){var Ae=this._styleMap[ke];Ae&&(ke=Ae.line)}return St.Text.prototype.styleHas.call(this,Te,ke)},isEmptyStyles:function(Te){if(!this.styles)return!0;var ke=0,Ae=Te+1,xe,Se,Fe=!1,Ie=this._styleMap[Te],Me=this._styleMap[Te+1];Ie&&(Te=Ie.line,ke=Ie.offset),Me&&(Ae=Me.line,Fe=Ae===Te,xe=Me.offset),Se=typeof Te>"u"?this.styles:{line:this.styles[Te]};for(var Oe in Se)for(var De in Se[Oe])if(De>=ke&&(!Fe||De<xe))for(var Be in Se[Oe][De])return!1;return!0},_getStyleDeclaration:function(Te,ke){if(this._styleMap&&!this.isWrapping){var Ae=this._styleMap[Te];if(!Ae)return null;Te=Ae.line,ke=Ae.offset+ke}return this.callSuper("_getStyleDeclaration",Te,ke)},_setStyleDeclaration:function(Te,ke,Ae){var xe=this._styleMap[Te];Te=xe.line,ke=xe.offset+ke,this.styles[Te][ke]=Ae},_deleteStyleDeclaration:function(Te,ke){var Ae=this._styleMap[Te];Te=Ae.line,ke=Ae.offset+ke,delete this.styles[Te][ke]},_getLineStyle:function(Te){var ke=this._styleMap[Te];return!!this.styles[ke.line]},_setLineStyle:function(Te){var ke=this._styleMap[Te];this.styles[ke.line]={}},_wrapText:function(Te,ke){var Ae=[],xe;for(this.isWrapping=!0,xe=0;xe<Te.length;xe++)Ae=Ae.concat(this._wrapLine(Te[xe],xe,ke));return this.isWrapping=!1,Ae},_measureWord:function(Te,ke,Ae){var xe=0,Se,Fe=!0;Ae=Ae||0;for(var Ie=0,Me=Te.length;Ie<Me;Ie++){var Oe=this._getGraphemeBox(Te[Ie],ke,Ie+Ae,Se,Fe);xe+=Oe.kernedWidth,Se=Te[Ie]}return xe},_wrapLine:function(Te,ke,Ae,xr){var Se=0,Fe=this.splitByGrapheme,Ie=[],Me=[],Oe=Fe?St.util.string.graphemeSplit(Te):Te.split(this._wordJoiners),De="",Be=0,je=Fe?"":" ",ze=0,Ge=0,We=0,Ue=!0,hr=this._getWidthOfCharSpacing(),xr=xr||0;Oe.length===0&&Oe.push([]),Ae-=xr;for(var rr=0;rr<Oe.length;rr++)De=Fe?Oe[rr]:St.util.string.graphemeSplit(Oe[rr]),ze=this._measureWord(De,ke,Be),Be+=De.length,Se+=Ge+ze-hr,Se>Ae&&!Ue?(Ie.push(Me),Me=[],Se=ze,Ue=!0):Se+=hr,!Ue&&!Fe&&Me.push(je),Me=Me.concat(De),Ge=Fe?0:this._measureWord([je],ke,Be),Be++,Ue=!1,ze>We&&(We=ze);return rr&&Ie.push(Me),We+xr>this.dynamicMinWidth&&(this.dynamicMinWidth=We-hr+xr),Ie},isEndOfWrapping:function(Te){return!this._styleMap[Te+1]||this._styleMap[Te+1].line!==this._styleMap[Te].line},missingNewlineOffset:function(Te){return this.splitByGrapheme?this.isEndOfWrapping(Te)?1:0:1},_splitTextIntoLines:function(Te){for(var ke=St.Text.prototype._splitTextIntoLines.call(this,Te),Ae=this._wrapText(ke.lines,this.width),xe=new Array(Ae.length),Se=0;Se<Ae.length;Se++)xe[Se]=Ae[Se].join("");return ke.lines=xe,ke.graphemeLines=Ae,ke},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var Te={};for(var ke in this._styleMap)this._textLines[ke]&&(Te[this._styleMap[ke].line]=1);for(var ke in this.styles)Te[ke]||delete this.styles[ke]},toObject:function(Te){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(Te))}}),St.Textbox.fromObject=function(Te,ke){var Ae=St.util.stylesFromArray(Te.styles,Te.text),xe=Object.assign({},Te,{styles:Ae});return St.Object._fromObject("Textbox",xe,ke,"text")}}(t),function(){var Pe=e.controlsUtils,St=Pe.scaleSkewCursorStyleHandler,Te=Pe.scaleCursorStyleHandler,ke=Pe.scalingEqually,Ae=Pe.scalingYOrSkewingX,xe=Pe.scalingXOrSkewingY,Se=Pe.scaleOrSkewActionName,Fe=e.Object.prototype.controls;if(Fe.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:St,actionHandler:xe,getActionName:Se}),Fe.mr=new e.Control({x:.5,y:0,cursorStyleHandler:St,actionHandler:xe,getActionName:Se}),Fe.mb=new e.Control({x:0,y:.5,cursorStyleHandler:St,actionHandler:Ae,getActionName:Se}),Fe.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:St,actionHandler:Ae,getActionName:Se}),Fe.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:Te,actionHandler:ke}),Fe.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:Te,actionHandler:ke}),Fe.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:Te,actionHandler:ke}),Fe.br=new e.Control({x:.5,y:.5,cursorStyleHandler:Te,actionHandler:ke}),Fe.mtr=new e.Control({x:0,y:-.5,actionHandler:Pe.rotationWithSnapping,cursorStyleHandler:Pe.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var Ie=e.Textbox.prototype.controls={};Ie.mtr=Fe.mtr,Ie.tr=Fe.tr,Ie.br=Fe.br,Ie.tl=Fe.tl,Ie.bl=Fe.bl,Ie.mt=Fe.mt,Ie.mb=Fe.mb,Ie.mr=new e.Control({x:.5,y:0,actionHandler:Pe.changeWidth,cursorStyleHandler:St,actionName:"resizing"}),Ie.ml=new e.Control({x:-.5,y:0,actionHandler:Pe.changeWidth,cursorStyleHandler:St,actionName:"resizing"})}}()})(fabric$1);const _hoisted_1$1={key:0,class:"w-80 max-h-2/3 bg-bg text-primary rounded-2xl p-4 flex-ccc gap-3"},_hoisted_2$1=createBaseVNode("p",null,"\u8ACB\u9078\u64C7\u7C3D\u540D",-1),_hoisted_3$1=["onClick"],_hoisted_4$1=["src"],_hoisted_5$1=["onClick"],_hoisted_6$1=createBaseVNode("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.29289 3.29289C9.48043 3.10536 9.73478 3 10 3H14C14.2652 3 14.5196 3.10536 14.7071 3.29289C14.8946 3.48043 15 3.73478 15 4V5H9V4C9 3.73478 9.10536 3.48043 9.29289 3.29289ZM7 5V4C7 3.20435 7.31607 2.44129 7.87868 1.87868C8.44129 1.31607 9.20435 1 10 1H14C14.7956 1 15.5587 1.31607 16.1213 1.87868C16.6839 2.44129 17 3.20435 17 4V5H19H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H20V20C20 20.7957 19.6839 21.5587 19.1213 22.1213C18.5587 22.6839 17.7957 23 17 23H7C6.20435 23 5.44129 22.6839 4.87868 22.1213C4.31607 21.5587 4 20.7957 4 20V7H3C2.44772 7 2 6.55228 2 6C2 5.44772 2.44772 5 3 5H5H7ZM8 7H16H18V20C18 20.2652 17.8946 20.5196 17.7071 20.7071C17.5196 20.8946 17.2652 21 17 21H7C6.73478 21 6.48043 20.8946 6.29289 20.7071C6.10536 20.5196 6 20.2652 6 20V7H8ZM10 10C10.5523 10 11 10.4477 11 11V17C11 17.5523 10.5523 18 10 18C9.44772 18 9 17.5523 9 17V11C9 10.4477 9.44772 10 10 10ZM15 17V11C15 10.4477 14.5523 10 14 10C13.4477 10 13 10.4477 13 11V17C13 17.5523 13.4477 18 14 18C14.5523 18 15 17.5523 15 17Z",fill:"currentColor"})],-1),_hoisted_7$1=[_hoisted_6$1],_hoisted_8$1={class:"w-full flex-rlc"},_hoisted_9$1={key:1,class:"w-96"},_sfc_main$1={__name:"DialogSignList",emits:["close","selected"],setup(t,{emit:e}){const r=useStore(),_e=ref("select"),Ce=computed(()=>r.getters["sign/signs"]),Ee=()=>{e("close")},Re=St=>{r.dispatch("sign/selectSign",St),e("selected")},Pe=St=>{r.dispatch("sign/deleteSign",St)};return(St,Te)=>(openBlock(),createElementBlock("div",{class:"fixed inset-0 bg-mask backdrop-blur-sm flex-ccc",onClick:Te[2]||(Te[2]=withModifiers(ke=>Ee(),["self"]))},[_e.value==="select"?(openBlock(),createElementBlock("div",_hoisted_1$1,[_hoisted_2$1,(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Ce),(ke,Ae)=>(openBlock(),createElementBlock("div",{key:Ae,class:"flex-rcc gap-4"},[createBaseVNode("button",{type:"button",class:"w-60 h-16 rounded-2xl btn-anim bg-white flex-rcc",onClick:xe=>Re(Ae)},[createBaseVNode("img",{class:"h-full",src:ke,alt:"sign"},null,8,_hoisted_4$1)],8,_hoisted_3$1),createBaseVNode("button",{type:"button",class:"h-6 w-6 btn-anim text-primary",onClick:xe=>Pe(Ae)},_hoisted_7$1,8,_hoisted_5$1)]))),128)),createBaseVNode("div",_hoisted_8$1,[createBaseVNode("button",{type:"button",class:"hover:opacity-70",onClick:Te[0]||(Te[0]=ke=>_e.value="create")},"+ \u65B0\u589E\u7C3D\u540D")])])):_e.value==="create"?(openBlock(),createElementBlock("div",_hoisted_9$1,[createVNode(_sfc_main$3,{class:"rounded-2xl",from:"list",onClose:Te[1]||(Te[1]=ke=>_e.value="select")})])):createCommentVNode("",!0)]))}},scriptRel="modulepreload",assetsURL=function(t){return"/f2e2022-week2-signer/"+t},seen={},__vitePreload=function t(e,r,_e){if(!r||r.length===0)return e();const Ce=document.getElementsByTagName("link");return Promise.all(r.map(Ee=>{if(Ee=assetsURL(Ee),Ee in seen)return;seen[Ee]=!0;const Re=Ee.endsWith(".css"),Pe=Re?'[rel="stylesheet"]':"";if(!!_e)for(let ke=Ce.length-1;ke>=0;ke--){const Ae=Ce[ke];if(Ae.href===Ee&&(!Re||Ae.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${Ee}"]${Pe}`))return;const Te=document.createElement("link");if(Te.rel=Re?"stylesheet":scriptRel,Re||(Te.as="script",Te.crossOrigin=""),Te.href=Ee,document.head.appendChild(Te),Re)return new Promise((ke,Ae)=>{Te.addEventListener("load",ke),Te.addEventListener("error",()=>Ae(new Error(`Unable to preload CSS for ${Ee}`)))})})).then(()=>e())};function _typeof(t){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(t,e){for(var r=new u16(31),_e=0;_e<31;++_e)r[_e]=e+=1<<t[_e-1];for(var Ce=new u32(r[30]),_e=1;_e<30;++_e)for(var Ee=r[_e];Ee<r[_e+1];++Ee)Ce[Ee]=Ee-r[_e]<<5|_e;return[r,Ce]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],revfd=_b[1],rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>>8|(x$1&255)<<8)>>>1}var hMap=function(t,e,r){for(var _e=t.length,Ce=0,Ee=new u16(e);Ce<_e;++Ce)++Ee[t[Ce]-1];var Re=new u16(e);for(Ce=0;Ce<e;++Ce)Re[Ce]=Re[Ce-1]+Ee[Ce-1]<<1;var Pe;if(r){Pe=new u16(1<<e);var St=15-e;for(Ce=0;Ce<_e;++Ce)if(t[Ce])for(var Te=Ce<<4|t[Ce],ke=e-t[Ce],Ae=Re[t[Ce]-1]++<<ke,xe=Ae|(1<<ke)-1;Ae<=xe;++Ae)Pe[rev[Ae]>>>St]=Te}else for(Pe=new u16(_e),Ce=0;Ce<_e;++Ce)Pe[Ce]=rev[Re[t[Ce]-1]++]>>>15-t[Ce];return Pe},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},bits=function(t,e,r){var _e=e/8>>0;return(t[_e]|t[_e+1]<<8)>>>(e&7)&r},bits16=function(t,e){var r=e/8>>0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>>(e&7)},shft=function(t){return(t/8>>0)+(t&7&&1)},slc=function(t,e,r){(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length);var _e=new(t instanceof u16?u16:t instanceof u32?u32:u8)(r-e);return _e.set(t.subarray(e,r)),_e},inflt=function(t,e,r){var _e=t.length,Ce=!e||r,Ee=!r||r.i;r||(r={}),e||(e=new u8(_e*3));var Re=function(lr){var mr=e.length;if(lr>mr){var Ar=new u8(Math.max(mr*2,lr));Ar.set(e),e=Ar}},Pe=r.f||0,St=r.p||0,Te=r.b||0,ke=r.l,Ae=r.d,xe=r.m,Se=r.n,Fe=_e*8;do{if(!ke){r.f=Pe=bits(t,St,1);var Ie=bits(t,St+1,3);if(St+=3,Ie)if(Ie==1)ke=flrm,Ae=fdrm,xe=9,Se=5;else if(Ie==2){var Be=bits(t,St,31)+257,je=bits(t,St+10,15)+4,ze=Be+bits(t,St+5,31)+1;St+=14;for(var Ge=new u8(ze),We=new u8(19),Ue=0;Ue<je;++Ue)We[clim[Ue]]=bits(t,St+Ue*3,7);St+=je*3;var hr=max(We),xr=(1<<hr)-1;if(!Ee&&St+ze*(hr+7)>Fe)break;for(var rr=hMap(We,hr,1),Ue=0;Ue<ze;){var er=rr[bits(t,St,xr)];St+=er&15;var Me=er>>>4;if(Me<16)Ge[Ue++]=Me;else{var vr=0,gr=0;for(Me==16?(gr=3+bits(t,St,3),St+=2,vr=Ge[Ue-1]):Me==17?(gr=3+bits(t,St,7),St+=3):Me==18&&(gr=11+bits(t,St,127),St+=7);gr--;)Ge[Ue++]=vr}}var br=Ge.subarray(0,Be),sr=Ge.subarray(Be);xe=max(br),Se=max(sr),ke=hMap(br,xe,1),Ae=hMap(sr,Se,1)}else throw"invalid block type";else{var Me=shft(St)+4,Oe=t[Me-4]|t[Me-3]<<8,De=Me+Oe;if(De>_e){if(Ee)throw"unexpected EOF";break}Ce&&Re(Te+Oe),e.set(t.subarray(Me,De),Te),r.b=Te+=Oe,r.p=St=De*8;continue}if(St>Fe)throw"unexpected EOF"}Ce&&Re(Te+131072);for(var nr=(1<<xe)-1,Je=(1<<Se)-1,$e=xe+Se+18;Ee||St+$e<Fe;){var vr=ke[bits16(t,St)&nr],tr=vr>>>4;if(St+=vr&15,St>Fe)throw"unexpected EOF";if(!vr)throw"invalid length/literal";if(tr<256)e[Te++]=tr;else if(tr==256){ke=null;break}else{var ir=tr-254;if(tr>264){var Ue=tr-257,Xe=fleb[Ue];ir=bits(t,St,(1<<Xe)-1)+fl[Ue],St+=Xe}var cr=Ae[bits16(t,St)&Je],Qe=cr>>>4;if(!cr)throw"invalid distance";St+=cr&15;var sr=fd[Qe];if(Qe>3){var Xe=fdeb[Qe];sr+=bits16(t,St)&(1<<Xe)-1,St+=Xe}if(St>Fe)throw"unexpected EOF";Ce&&Re(Te+131072);for(var Ke=Te+ir;Te<Ke;Te+=4)e[Te]=e[Te-sr],e[Te+1]=e[Te+1-sr],e[Te+2]=e[Te+2-sr],e[Te+3]=e[Te+3-sr];Te=Ke}}r.l=ke,r.p=St,r.b=Te,ke&&(Pe=1,r.m=xe,r.d=Ae,r.n=Se)}while(!Pe);return Te==e.length?e:slc(e,0,Te)},wbits=function(t,e,r){r<<=e&7;var _e=e/8>>0;t[_e]|=r,t[_e+1]|=r>>>8},wbits16=function(t,e,r){r<<=e&7;var _e=e/8>>0;t[_e]|=r,t[_e+1]|=r>>>8,t[_e+2]|=r>>>16},hTree=function(t,e){for(var r=[],_e=0;_e<t.length;++_e)t[_e]&&r.push({s:_e,f:t[_e]});var Ce=r.length,Ee=r.slice();if(!Ce)return[new u8(0),0];if(Ce==1){var Re=new u8(r[0].s+1);return Re[r[0].s]=1,[Re,1]}r.sort(function(ze,Ge){return ze.f-Ge.f}),r.push({s:-1,f:25001});var Pe=r[0],St=r[1],Te=0,ke=1,Ae=2;for(r[0]={s:-1,f:Pe.f+St.f,l:Pe,r:St};ke!=Ce-1;)Pe=r[r[Te].f<r[Ae].f?Te++:Ae++],St=r[Te!=ke&&r[Te].f<r[Ae].f?Te++:Ae++],r[ke++]={s:-1,f:Pe.f+St.f,l:Pe,r:St};for(var xe=Ee[0].s,_e=1;_e<Ce;++_e)Ee[_e].s>xe&&(xe=Ee[_e].s);var Se=new u16(xe+1),Fe=ln(r[ke-1],Se,0);if(Fe>e){var _e=0,Ie=0,Me=Fe-e,Oe=1<<Me;for(Ee.sort(function(Ge,We){return Se[We.s]-Se[Ge.s]||Ge.f-We.f});_e<Ce;++_e){var De=Ee[_e].s;if(Se[De]>e)Ie+=Oe-(1<<Fe-Se[De]),Se[De]=e;else break}for(Ie>>>=Me;Ie>0;){var Be=Ee[_e].s;Se[Be]<e?Ie-=1<<e-Se[Be]++-1:++_e}for(;_e>=0&&Ie;--_e){var je=Ee[_e].s;Se[je]==e&&(--Se[je],++Ie)}Fe=e}return[new u8(Se),Fe]},ln=function(t,e,r){return t.s==-1?Math.max(ln(t.l,e,r+1),ln(t.r,e,r+1)):e[t.s]=r},lc=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new u16(++e),_e=0,Ce=t[0],Ee=1,Re=function(St){r[_e++]=St},Pe=1;Pe<=e;++Pe)if(t[Pe]==Ce&&Pe!=e)++Ee;else{if(!Ce&&Ee>2){for(;Ee>138;Ee-=138)Re(32754);Ee>2&&(Re(Ee>10?Ee-11<<5|28690:Ee-3<<5|12305),Ee=0)}else if(Ee>3){for(Re(Ce),--Ee;Ee>6;Ee-=6)Re(8304);Ee>2&&(Re(Ee-3<<5|8208),Ee=0)}for(;Ee--;)Re(Ce);Ee=1,Ce=t[Pe]}return[r.subarray(0,_e),e]},clen=function(t,e){for(var r=0,_e=0;_e<e.length;++_e)r+=t[_e]*e[_e];return r},wfblk=function(t,e,r){var _e=r.length,Ce=shft(e+2);t[Ce]=_e&255,t[Ce+1]=_e>>>8,t[Ce+2]=t[Ce]^255,t[Ce+3]=t[Ce+1]^255;for(var Ee=0;Ee<_e;++Ee)t[Ce+Ee+4]=r[Ee];return(Ce+4+_e)*8},wblk=function(t,e,r,_e,Ce,Ee,Re,Pe,St,Te,ke){wbits(e,ke++,r),++Ce[256];for(var Ae=hTree(Ce,15),xe=Ae[0],Se=Ae[1],Fe=hTree(Ee,15),Ie=Fe[0],Me=Fe[1],Oe=lc(xe),De=Oe[0],Be=Oe[1],je=lc(Ie),ze=je[0],Ge=je[1],We=new u16(19),Ue=0;Ue<De.length;++Ue)We[De[Ue]&31]++;for(var Ue=0;Ue<ze.length;++Ue)We[ze[Ue]&31]++;for(var hr=hTree(We,7),xr=hr[0],rr=hr[1],er=19;er>4&&!xr[clim[er-1]];--er);var vr=Te+5<<3,gr=clen(Ce,flt)+clen(Ee,fdt)+Re,br=clen(Ce,xe)+clen(Ee,Ie)+Re+14+3*er+clen(We,xr)+(2*We[16]+3*We[17]+7*We[18]);if(vr<=gr&&vr<=br)return wfblk(e,ke,t.subarray(St,St+Te));var sr,nr,Je,$e;if(wbits(e,ke,1+(br<gr)),ke+=2,br<gr){sr=hMap(xe,Se,0),nr=xe,Je=hMap(Ie,Me,0),$e=Ie;var tr=hMap(xr,rr,0);wbits(e,ke,Be-257),wbits(e,ke+5,Ge-1),wbits(e,ke+10,er-4),ke+=14;for(var Ue=0;Ue<er;++Ue)wbits(e,ke+3*Ue,xr[clim[Ue]]);ke+=3*er;for(var ir=[De,ze],Xe=0;Xe<2;++Xe)for(var cr=ir[Xe],Ue=0;Ue<cr.length;++Ue){var Qe=cr[Ue]&31;wbits(e,ke,tr[Qe]),ke+=xr[Qe],Qe>15&&(wbits(e,ke,cr[Ue]>>>5&127),ke+=cr[Ue]>>>12)}}else sr=flm,nr=flt,Je=fdm,$e=fdt;for(var Ue=0;Ue<Pe;++Ue)if(_e[Ue]>255){var Qe=_e[Ue]>>>18&31;wbits16(e,ke,sr[Qe+257]),ke+=nr[Qe+257],Qe>7&&(wbits(e,ke,_e[Ue]>>>23&31),ke+=fleb[Qe]);var Ke=_e[Ue]&31;wbits16(e,ke,Je[Ke]),ke+=$e[Ke],Ke>3&&(wbits16(e,ke,_e[Ue]>>>5&8191),ke+=fdeb[Ke])}else wbits16(e,ke,sr[_e[Ue]]),ke+=nr[_e[Ue]];return wbits16(e,ke,sr[256]),ke+nr[256]},deo=new u32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(t,e,r,_e,Ce,Ee){var Re=t.length,Pe=new u8(_e+Re+5*(1+Math.floor(Re/7e3))+Ce),St=Pe.subarray(_e,Pe.length-Ce),Te=0;if(!e||Re<8)for(var ke=0;ke<=Re;ke+=65535){var Ae=ke+65535;Ae<Re?Te=wfblk(St,Te,t.subarray(ke,Ae)):(St[ke]=Ee,Te=wfblk(St,Te,t.subarray(ke,Re)))}else{for(var xe=deo[e-1],Se=xe>>>13,Fe=xe&8191,Ie=(1<<r)-1,Me=new u16(32768),Oe=new u16(Ie+1),De=Math.ceil(r/3),Be=2*De,je=function(Sr){return(t[Sr]^t[Sr+1]<<De^t[Sr+2]<<Be)&Ie},ze=new u32(25e3),Ge=new u16(288),We=new u16(32),Ue=0,hr=0,ke=0,xr=0,rr=0,er=0;ke<Re;++ke){var vr=je(ke),gr=ke&32767,br=Oe[vr];if(Me[gr]=br,Oe[vr]=gr,rr<=ke){var sr=Re-ke;if((Ue>7e3||xr>24576)&&sr>423){Te=wblk(t,St,0,ze,Ge,We,hr,xr,er,ke-er,Te),xr=Ue=hr=0,er=ke;for(var nr=0;nr<286;++nr)Ge[nr]=0;for(var nr=0;nr<30;++nr)We[nr]=0}var Je=2,$e=0,tr=Fe,ir=gr-br&32767;if(sr>2&&vr==je(ke-ir))for(var Xe=Math.min(Se,sr)-1,cr=Math.min(32767,ke),Qe=Math.min(258,sr);ir<=cr&&--tr&&gr!=br;){if(t[ke+Je]==t[ke+Je-ir]){for(var Ke=0;Ke<Qe&&t[ke+Ke]==t[ke+Ke-ir];++Ke);if(Ke>Je){if(Je=Ke,$e=ir,Ke>Xe)break;for(var lr=Math.min(ir,Ke-2),mr=0,nr=0;nr<lr;++nr){var Ar=ke-ir+nr+32768&32767,Pr=Me[Ar],Rr=Ar-Pr+32768&32767;Rr>mr&&(mr=Rr,br=Ar)}}}gr=br,br=Me[gr],ir+=gr-br+32768&32767}if($e){ze[xr++]=268435456|revfl[Je]<<18|revfd[$e];var Ir=revfl[Je]&31,ur=revfd[$e]&31;hr+=fleb[Ir]+fdeb[ur],++Ge[257+Ir],++We[ur],rr=ke+Je,++Ue}else ze[xr++]=t[ke],++Ge[t[ke]]}}Te=wblk(t,St,Ee,ze,Ge,We,hr,xr,er,ke-er,Te),Ee||(Te=wfblk(St,Te,et$1))}return slc(Pe,0,_e+shft(Te)+Ce)},adler=function(){var t=1,e=0;return{p:function(r){for(var _e=t,Ce=e,Ee=r.length,Re=0;Re!=Ee;){for(var Pe=Math.min(Re+5552,Ee);Re<Pe;++Re)_e+=r[Re],Ce+=_e;_e%=65521,Ce%=65521}t=_e,e=Ce},d:function(){return(t>>>8<<16|(e&255)<<8|e>>>8)+((t&255)<<23)*2}}},dopt=function(t,e,r,_e,Ce){return dflt(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,r,_e,!Ce)},wbytes=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},zlh=function(t,e){var r=e.level,_e=r==0?0:r<6?1:r==9?3:2;t[0]=120,t[1]=_e<<6|(_e?32-2*_e:1)},zlv=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function zlibSync(t,e){e===void 0&&(e={});var r=adler();r.p(t);var _e=dopt(t,e,2,4);return zlh(_e,e),wbytes(_e,_e.length-4,r.d()),_e}function unzlibSync(t,e){return inflt((zlv(t),t.subarray(2,-4)),e)}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(t){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(t){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(t))}};function o(t,e,r){var _e=new XMLHttpRequest;_e.open("GET",t),_e.responseType="blob",_e.onload=function(){l(_e.response,e,r)},_e.onerror=function(){a.error("could not download file")},_e.send()}function s(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function c(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var _e=n.URL||n.webkitURL,Ce=document.createElement("a");e=e||t.name||"download",Ce.download=e,Ce.rel="noopener",typeof t=="string"?(Ce.href=t,Ce.origin!==location.origin?s(Ce.href)?o(t,e,r):c(Ce,Ce.target="_blank"):c(Ce)):(Ce.href=_e.createObjectURL(t),setTimeout(function(){_e.revokeObjectURL(Ce.href)},4e4),setTimeout(function(){c(Ce)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(s(t))o(t,e,r);else{var _e=document.createElement("a");_e.href=t,_e.target="_blank",setTimeout(function(){c(_e)})}else navigator.msSaveOrOpenBlob(function(Ce,Ee){return Ee===void 0?Ee={autoBom:!1}:_typeof(Ee)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),Ee={autoBom:!Ee}),Ee.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Ce.type)?new Blob([String.fromCharCode(65279),Ce],{type:Ce.type}):Ce}(t,r),e)}:function(t,e,r,_e){if((_e=_e||open("","_blank"))&&(_e.document.title=_e.document.body.innerText="downloading..."),typeof t=="string")return o(t,e,r);var Ce=t.type==="application/octet-stream",Ee=/constructor/i.test(n.HTMLElement)||n.safari,Re=/CriOS\/[\d]+/.test(navigator.userAgent);if((Re||Ce&&Ee)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var Pe=new FileReader;Pe.onloadend=function(){var ke=Pe.result;ke=Re?ke:ke.replace(/^data:[^;]*;/,"data:attachment/file;"),_e?_e.location.href=ke:location=ke,_e=null},Pe.readAsDataURL(t)}else{var St=n.URL||n.webkitURL,Te=St.createObjectURL(t);_e?_e.location=Te:location.href=Te,_e=null,setTimeout(function(){St.revokeObjectURL(Te)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Pe){return[parseInt(Pe[1]),parseInt(Pe[2]),parseInt(Pe[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Pe){return[parseInt(Pe[1],16),parseInt(Pe[2],16),parseInt(Pe[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Pe){return[parseInt(Pe[1]+Pe[1],16),parseInt(Pe[2]+Pe[2],16),parseInt(Pe[3]+Pe[3],16)]}}],_e=0;_e<r.length;_e++){var Ce=r[_e].re,Ee=r[_e].process,Re=Ce.exec(t);Re&&(e=Ee(Re),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Pe=this.r.toString(16),St=this.g.toString(16),Te=this.b.toString(16);return Pe.length==1&&(Pe="0"+Pe),St.length==1&&(St="0"+St),Te.length==1&&(Te="0"+Te),"#"+Pe+St+Te}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(t,e){var r=t[0],_e=t[1],Ce=t[2],Ee=t[3];r=g(r,_e,Ce,Ee,e[0],7,-680876936),Ee=g(Ee,r,_e,Ce,e[1],12,-389564586),Ce=g(Ce,Ee,r,_e,e[2],17,606105819),_e=g(_e,Ce,Ee,r,e[3],22,-1044525330),r=g(r,_e,Ce,Ee,e[4],7,-176418897),Ee=g(Ee,r,_e,Ce,e[5],12,1200080426),Ce=g(Ce,Ee,r,_e,e[6],17,-1473231341),_e=g(_e,Ce,Ee,r,e[7],22,-45705983),r=g(r,_e,Ce,Ee,e[8],7,1770035416),Ee=g(Ee,r,_e,Ce,e[9],12,-1958414417),Ce=g(Ce,Ee,r,_e,e[10],17,-42063),_e=g(_e,Ce,Ee,r,e[11],22,-1990404162),r=g(r,_e,Ce,Ee,e[12],7,1804603682),Ee=g(Ee,r,_e,Ce,e[13],12,-40341101),Ce=g(Ce,Ee,r,_e,e[14],17,-1502002290),r=m(r,_e=g(_e,Ce,Ee,r,e[15],22,1236535329),Ce,Ee,e[1],5,-165796510),Ee=m(Ee,r,_e,Ce,e[6],9,-1069501632),Ce=m(Ce,Ee,r,_e,e[11],14,643717713),_e=m(_e,Ce,Ee,r,e[0],20,-373897302),r=m(r,_e,Ce,Ee,e[5],5,-701558691),Ee=m(Ee,r,_e,Ce,e[10],9,38016083),Ce=m(Ce,Ee,r,_e,e[15],14,-660478335),_e=m(_e,Ce,Ee,r,e[4],20,-405537848),r=m(r,_e,Ce,Ee,e[9],5,568446438),Ee=m(Ee,r,_e,Ce,e[14],9,-1019803690),Ce=m(Ce,Ee,r,_e,e[3],14,-187363961),_e=m(_e,Ce,Ee,r,e[8],20,1163531501),r=m(r,_e,Ce,Ee,e[13],5,-1444681467),Ee=m(Ee,r,_e,Ce,e[2],9,-51403784),Ce=m(Ce,Ee,r,_e,e[7],14,1735328473),r=v(r,_e=m(_e,Ce,Ee,r,e[12],20,-1926607734),Ce,Ee,e[5],4,-378558),Ee=v(Ee,r,_e,Ce,e[8],11,-2022574463),Ce=v(Ce,Ee,r,_e,e[11],16,1839030562),_e=v(_e,Ce,Ee,r,e[14],23,-35309556),r=v(r,_e,Ce,Ee,e[1],4,-1530992060),Ee=v(Ee,r,_e,Ce,e[4],11,1272893353),Ce=v(Ce,Ee,r,_e,e[7],16,-155497632),_e=v(_e,Ce,Ee,r,e[10],23,-1094730640),r=v(r,_e,Ce,Ee,e[13],4,681279174),Ee=v(Ee,r,_e,Ce,e[0],11,-358537222),Ce=v(Ce,Ee,r,_e,e[3],16,-722521979),_e=v(_e,Ce,Ee,r,e[6],23,76029189),r=v(r,_e,Ce,Ee,e[9],4,-640364487),Ee=v(Ee,r,_e,Ce,e[12],11,-421815835),Ce=v(Ce,Ee,r,_e,e[15],16,530742520),r=b(r,_e=v(_e,Ce,Ee,r,e[2],23,-995338651),Ce,Ee,e[0],6,-198630844),Ee=b(Ee,r,_e,Ce,e[7],10,1126891415),Ce=b(Ce,Ee,r,_e,e[14],15,-1416354905),_e=b(_e,Ce,Ee,r,e[5],21,-57434055),r=b(r,_e,Ce,Ee,e[12],6,1700485571),Ee=b(Ee,r,_e,Ce,e[3],10,-1894986606),Ce=b(Ce,Ee,r,_e,e[10],15,-1051523),_e=b(_e,Ce,Ee,r,e[1],21,-2054922799),r=b(r,_e,Ce,Ee,e[8],6,1873313359),Ee=b(Ee,r,_e,Ce,e[15],10,-30611744),Ce=b(Ce,Ee,r,_e,e[6],15,-1560198380),_e=b(_e,Ce,Ee,r,e[13],21,1309151649),r=b(r,_e,Ce,Ee,e[4],6,-145523070),Ee=b(Ee,r,_e,Ce,e[11],10,-1120210379),Ce=b(Ce,Ee,r,_e,e[2],15,718787259),_e=b(_e,Ce,Ee,r,e[9],21,-343485551),t[0]=_(r,t[0]),t[1]=_(_e,t[1]),t[2]=_(Ce,t[2]),t[3]=_(Ee,t[3])}function p(t,e,r,_e,Ce,Ee){return e=_(_(e,t),_(_e,Ee)),_(e<<Ce|e>>>32-Ce,r)}function g(t,e,r,_e,Ce,Ee,Re){return p(e&r|~e&_e,t,e,Ce,Ee,Re)}function m(t,e,r,_e,Ce,Ee,Re){return p(e&_e|r&~_e,t,e,Ce,Ee,Re)}function v(t,e,r,_e,Ce,Ee,Re){return p(e^r^_e,t,e,Ce,Ee,Re)}function b(t,e,r,_e,Ce,Ee,Re){return p(r^(e|~_e),t,e,Ce,Ee,Re)}function y(t){var e,r=t.length,_e=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)d(_e,w(t.substring(e-64,e)));t=t.substring(e-64);var Ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)Ce[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(Ce[e>>2]|=128<<(e%4<<3),e>55)for(d(_e,Ce),e=0;e<16;e++)Ce[e]=0;return Ce[14]=8*r,d(_e,Ce),_e}function w(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(t){for(var e="",r=0;r<4;r++)e+=N[t>>8*r+4&15]+N[t>>8*r&15];return e}function A(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function x(t){return y(t).map(A).join("")}var S=function(t){for(var e=0;e<t.length;e++)t[e]=L(t[e]);return t.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(t,e){if(S){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(t,e){var r,_e,Ce,Ee;if(t!==r){for(var Re=(Ce=t,Ee=1+(256/t.length>>0),new Array(Ee+1).join(Ce)),Pe=[],St=0;St<256;St++)Pe[St]=St;var Te=0;for(St=0;St<256;St++){var ke=Pe[St];Te=(Te+ke+Re.charCodeAt(St))%256,Pe[St]=Pe[Te],Pe[Te]=ke}r=t,_e=Pe}else Pe=_e;var Ae=e.length,xe=0,Se=0,Fe="";for(St=0;St<Ae;St++)Se=(Se+(ke=Pe[xe=(xe+1)%256]))%256,Pe[xe]=Pe[Se],Pe[Se]=ke,Re=Pe[(Pe[xe]+Pe[Se])%256],Fe+=String.fromCharCode(e.charCodeAt(St)^Re);return Fe}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(t,e,r,_e){this.v=1,this.r=2;var Ce=192;t.forEach(function(Pe){if(k.perm!==void 0)throw new Error("Invalid permission: "+Pe);Ce+=k[Pe]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var Ee=(e+this.padding).substr(0,32),Re=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(Ee,Re),this.P=-(1+(255^Ce)),this.encryptionKey=x(Ee+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(_e)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,_e=0;_e<r;_e++){var Ce=t.charCodeAt(_e);Ce<33||Ce===35||Ce===37||Ce===40||Ce===41||Ce===47||Ce===60||Ce===62||Ce===91||Ce===93||Ce===123||Ce===125||Ce>126?e+="#"+("0"+Ce.toString(16)).slice(-2):e+=t[_e]}return e}function C(t){if(_typeof(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,_e,Ce){if(Ce=Ce||!1,typeof r!="string"||typeof _e!="function"||typeof Ce!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var Ee=Math.random().toString(35);return e[r][Ee]=[_e,!!Ce],Ee},this.unsubscribe=function(r){for(var _e in e)if(e[_e][r])return delete e[_e][r],Object.keys(e[_e]).length===0&&delete e[_e],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var _e=Array.prototype.slice.call(arguments,1),Ce=[];for(var Ee in e[r]){var Re=e[r][Ee];try{Re[0].apply(t,_e)}catch(Pe){n.console&&a.error("jsPDF PubSub Error",Pe.message,Pe)}Re[1]&&Ce.push(Ee)}Ce.length&&Ce.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j(t){if(!(this instanceof j))return new j(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function O(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function B(t,e,r,_e,Ce){if(!(this instanceof B))return new B(t,e,r,_e,Ce);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,O.call(this,_e,Ce)}function M(t,e,r,_e,Ce){if(!(this instanceof M))return new M(t,e,r,_e,Ce);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,O.call(this,_e,Ce)}function E(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",_e=arguments[1],Ce=arguments[2],Ee=arguments[3],Re=[],Pe=1,St=16,Te="S",ke=null;_typeof(t=t||{})==="object"&&(r=t.orientation,_e=t.unit||_e,Ce=t.format||Ce,Ee=t.compress||t.compressPdf||Ee,(ke=t.encryption||null)!==null&&(ke.userPassword=ke.userPassword||"",ke.ownerPassword=ke.ownerPassword||"",ke.userPermissions=ke.userPermissions||[]),Pe=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(St=t.floatPrecision),Te=t.defaultPathOperation||"S"),Re=t.filters||(Ee===!0?["FlateEncode"]:Re),_e=_e||"mm",r=(""+(r||"P")).toLowerCase();var Ae=t.putOnlyUsedFonts||!1,xe={},Se={internal:{},__private__:{}};Se.__private__.PubSub=C;var Fe="1.3",Ie=Se.__private__.getPdfVersion=function(){return Fe};Se.__private__.setPdfVersion=function(qe){Fe=qe};var Me={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Se.__private__.getPageFormats=function(){return Me};var Oe=Se.__private__.getPageFormat=function(qe){return Me[qe]};Ce=Ce||"a4";var De={COMPAT:"compat",ADVANCED:"advanced"},Be=De.COMPAT;function je(){this.saveGraphicsState(),or(new mi(si,0,0,-si,0,ls()*si).toString()+" cm"),this.setFontSize(this.getFontSize()/si),Te="n",Be=De.ADVANCED}function ze(){this.restoreGraphicsState(),Te="S",Be=De.COMPAT}var Ge=Se.__private__.combineFontStyleAndFontWeight=function(qe,pr){if(qe=="bold"&&pr=="normal"||qe=="bold"&&pr==400||qe=="normal"&&pr=="italic"||qe=="bold"&&pr=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return pr&&(qe=pr==400||pr==="normal"?qe==="italic"?"italic":"normal":pr!=700&&pr!=="bold"||qe!=="normal"?(pr==700?"bold":pr)+""+qe:"bold"),qe};Se.advancedAPI=function(qe){var pr=Be===De.COMPAT;return pr&&je.call(this),typeof qe!="function"||(qe(this),pr&&ze.call(this)),this},Se.compatAPI=function(qe){var pr=Be===De.ADVANCED;return pr&&ze.call(this),typeof qe!="function"||(qe(this),pr&&je.call(this)),this},Se.isAdvancedAPI=function(){return Be===De.ADVANCED};var We,Ue=function(qe){if(Be!==De.ADVANCED)throw new Error(qe+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},hr=Se.roundToPrecision=Se.__private__.roundToPrecision=function(qe,pr){var Fr=e||pr;if(isNaN(qe)||isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return qe.toFixed(Fr).replace(/0+$/,"")};We=Se.hpf=Se.__private__.hpf=typeof St=="number"?function(qe){if(isNaN(qe))throw new Error("Invalid argument passed to jsPDF.hpf");return hr(qe,St)}:St==="smart"?function(qe){if(isNaN(qe))throw new Error("Invalid argument passed to jsPDF.hpf");return hr(qe,qe>-1&&qe<1?16:5)}:function(qe){if(isNaN(qe))throw new Error("Invalid argument passed to jsPDF.hpf");return hr(qe,16)};var xr=Se.f2=Se.__private__.f2=function(qe){if(isNaN(qe))throw new Error("Invalid argument passed to jsPDF.f2");return hr(qe,2)},rr=Se.__private__.f3=function(qe){if(isNaN(qe))throw new Error("Invalid argument passed to jsPDF.f3");return hr(qe,3)},er=Se.scale=Se.__private__.scale=function(qe){if(isNaN(qe))throw new Error("Invalid argument passed to jsPDF.scale");return Be===De.COMPAT?qe*si:Be===De.ADVANCED?qe:void 0},vr=function(qe){return Be===De.COMPAT?ls()-qe:Be===De.ADVANCED?qe:void 0},gr=function(qe){return er(vr(qe))};Se.__private__.setPrecision=Se.setPrecision=function(qe){typeof parseInt(qe,10)=="number"&&(e=parseInt(qe,10))};var br,sr="00000000000000000000000000000000",nr=Se.__private__.getFileId=function(){return sr},Je=Se.__private__.setFileId=function(qe){return sr=qe!==void 0&&/^[a-fA-F0-9]{32}$/.test(qe)?qe.toUpperCase():sr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),ke!==null&&(rn=new I(ke.userPermissions,ke.userPassword,ke.ownerPassword,sr)),sr};Se.setFileId=function(qe){return Je(qe),this},Se.getFileId=function(){return nr()};var $e=Se.__private__.convertDateToPDFDate=function(qe){var pr=qe.getTimezoneOffset(),Fr=pr<0?"+":"-",Br=Math.floor(Math.abs(pr/60)),qr=Math.abs(pr%60),Kr=[Fr,Qe(Br),"'",Qe(qr),"'"].join("");return["D:",qe.getFullYear(),Qe(qe.getMonth()+1),Qe(qe.getDate()),Qe(qe.getHours()),Qe(qe.getMinutes()),Qe(qe.getSeconds()),Kr].join("")},tr=Se.__private__.convertPDFDateToDate=function(qe){var pr=parseInt(qe.substr(2,4),10),Fr=parseInt(qe.substr(6,2),10)-1,Br=parseInt(qe.substr(8,2),10),qr=parseInt(qe.substr(10,2),10),Kr=parseInt(qe.substr(12,2),10),ii=parseInt(qe.substr(14,2),10);return new Date(pr,Fr,Br,qr,Kr,ii,0)},ir=Se.__private__.setCreationDate=function(qe){var pr;if(qe===void 0&&(qe=new Date),qe instanceof Date)pr=$e(qe);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(qe))throw new Error("Invalid argument passed to jsPDF.setCreationDate");pr=qe}return br=pr},Xe=Se.__private__.getCreationDate=function(qe){var pr=br;return qe==="jsDate"&&(pr=tr(br)),pr};Se.setCreationDate=function(qe){return ir(qe),this},Se.getCreationDate=function(qe){return Xe(qe)};var cr,Qe=Se.__private__.padd2=function(qe){return("0"+parseInt(qe)).slice(-2)},Ke=Se.__private__.padd2Hex=function(qe){return("00"+(qe=qe.toString())).substr(qe.length)},lr=0,mr=[],Ar=[],Pr=0,Rr=[],Ir=[],ur=!1,ar=Ar,Sr=function(){lr=0,Pr=0,Ar=[],mr=[],Rr=[],Xn=qi(),En=qi()};Se.__private__.setCustomOutputDestination=function(qe){ur=!0,ar=qe};var wr=function(qe){ur||(ar=qe)};Se.__private__.resetCustomOutputDestination=function(){ur=!1,ar=Ar};var or=Se.__private__.out=function(qe){return qe=qe.toString(),Pr+=qe.length+1,ar.push(qe),ar},kr=Se.__private__.write=function(qe){return or(arguments.length===1?qe.toString():Array.prototype.join.call(arguments," "))},Or=Se.__private__.getArrayBuffer=function(qe){for(var pr=qe.length,Fr=new ArrayBuffer(pr),Br=new Uint8Array(Fr);pr--;)Br[pr]=qe.charCodeAt(pr);return Fr},Lr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Se.__private__.getStandardFonts=function(){return Lr};var Dr=t.fontSize||16;Se.__private__.setFontSize=Se.setFontSize=function(qe){return Dr=Be===De.ADVANCED?qe/si:qe,this};var Nr,Mr=Se.__private__.getFontSize=Se.getFontSize=function(){return Be===De.COMPAT?Dr:Dr*si},Gr=t.R2L||!1;Se.__private__.setR2L=Se.setR2L=function(qe){return Gr=qe,this},Se.__private__.getR2L=Se.getR2L=function(){return Gr};var Yr,$r=Se.__private__.setZoomMode=function(qe){var pr=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(qe))Nr=qe;else if(isNaN(qe)){if(pr.indexOf(qe)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+qe+'" is not recognized.');Nr=qe}else Nr=parseInt(qe,10)};Se.__private__.getZoomMode=function(){return Nr};var ti,ri=Se.__private__.setPageMode=function(qe){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(qe)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+qe+'" is not recognized.');Yr=qe};Se.__private__.getPageMode=function(){return Yr};var oi=Se.__private__.setLayoutMode=function(qe){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(qe)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+qe+'" is not recognized.');ti=qe};Se.__private__.getLayoutMode=function(){return ti},Se.__private__.setDisplayMode=Se.setDisplayMode=function(qe,pr,Fr){return $r(qe),oi(pr),ri(Fr),this};var ni={title:"",subject:"",author:"",keywords:"",creator:""};Se.__private__.getDocumentProperty=function(qe){if(Object.keys(ni).indexOf(qe)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ni[qe]},Se.__private__.getDocumentProperties=function(){return ni},Se.__private__.setDocumentProperties=Se.setProperties=Se.setDocumentProperties=function(qe){for(var pr in ni)ni.hasOwnProperty(pr)&&qe[pr]&&(ni[pr]=qe[pr]);return this},Se.__private__.setDocumentProperty=function(qe,pr){if(Object.keys(ni).indexOf(qe)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ni[qe]=pr};var fi,si,Ti,wi,Qi,yi={},xi={},dn=[],ki={},ws={},Bi={},An={},Yn=null,ji=0,vi=[],Li=new C(Se),Ss=t.hotfixes||[],tn={},jn={},Vn=[],mi=function qe(pr,Fr,Br,qr,Kr,ii){if(!(this instanceof qe))return new qe(pr,Fr,Br,qr,Kr,ii);isNaN(pr)&&(pr=1),isNaN(Fr)&&(Fr=0),isNaN(Br)&&(Br=0),isNaN(qr)&&(qr=1),isNaN(Kr)&&(Kr=0),isNaN(ii)&&(ii=0),this._matrix=[pr,Fr,Br,qr,Kr,ii]};Object.defineProperty(mi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(qe){this._matrix[0]=qe}}),Object.defineProperty(mi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(qe){this._matrix[1]=qe}}),Object.defineProperty(mi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(qe){this._matrix[2]=qe}}),Object.defineProperty(mi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(qe){this._matrix[3]=qe}}),Object.defineProperty(mi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(qe){this._matrix[4]=qe}}),Object.defineProperty(mi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(qe){this._matrix[5]=qe}}),Object.defineProperty(mi.prototype,"a",{get:function(){return this._matrix[0]},set:function(qe){this._matrix[0]=qe}}),Object.defineProperty(mi.prototype,"b",{get:function(){return this._matrix[1]},set:function(qe){this._matrix[1]=qe}}),Object.defineProperty(mi.prototype,"c",{get:function(){return this._matrix[2]},set:function(qe){this._matrix[2]=qe}}),Object.defineProperty(mi.prototype,"d",{get:function(){return this._matrix[3]},set:function(qe){this._matrix[3]=qe}}),Object.defineProperty(mi.prototype,"e",{get:function(){return this._matrix[4]},set:function(qe){this._matrix[4]=qe}}),Object.defineProperty(mi.prototype,"f",{get:function(){return this._matrix[5]},set:function(qe){this._matrix[5]=qe}}),Object.defineProperty(mi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mi.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mi.prototype.join=function(qe){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(We).join(qe)},mi.prototype.multiply=function(qe){var pr=qe.sx*this.sx+qe.shy*this.shx,Fr=qe.sx*this.shy+qe.shy*this.sy,Br=qe.shx*this.sx+qe.sy*this.shx,qr=qe.shx*this.shy+qe.sy*this.sy,Kr=qe.tx*this.sx+qe.ty*this.shx+this.tx,ii=qe.tx*this.shy+qe.ty*this.sy+this.ty;return new mi(pr,Fr,Br,qr,Kr,ii)},mi.prototype.decompose=function(){var qe=this.sx,pr=this.shy,Fr=this.shx,Br=this.sy,qr=this.tx,Kr=this.ty,ii=Math.sqrt(qe*qe+pr*pr),hi=(qe/=ii)*Fr+(pr/=ii)*Br;Fr-=qe*hi,Br-=pr*hi;var di=Math.sqrt(Fr*Fr+Br*Br);return hi/=di,qe*(Br/=di)<pr*(Fr/=di)&&(qe=-qe,pr=-pr,hi=-hi,ii=-ii),{scale:new mi(ii,0,0,di,0,0),translate:new mi(1,0,0,1,qr,Kr),rotate:new mi(qe,pr,-pr,qe,0,0),skew:new mi(1,0,hi,1,0,0)}},mi.prototype.toString=function(qe){return this.join(" ")},mi.prototype.inversed=function(){var qe=this.sx,pr=this.shy,Fr=this.shx,Br=this.sy,qr=this.tx,Kr=this.ty,ii=1/(qe*Br-pr*Fr),hi=Br*ii,di=-pr*ii,bi=-Fr*ii,Si=qe*ii;return new mi(hi,di,bi,Si,-hi*qr-bi*Kr,-di*qr-Si*Kr)},mi.prototype.applyToPoint=function(qe){var pr=qe.x*this.sx+qe.y*this.shx+this.tx,Fr=qe.x*this.shy+qe.y*this.sy+this.ty;return new qs(pr,Fr)},mi.prototype.applyToRectangle=function(qe){var pr=this.applyToPoint(qe),Fr=this.applyToPoint(new qs(qe.x+qe.w,qe.y+qe.h));return new ma(pr.x,pr.y,Fr.x-pr.x,Fr.y-pr.y)},mi.prototype.clone=function(){var qe=this.sx,pr=this.shy,Fr=this.shx,Br=this.sy,qr=this.tx,Kr=this.ty;return new mi(qe,pr,Fr,Br,qr,Kr)},Se.Matrix=mi;var Pn=Se.matrixMult=function(qe,pr){return pr.multiply(qe)},zn=new mi(1,0,0,1,0,0);Se.unitMatrix=Se.identityMatrix=zn;var an=function(qe,pr){if(!ws[qe]){var Fr=(pr instanceof B?"Sh":"P")+(Object.keys(ki).length+1).toString(10);pr.id=Fr,ws[qe]=Fr,ki[Fr]=pr,Li.publish("addPattern",pr)}};Se.ShadingPattern=B,Se.TilingPattern=M,Se.addShadingPattern=function(qe,pr){return Ue("addShadingPattern()"),an(qe,pr),this},Se.beginTilingPattern=function(qe){Ue("beginTilingPattern()"),Qa(qe.boundingBox[0],qe.boundingBox[1],qe.boundingBox[2]-qe.boundingBox[0],qe.boundingBox[3]-qe.boundingBox[1],qe.matrix)},Se.endTilingPattern=function(qe,pr){Ue("endTilingPattern()"),pr.stream=Ir[cr].join(`
`),an(qe,pr),Li.publish("endTilingPattern",pr),Vn.pop().restore()};var Xi=Se.__private__.newObject=function(){var qe=qi();return pn(qe,!0),qe},qi=Se.__private__.newObjectDeferred=function(){return lr++,mr[lr]=function(){return Pr},lr},pn=function(qe,pr){return pr=typeof pr=="boolean"&&pr,mr[qe]=Pr,pr&&or(qe+" 0 obj"),qe},Fs=Se.__private__.newAdditionalObject=function(){var qe={objId:qi(),content:""};return Rr.push(qe),qe},Xn=qi(),En=qi(),Tn=Se.__private__.decodeColorString=function(qe){var pr=qe.split(" ");if(pr.length!==2||pr[1]!=="g"&&pr[1]!=="G")pr.length===5&&(pr[4]==="k"||pr[4]==="K")&&(pr=[(1-pr[0])*(1-pr[3]),(1-pr[1])*(1-pr[3]),(1-pr[2])*(1-pr[3]),"r"]);else{var Fr=parseFloat(pr[0]);pr=[Fr,Fr,Fr,"r"]}for(var Br="#",qr=0;qr<3;qr++)Br+=("0"+Math.floor(255*parseFloat(pr[qr])).toString(16)).slice(-2);return Br},kn=Se.__private__.encodeColorString=function(qe){var pr;typeof qe=="string"&&(qe={ch1:qe});var Fr=qe.ch1,Br=qe.ch2,qr=qe.ch3,Kr=qe.ch4,ii=qe.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Fr=="string"&&Fr.charAt(0)!=="#"){var hi=new f(Fr);if(hi.ok)Fr=hi.toHex();else if(!/^\d*\.?\d*$/.test(Fr))throw new Error('Invalid color "'+Fr+'" passed to jsPDF.encodeColorString.')}if(typeof Fr=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Fr)&&(Fr="#"+Fr[1]+Fr[1]+Fr[2]+Fr[2]+Fr[3]+Fr[3]),typeof Fr=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Fr)){var di=parseInt(Fr.substr(1),16);Fr=di>>16&255,Br=di>>8&255,qr=255&di}if(Br===void 0||Kr===void 0&&Fr===Br&&Br===qr)if(typeof Fr=="string")pr=Fr+" "+ii[0];else switch(qe.precision){case 2:pr=xr(Fr/255)+" "+ii[0];break;case 3:default:pr=rr(Fr/255)+" "+ii[0]}else if(Kr===void 0||_typeof(Kr)==="object"){if(Kr&&!isNaN(Kr.a)&&Kr.a===0)return pr=["1.","1.","1.",ii[1]].join(" ");if(typeof Fr=="string")pr=[Fr,Br,qr,ii[1]].join(" ");else switch(qe.precision){case 2:pr=[xr(Fr/255),xr(Br/255),xr(qr/255),ii[1]].join(" ");break;default:case 3:pr=[rr(Fr/255),rr(Br/255),rr(qr/255),ii[1]].join(" ")}}else if(typeof Fr=="string")pr=[Fr,Br,qr,Kr,ii[2]].join(" ");else switch(qe.precision){case 2:pr=[xr(Fr),xr(Br),xr(qr),xr(Kr),ii[2]].join(" ");break;case 3:default:pr=[rr(Fr),rr(Br),rr(qr),rr(Kr),ii[2]].join(" ")}return pr},Hn=Se.__private__.getFilters=function(){return Re},bn=Se.__private__.putStream=function(qe){var pr=(qe=qe||{}).data||"",Fr=qe.filters||Hn(),Br=qe.alreadyAppliedFilters||[],qr=qe.addLength1||!1,Kr=pr.length,ii=qe.objectId,hi=function(nn){return nn};if(ke!==null&&ii===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");ke!==null&&(hi=rn.encryptor(ii,0));var di={};Fr===!0&&(Fr=["FlateEncode"]);var bi=qe.additionalKeyValues||[],Si=(di=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(pr,Fr):{data:pr,reverseChain:[]}).reverseChain+(Array.isArray(Br)?Br.join(" "):Br.toString());if(di.data.length!==0&&(bi.push({key:"Length",value:di.data.length}),qr===!0&&bi.push({key:"Length1",value:Kr})),Si.length!=0)if(Si.split("/").length-1==1)bi.push({key:"Filter",value:Si});else{bi.push({key:"Filter",value:"["+Si+"]"});for(var Ai=0;Ai<bi.length;Ai+=1)if(bi[Ai].key==="DecodeParms"){for(var Di=[],Vi=0;Vi<di.reverseChain.split("/").length-1;Vi+=1)Di.push("null");Di.push(bi[Ai].value),bi[Ai].value="["+Di.join(" ")+"]"}}or("<<");for(var Ui=0;Ui<bi.length;Ui++)or("/"+bi[Ui].key+" "+bi[Ui].value);or(">>"),di.data.length!==0&&(or("stream"),or(hi(di.data)),or("endstream"))},Gn=Se.__private__.putPage=function(qe){var pr=qe.number,Fr=qe.data,Br=qe.objId,qr=qe.contentsObjId;pn(Br,!0),or("<</Type /Page"),or("/Parent "+qe.rootDictionaryObjId+" 0 R"),or("/Resources "+qe.resourceDictionaryObjId+" 0 R"),or("/MediaBox ["+parseFloat(We(qe.mediaBox.bottomLeftX))+" "+parseFloat(We(qe.mediaBox.bottomLeftY))+" "+We(qe.mediaBox.topRightX)+" "+We(qe.mediaBox.topRightY)+"]"),qe.cropBox!==null&&or("/CropBox ["+We(qe.cropBox.bottomLeftX)+" "+We(qe.cropBox.bottomLeftY)+" "+We(qe.cropBox.topRightX)+" "+We(qe.cropBox.topRightY)+"]"),qe.bleedBox!==null&&or("/BleedBox ["+We(qe.bleedBox.bottomLeftX)+" "+We(qe.bleedBox.bottomLeftY)+" "+We(qe.bleedBox.topRightX)+" "+We(qe.bleedBox.topRightY)+"]"),qe.trimBox!==null&&or("/TrimBox ["+We(qe.trimBox.bottomLeftX)+" "+We(qe.trimBox.bottomLeftY)+" "+We(qe.trimBox.topRightX)+" "+We(qe.trimBox.topRightY)+"]"),qe.artBox!==null&&or("/ArtBox ["+We(qe.artBox.bottomLeftX)+" "+We(qe.artBox.bottomLeftY)+" "+We(qe.artBox.topRightX)+" "+We(qe.artBox.topRightY)+"]"),typeof qe.userUnit=="number"&&qe.userUnit!==1&&or("/UserUnit "+qe.userUnit),Li.publish("putPage",{objId:Br,pageContext:vi[pr],pageNumber:pr,page:Fr}),or("/Contents "+qr+" 0 R"),or(">>"),or("endobj");var Kr=Fr.join(`
`);return Be===De.ADVANCED&&(Kr+=`
Q`),pn(qr,!0),bn({data:Kr,filters:Hn(),objectId:qr}),or("endobj"),Br},xs=Se.__private__.putPages=function(){var qe,pr,Fr=[];for(qe=1;qe<=ji;qe++)vi[qe].objId=qi(),vi[qe].contentsObjId=qi();for(qe=1;qe<=ji;qe++)Fr.push(Gn({number:qe,data:Ir[qe],objId:vi[qe].objId,contentsObjId:vi[qe].contentsObjId,mediaBox:vi[qe].mediaBox,cropBox:vi[qe].cropBox,bleedBox:vi[qe].bleedBox,trimBox:vi[qe].trimBox,artBox:vi[qe].artBox,userUnit:vi[qe].userUnit,rootDictionaryObjId:Xn,resourceDictionaryObjId:En}));pn(Xn,!0),or("<</Type /Pages");var Br="/Kids [";for(pr=0;pr<ji;pr++)Br+=Fr[pr]+" 0 R ";or(Br+"]"),or("/Count "+ji),or(">>"),or("endobj"),Li.publish("postPutPages")},Ms=function(qe){Li.publish("putFont",{font:qe,out:or,newObject:Xi,putStream:bn}),qe.isAlreadyPutted!==!0&&(qe.objectNumber=Xi(),or("<<"),or("/Type /Font"),or("/BaseFont /"+F(qe.postScriptName)),or("/Subtype /Type1"),typeof qe.encoding=="string"&&or("/Encoding /"+qe.encoding),or("/FirstChar 32"),or("/LastChar 255"),or(">>"),or("endobj"))},Os=function(){for(var qe in yi)yi.hasOwnProperty(qe)&&(Ae===!1||Ae===!0&&xe.hasOwnProperty(qe))&&Ms(yi[qe])},Is=function(qe){qe.objectNumber=Xi();var pr=[];pr.push({key:"Type",value:"/XObject"}),pr.push({key:"Subtype",value:"/Form"}),pr.push({key:"BBox",value:"["+[We(qe.x),We(qe.y),We(qe.x+qe.width),We(qe.y+qe.height)].join(" ")+"]"}),pr.push({key:"Matrix",value:"["+qe.matrix.toString()+"]"});var Fr=qe.pages[1].join(`
`);bn({data:Fr,additionalKeyValues:pr,objectId:qe.objectNumber}),or("endobj")},Ns=function(){for(var qe in tn)tn.hasOwnProperty(qe)&&Is(tn[qe])},Na=function(qe,pr){var Fr,Br=[],qr=1/(pr-1);for(Fr=0;Fr<1;Fr+=qr)Br.push(Fr);if(Br.push(1),qe[0].offset!=0){var Kr={offset:0,color:qe[0].color};qe.unshift(Kr)}if(qe[qe.length-1].offset!=1){var ii={offset:1,color:qe[qe.length-1].color};qe.push(ii)}for(var hi="",di=0,bi=0;bi<Br.length;bi++){for(Fr=Br[bi];Fr>qe[di+1].offset;)di++;var Si=qe[di].offset,Ai=(Fr-Si)/(qe[di+1].offset-Si),Di=qe[di].color,Vi=qe[di+1].color;hi+=Ke(Math.round((1-Ai)*Di[0]+Ai*Vi[0]).toString(16))+Ke(Math.round((1-Ai)*Di[1]+Ai*Vi[1]).toString(16))+Ke(Math.round((1-Ai)*Di[2]+Ai*Vi[2]).toString(16))}return hi.trim()},xo=function(qe,pr){pr||(pr=21);var Fr=Xi(),Br=Na(qe.colors,pr),qr=[];qr.push({key:"FunctionType",value:"0"}),qr.push({key:"Domain",value:"[0.0 1.0]"}),qr.push({key:"Size",value:"["+pr+"]"}),qr.push({key:"BitsPerSample",value:"8"}),qr.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qr.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bn({data:Br,additionalKeyValues:qr,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Fr}),or("endobj"),qe.objectNumber=Xi(),or("<< /ShadingType "+qe.type),or("/ColorSpace /DeviceRGB");var Kr="/Coords ["+We(parseFloat(qe.coords[0]))+" "+We(parseFloat(qe.coords[1]))+" ";qe.type===2?Kr+=We(parseFloat(qe.coords[2]))+" "+We(parseFloat(qe.coords[3])):Kr+=We(parseFloat(qe.coords[2]))+" "+We(parseFloat(qe.coords[3]))+" "+We(parseFloat(qe.coords[4]))+" "+We(parseFloat(qe.coords[5])),or(Kr+="]"),qe.matrix&&or("/Matrix ["+qe.matrix.toString()+"]"),or("/Function "+Fr+" 0 R"),or("/Extend [true true]"),or(">>"),or("endobj")},Co=function(qe,pr){var Fr=qi(),Br=Xi();pr.push({resourcesOid:Fr,objectOid:Br}),qe.objectNumber=Br;var qr=[];qr.push({key:"Type",value:"/Pattern"}),qr.push({key:"PatternType",value:"1"}),qr.push({key:"PaintType",value:"1"}),qr.push({key:"TilingType",value:"1"}),qr.push({key:"BBox",value:"["+qe.boundingBox.map(We).join(" ")+"]"}),qr.push({key:"XStep",value:We(qe.xStep)}),qr.push({key:"YStep",value:We(qe.yStep)}),qr.push({key:"Resources",value:Fr+" 0 R"}),qe.matrix&&qr.push({key:"Matrix",value:"["+qe.matrix.toString()+"]"}),bn({data:qe.stream,additionalKeyValues:qr,objectId:qe.objectNumber}),or("endobj")},Rs=function(qe){var pr;for(pr in ki)ki.hasOwnProperty(pr)&&(ki[pr]instanceof B?xo(ki[pr]):ki[pr]instanceof M&&Co(ki[pr],qe))},Ra=function(qe){for(var pr in qe.objectNumber=Xi(),or("<<"),qe)switch(pr){case"opacity":or("/ca "+xr(qe[pr]));break;case"stroke-opacity":or("/CA "+xr(qe[pr]))}or(">>"),or("endobj")},Ao=function(){var qe;for(qe in Bi)Bi.hasOwnProperty(qe)&&Ra(Bi[qe])},sa=function(){for(var qe in or("/XObject <<"),tn)tn.hasOwnProperty(qe)&&tn[qe].objectNumber>=0&&or("/"+qe+" "+tn[qe].objectNumber+" 0 R");Li.publish("putXobjectDict"),or(">>")},Po=function(){rn.oid=Xi(),or("<<"),or("/Filter /Standard"),or("/V "+rn.v),or("/R "+rn.r),or("/U <"+rn.toHexString(rn.U)+">"),or("/O <"+rn.toHexString(rn.O)+">"),or("/P "+rn.P),or(">>"),or("endobj")},Da=function(){for(var qe in or("/Font <<"),yi)yi.hasOwnProperty(qe)&&(Ae===!1||Ae===!0&&xe.hasOwnProperty(qe))&&or("/"+qe+" "+yi[qe].objectNumber+" 0 R");or(">>")},Eo=function(){if(Object.keys(ki).length>0){for(var qe in or("/Shading <<"),ki)ki.hasOwnProperty(qe)&&ki[qe]instanceof B&&ki[qe].objectNumber>=0&&or("/"+qe+" "+ki[qe].objectNumber+" 0 R");Li.publish("putShadingPatternDict"),or(">>")}},Ds=function(qe){if(Object.keys(ki).length>0){for(var pr in or("/Pattern <<"),ki)ki.hasOwnProperty(pr)&&ki[pr]instanceof Se.TilingPattern&&ki[pr].objectNumber>=0&&ki[pr].objectNumber<qe&&or("/"+pr+" "+ki[pr].objectNumber+" 0 R");Li.publish("putTilingPatternDict"),or(">>")}},To=function(){if(Object.keys(Bi).length>0){var qe;for(qe in or("/ExtGState <<"),Bi)Bi.hasOwnProperty(qe)&&Bi[qe].objectNumber>=0&&or("/"+qe+" "+Bi[qe].objectNumber+" 0 R");Li.publish("putGStateDict"),or(">>")}},Hi=function(qe){pn(qe.resourcesOid,!0),or("<<"),or("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Da(),Eo(),Ds(qe.objectOid),To(),sa(),or(">>"),or("endobj")},Ba=function(){var qe=[];Os(),Ao(),Ns(),Rs(qe),Li.publish("putResources"),qe.forEach(Hi),Hi({resourcesOid:En,objectOid:Number.MAX_SAFE_INTEGER}),Li.publish("postPutResources")},ja=function(){Li.publish("putAdditionalObjects");for(var qe=0;qe<Rr.length;qe++){var pr=Rr[qe];pn(pr.objId,!0),or(pr.content),or("endobj")}Li.publish("postPutAdditionalObjects")},Va=function(qe){xi[qe.fontName]=xi[qe.fontName]||{},xi[qe.fontName][qe.fontStyle]=qe.id},aa=function(qe,pr,Fr,Br,qr){var Kr={id:"F"+(Object.keys(yi).length+1).toString(10),postScriptName:qe,fontName:pr,fontStyle:Fr,encoding:Br,isStandardFont:qr||!1,metadata:{}};return Li.publish("addFont",{font:Kr,instance:this}),yi[Kr.id]=Kr,Va(Kr),Kr.id},ko=function(qe){for(var pr=0,Fr=Lr.length;pr<Fr;pr++){var Br=aa.call(this,qe[pr][0],qe[pr][1],qe[pr][2],Lr[pr][3],!0);Ae===!1&&(xe[Br]=!0);var qr=qe[pr][0].split("-");Va({id:Br,fontName:qr[0],fontStyle:qr[1]||""})}Li.publish("addFonts",{fonts:yi,dictionary:xi})},Ln=function(qe){return qe.foo=function(){try{return qe.apply(this,arguments)}catch(Br){var pr=Br.stack||"";~pr.indexOf(" at ")&&(pr=pr.split(" at ")[1]);var Fr="Error in function "+pr.split(`
`)[0].split("<")[0]+": "+Br.message;if(!n.console)throw new Error(Fr);n.console.error(Fr,Br),n.alert&&alert(Fr)}},qe.foo.bar=qe,qe.foo},Bs=function(qe,pr){var Fr,Br,qr,Kr,ii,hi,di,bi,Si;if(qr=(pr=pr||{}).sourceEncoding||"Unicode",ii=pr.outputEncoding,(pr.autoencode||ii)&&yi[fi].metadata&&yi[fi].metadata[qr]&&yi[fi].metadata[qr].encoding&&(Kr=yi[fi].metadata[qr].encoding,!ii&&yi[fi].encoding&&(ii=yi[fi].encoding),!ii&&Kr.codePages&&(ii=Kr.codePages[0]),typeof ii=="string"&&(ii=Kr[ii]),ii)){for(di=!1,hi=[],Fr=0,Br=qe.length;Fr<Br;Fr++)(bi=ii[qe.charCodeAt(Fr)])?hi.push(String.fromCharCode(bi)):hi.push(qe[Fr]),hi[Fr].charCodeAt(0)>>8&&(di=!0);qe=hi.join("")}for(Fr=qe.length;di===void 0&&Fr!==0;)qe.charCodeAt(Fr-1)>>8&&(di=!0),Fr--;if(!di)return qe;for(hi=pr.noBOM?[]:[254,255],Fr=0,Br=qe.length;Fr<Br;Fr++){if((Si=(bi=qe.charCodeAt(Fr))>>8)>>8)throw new Error("Character at position "+Fr+" of string '"+qe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");hi.push(Si),hi.push(bi-(Si<<8))}return String.fromCharCode.apply(void 0,hi)},on=Se.__private__.pdfEscape=Se.pdfEscape=function(qe,pr){return Bs(qe,pr).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oa=Se.__private__.beginPage=function(qe){Ir[++ji]=[],vi[ji]={objId:0,contentsObjId:0,userUnit:Number(Pe),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(qe[0]),topRightY:Number(qe[1])}},Ha(ji),wr(Ir[cr])},za=function(qe,pr){var Fr,Br,qr;switch(r=pr||r,typeof qe=="string"&&(Fr=Oe(qe.toLowerCase()),Array.isArray(Fr)&&(Br=Fr[0],qr=Fr[1])),Array.isArray(qe)&&(Br=qe[0]*si,qr=qe[1]*si),isNaN(Br)&&(Br=Ce[0],qr=Ce[1]),(Br>14400||qr>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Br=Math.min(14400,Br),qr=Math.min(14400,qr)),Ce=[Br,qr],r.substr(0,1)){case"l":qr>Br&&(Ce=[qr,Br]);break;case"p":Br>qr&&(Ce=[qr,Br])}oa(Ce),Xa(fa),or(Fn),da!==0&&or(da+" J"),pa!==0&&or(pa+" j"),Li.publish("addPage",{pageNumber:ji})},Lo=function(qe){qe>0&&qe<=ji&&(Ir.splice(qe,1),vi.splice(qe,1),ji--,cr>ji&&(cr=ji),this.setPage(cr))},Ha=function(qe){qe>0&&qe<=ji&&(cr=qe)},Fo=Se.__private__.getNumberOfPages=Se.getNumberOfPages=function(){return Ir.length-1},Ga=function(qe,pr,Fr){var Br,qr=void 0;return Fr=Fr||{},qe=qe!==void 0?qe:yi[fi].fontName,pr=pr!==void 0?pr:yi[fi].fontStyle,Br=qe.toLowerCase(),xi[Br]!==void 0&&xi[Br][pr]!==void 0?qr=xi[Br][pr]:xi[qe]!==void 0&&xi[qe][pr]!==void 0?qr=xi[qe][pr]:Fr.disableWarning===!1&&a.warn("Unable to look up font label for font '"+qe+"', '"+pr+"'. Refer to getFontList() for available fonts."),qr||Fr.noFallback||(qr=xi.times[pr])==null&&(qr=xi.times.normal),qr},Mo=Se.__private__.putInfo=function(){var qe=Xi(),pr=function(Br){return Br};for(var Fr in ke!==null&&(pr=rn.encryptor(qe,0)),or("<<"),or("/Producer ("+on(pr("jsPDF "+E.version))+")"),ni)ni.hasOwnProperty(Fr)&&ni[Fr]&&or("/"+Fr.substr(0,1).toUpperCase()+Fr.substr(1)+" ("+on(pr(ni[Fr]))+")");or("/CreationDate ("+on(pr(br))+")"),or(">>"),or("endobj")},la=Se.__private__.putCatalog=function(qe){var pr=(qe=qe||{}).rootDictionaryObjId||Xn;switch(Xi(),or("<<"),or("/Type /Catalog"),or("/Pages "+pr+" 0 R"),Nr||(Nr="fullwidth"),Nr){case"fullwidth":or("/OpenAction [3 0 R /FitH null]");break;case"fullheight":or("/OpenAction [3 0 R /FitV null]");break;case"fullpage":or("/OpenAction [3 0 R /Fit]");break;case"original":or("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Fr=""+Nr;Fr.substr(Fr.length-1)==="%"&&(Nr=parseInt(Nr)/100),typeof Nr=="number"&&or("/OpenAction [3 0 R /XYZ null null "+xr(Nr)+"]")}switch(ti||(ti="continuous"),ti){case"continuous":or("/PageLayout /OneColumn");break;case"single":or("/PageLayout /SinglePage");break;case"two":case"twoleft":or("/PageLayout /TwoColumnLeft");break;case"tworight":or("/PageLayout /TwoColumnRight")}Yr&&or("/PageMode /"+Yr),Li.publish("putCatalog"),or(">>"),or("endobj")},Oo=Se.__private__.putTrailer=function(){or("trailer"),or("<<"),or("/Size "+(lr+1)),or("/Root "+lr+" 0 R"),or("/Info "+(lr-1)+" 0 R"),ke!==null&&or("/Encrypt "+rn.oid+" 0 R"),or("/ID [ <"+sr+"> <"+sr+"> ]"),or(">>")},Io=Se.__private__.putHeader=function(){or("%PDF-"+Fe),or("%\xBA\xDF\xAC\xE0")},No=Se.__private__.putXRef=function(){var qe="0000000000";or("xref"),or("0 "+(lr+1)),or("0000000000 65535 f ");for(var pr=1;pr<=lr;pr++)typeof mr[pr]=="function"?or((qe+mr[pr]()).slice(-10)+" 00000 n "):mr[pr]!==void 0?or((qe+mr[pr]).slice(-10)+" 00000 n "):or("0000000000 00000 n ")},$n=Se.__private__.buildDocument=function(){Sr(),wr(Ar),Li.publish("buildDocument"),Io(),xs(),ja(),Ba(),ke!==null&&Po(),Mo(),la();var qe=Pr;return No(),Oo(),or("startxref"),or(""+qe),or("%%EOF"),wr(Ir[cr]),Ar.join(`
`)},js=Se.__private__.getBlob=function(qe){return new Blob([Or(qe)],{type:"application/pdf"})},Vs=Se.output=Se.__private__.output=Ln(function(qe,pr){switch(typeof(pr=pr||{})=="string"?pr={filename:pr}:pr.filename=pr.filename||"generated.pdf",qe){case void 0:return $n();case"save":Se.save(pr.filename);break;case"arraybuffer":return Or($n());case"blob":return js($n());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(js($n()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Fr="",Br=$n();try{Fr=h(Br)}catch{Fr=h(unescape(encodeURIComponent(Br)))}return"data:application/pdf;filename="+pr.filename+";base64,"+Fr;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var qr="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Kr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';pr.pdfObjectUrl&&(qr=pr.pdfObjectUrl,Kr="");var ii='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qr+'"'+Kr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(pr)+");<\/script></body></html>",hi=n.open();return hi!==null&&hi.document.write(ii),hi}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var di='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(pr.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+pr.filename+'" width="500px" height="400px" /></body></html>',bi=n.open();if(bi!==null){bi.document.write(di);var Si=this;bi.document.documentElement.querySelector("#pdfViewer").onload=function(){bi.document.title=pr.filename,bi.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Si.output("bloburl"))}}return bi}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ai='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",pr)+'"></iframe></body></html>',Di=n.open();if(Di!==null&&(Di.document.write(Ai),Di.document.title=pr.filename),Di||typeof safari>"u")return Di;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",pr);default:return null}}),qa=function(qe){return Array.isArray(Ss)===!0&&Ss.indexOf(qe)>-1};switch(_e){case"pt":si=1;break;case"mm":si=72/25.4;break;case"cm":si=72/2.54;break;case"in":si=72;break;case"px":si=qa("px_scaling")==1?.75:96/72;break;case"pc":case"em":si=12;break;case"ex":si=6;break;default:if(typeof _e!="number")throw new Error("Invalid unit: "+_e);si=_e}var rn=null;ir(),Je();var Ro=function(qe){return ke!==null?rn.encryptor(qe,0):function(pr){return pr}},Ua=Se.__private__.getPageInfo=Se.getPageInfo=function(qe){if(isNaN(qe)||qe%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vi[qe].objId,pageNumber:qe,pageContext:vi[qe]}},gi=Se.__private__.getPageInfoByObjId=function(qe){if(isNaN(qe)||qe%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var pr in vi)if(vi[pr].objId===qe)break;return Ua(pr)},Do=Se.__private__.getCurrentPageInfo=Se.getCurrentPageInfo=function(){return{objId:vi[cr].objId,pageNumber:cr,pageContext:vi[cr]}};Se.addPage=function(){return za.apply(this,arguments),this},Se.setPage=function(){return Ha.apply(this,arguments),wr.call(this,Ir[cr]),this},Se.insertPage=function(qe){return this.addPage(),this.movePage(cr,qe),this},Se.movePage=function(qe,pr){var Fr,Br;if(qe>pr){Fr=Ir[qe],Br=vi[qe];for(var qr=qe;qr>pr;qr--)Ir[qr]=Ir[qr-1],vi[qr]=vi[qr-1];Ir[pr]=Fr,vi[pr]=Br,this.setPage(pr)}else if(qe<pr){Fr=Ir[qe],Br=vi[qe];for(var Kr=qe;Kr<pr;Kr++)Ir[Kr]=Ir[Kr+1],vi[Kr]=vi[Kr+1];Ir[pr]=Fr,vi[pr]=Br,this.setPage(pr)}return this},Se.deletePage=function(){return Lo.apply(this,arguments),this},Se.__private__.text=Se.text=function(qe,pr,Fr,Br,qr){var Kr,ii,hi,di,bi,Si,Ai,Di,Vi,Ui=(Br=Br||{}).scope||this;if(typeof qe=="number"&&typeof pr=="number"&&(typeof Fr=="string"||Array.isArray(Fr))){var nn=Fr;Fr=pr,pr=qe,qe=nn}if(arguments[3]instanceof mi?(Ue("The transform parameter of text() with a Matrix value"),Vi=qr):(hi=arguments[4],di=arguments[5],_typeof(Ai=arguments[3])==="object"&&Ai!==null||(typeof hi=="string"&&(di=hi,hi=null),typeof Ai=="string"&&(di=Ai,Ai=null),typeof Ai=="number"&&(hi=Ai,Ai=null),Br={flags:Ai,angle:hi,align:di})),isNaN(pr)||isNaN(Fr)||qe==null)throw new Error("Invalid arguments passed to jsPDF.text");if(qe.length===0)return Ui;var Ki="",Mn=!1,mn=typeof Br.lineHeightFactor=="number"?Br.lineHeightFactor:As,Jn=Ui.internal.scaleFactor;function to(Ni){return Ni=Ni.split("	").join(Array(Br.TabLen||9).join(" ")),on(Ni,Ai)}function ba(Ni){for(var Ri,Gi=Ni.concat(),$i=[],es=Gi.length;es--;)typeof(Ri=Gi.shift())=="string"?$i.push(Ri):Array.isArray(Ni)&&(Ri.length===1||Ri[1]===void 0&&Ri[2]===void 0)?$i.push(Ri[0]):$i.push([Ri[0],Ri[1],Ri[2]]);return $i}function wa(Ni,Ri){var Gi;if(typeof Ni=="string")Gi=Ri(Ni)[0];else if(Array.isArray(Ni)){for(var $i,es,ds=Ni.concat(),ta=[],ro=ds.length;ro--;)typeof($i=ds.shift())=="string"?ta.push(Ri($i)[0]):Array.isArray($i)&&typeof $i[0]=="string"&&(es=Ri($i[0],$i[1],$i[2]),ta.push([es[0],es[1],es[2]]));Gi=ta}return Gi}var Ws=!1,Sa=!0;if(typeof qe=="string")Ws=!0;else if(Array.isArray(qe)){var xa=qe.concat();ii=[];for(var Ys,hn=xa.length;hn--;)(typeof(Ys=xa.shift())!="string"||Array.isArray(Ys)&&typeof Ys[0]!="string")&&(Sa=!1);Ws=Sa}if(Ws===!1)throw new Error('Type of text must be string or Array. "'+qe+'" is not recognized.');typeof qe=="string"&&(qe=qe.match(/[\r?\n]/)?qe.split(/\r\n|\r|\n/g):[qe]);var Xs=Dr/Ui.internal.scaleFactor,$s=Xs*(mn-1);switch(Br.baseline){case"bottom":Fr-=$s;break;case"top":Fr+=Xs-$s;break;case"hanging":Fr+=Xs-2*$s;break;case"middle":Fr+=Xs/2-$s}if((Si=Br.maxWidth||0)>0&&(typeof qe=="string"?qe=Ui.splitTextToSize(qe,Si):Object.prototype.toString.call(qe)==="[object Array]"&&(qe=qe.reduce(function(Ni,Ri){return Ni.concat(Ui.splitTextToSize(Ri,Si))},[]))),Kr={text:qe,x:pr,y:Fr,options:Br,mutex:{pdfEscape:on,activeFontKey:fi,fonts:yi,activeFontSize:Dr}},Li.publish("preProcessText",Kr),qe=Kr.text,hi=(Br=Kr.options).angle,!(Vi instanceof mi)&&hi&&typeof hi=="number"){hi*=Math.PI/180,Br.rotationDirection===0&&(hi=-hi),Be===De.ADVANCED&&(hi=-hi);var Ks=Math.cos(hi),Ca=Math.sin(hi);Vi=new mi(Ks,Ca,-Ca,Ks,0,0)}else hi&&hi instanceof mi&&(Vi=hi);Be!==De.ADVANCED||Vi||(Vi=zn),(bi=Br.charSpace||Gs)!==void 0&&(Ki+=We(er(bi))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Di=Br.horizontalScale)!==void 0&&(Ki+=We(100*Di)+` Tz
`),Br.lang;var cn=-1,Yo=Br.renderingMode!==void 0?Br.renderingMode:Br.stroke,Aa=Ui.internal.getCurrentPageInfo().pageContext;switch(Yo){case 0:case!1:case"fill":cn=0;break;case 1:case!0:case"stroke":cn=1;break;case 2:case"fillThenStroke":cn=2;break;case 3:case"invisible":cn=3;break;case 4:case"fillAndAddForClipping":cn=4;break;case 5:case"strokeAndAddPathForClipping":cn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":cn=6;break;case 7:case"addToPathForClipping":cn=7}var eo=Aa.usedRenderingMode!==void 0?Aa.usedRenderingMode:-1;cn!==-1?Ki+=cn+` Tr
`:eo!==-1&&(Ki+=`0 Tr
`),cn!==-1&&(Aa.usedRenderingMode=cn),di=Br.align||"left";var On,Pa=Dr*mn,Xo=Ui.internal.pageSize.getWidth(),$o=yi[fi];bi=Br.charSpace||Gs,Si=Br.maxWidth||0,Ai=Object.assign({autoencode:!0,noBOM:!0},Br.flags);var hs=[];if(Object.prototype.toString.call(qe)==="[object Array]"){var _n;ii=ba(qe),di!=="left"&&(On=ii.map(function(Ni){return Ui.getStringUnitWidth(Ni,{font:$o,charSpace:bi,fontSize:Dr,doKerning:!1})*Dr/Jn}));var In,cs=0;if(di==="right"){pr-=On[0],qe=[],hn=ii.length;for(var Un=0;Un<hn;Un++)Un===0?(In=Kn(pr),_n=as(Fr)):(In=er(cs-On[Un]),_n=-Pa),qe.push([ii[Un],In,_n]),cs=On[Un]}else if(di==="center"){pr-=On[0]/2,qe=[],hn=ii.length;for(var Zn=0;Zn<hn;Zn++)Zn===0?(In=Kn(pr),_n=as(Fr)):(In=er((cs-On[Zn])/2),_n=-Pa),qe.push([ii[Zn],In,_n]),cs=On[Zn]}else if(di==="left"){qe=[],hn=ii.length;for(var Js=0;Js<hn;Js++)qe.push(ii[Js])}else{if(di!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');qe=[],hn=ii.length,Si=Si!==0?Si:Xo;for(var Nn=0;Nn<hn;Nn++)_n=Nn===0?as(Fr):-Pa,In=Nn===0?Kn(pr):0,Nn<hn-1?hs.push(We(er((Si-On[Nn])/(ii[Nn].split(" ").length-1)))):hs.push(0),qe.push([ii[Nn],In,_n])}}var Zs=typeof Br.R2L=="boolean"?Br.R2L:Gr;Zs===!0&&(qe=wa(qe,function(Ni,Ri,Gi){return[Ni.split("").reverse().join(""),Ri,Gi]})),Kr={text:qe,x:pr,y:Fr,options:Br,mutex:{pdfEscape:on,activeFontKey:fi,fonts:yi,activeFontSize:Dr}},Li.publish("postProcessText",Kr),qe=Kr.text,Mn=Kr.mutex.isHex||!1;var Ea=yi[fi].encoding;Ea!=="WinAnsiEncoding"&&Ea!=="StandardEncoding"||(qe=wa(qe,function(Ni,Ri,Gi){return[to(Ni),Ri,Gi]})),ii=ba(qe),qe=[];for(var fs,Rn,Qn,Ts=0,Qs=1,ks=Array.isArray(ii[0])?Qs:Ts,us="",Ta=function(Ni,Ri,Gi){var $i="";return Gi instanceof mi?(Gi=typeof Br.angle=="number"?Pn(Gi,new mi(1,0,0,1,Ni,Ri)):Pn(new mi(1,0,0,1,Ni,Ri),Gi),Be===De.ADVANCED&&(Gi=Pn(new mi(1,0,0,-1,0,0),Gi)),$i=Gi.join(" ")+` Tm
`):$i=We(Ni)+" "+We(Ri)+` Td
`,$i},wn=0;wn<ii.length;wn++){switch(us="",ks){case Qs:Qn=(Mn?"<":"(")+ii[wn][0]+(Mn?">":")"),fs=parseFloat(ii[wn][1]),Rn=parseFloat(ii[wn][2]);break;case Ts:Qn=(Mn?"<":"(")+ii[wn]+(Mn?">":")"),fs=Kn(pr),Rn=as(Fr)}hs!==void 0&&hs[wn]!==void 0&&(us=hs[wn]+` Tw
`),wn===0?qe.push(us+Ta(fs,Rn,Vi)+Qn):ks===Ts?qe.push(us+Qn):ks===Qs&&qe.push(us+Ta(fs,Rn,Vi)+Qn)}qe=ks===Ts?qe.join(` Tj
T* `):qe.join(` Tj
`),qe+=` Tj
`;var ts=`BT
/`;return ts+=fi+" "+Dr+` Tf
`,ts+=We(Dr*mn)+` TL
`,ts+=Ps+`
`,ts+=Ki,ts+=qe,or(ts+="ET"),xe[fi]=!0,Ui};var Bo=Se.__private__.clip=Se.clip=function(qe){return or(qe==="evenodd"?"W*":"W"),this};Se.clipEvenOdd=function(){return Bo("evenodd")},Se.__private__.discardPath=Se.discardPath=function(){return or("n"),this};var qn=Se.__private__.isValidStyle=function(qe){var pr=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(qe)!==-1&&(pr=!0),pr};Se.__private__.setDefaultPathOperation=Se.setDefaultPathOperation=function(qe){return qn(qe)&&(Te=qe),this};var Wa=Se.__private__.getStyle=Se.getStyle=function(qe){var pr=Te;switch(qe){case"D":case"S":pr="S";break;case"F":pr="f";break;case"FD":case"DF":pr="B";break;case"f":case"f*":case"B":case"B*":pr=qe}return pr},Ya=Se.close=function(){return or("h"),this};Se.stroke=function(){return or("S"),this},Se.fill=function(qe){return zs("f",qe),this},Se.fillEvenOdd=function(qe){return zs("f*",qe),this},Se.fillStroke=function(qe){return zs("B",qe),this},Se.fillStrokeEvenOdd=function(qe){return zs("B*",qe),this};var zs=function(qe,pr){_typeof(pr)==="object"?Vo(pr,qe):or(qe)},ha=function(qe){qe===null||Be===De.ADVANCED&&qe===void 0||(qe=Wa(qe),or(qe))};function jo(qe,pr,Fr,Br,qr){var Kr=new M(pr||this.boundingBox,Fr||this.xStep,Br||this.yStep,this.gState,qr||this.matrix);Kr.stream=this.stream;var ii=qe+"$$"+this.cloneIndex+++"$$";return an(ii,Kr),Kr}var Vo=function(qe,pr){var Fr=ws[qe.key],Br=ki[Fr];if(Br instanceof B)or("q"),or(zo(pr)),Br.gState&&Se.setGState(Br.gState),or(qe.matrix.toString()+" cm"),or("/"+Fr+" sh"),or("Q");else if(Br instanceof M){var qr=new mi(1,0,0,-1,0,ls());qe.matrix&&(qr=qr.multiply(qe.matrix||zn),Fr=jo.call(Br,qe.key,qe.boundingBox,qe.xStep,qe.yStep,qr).id),or("q"),or("/Pattern cs"),or("/"+Fr+" scn"),Br.gState&&Se.setGState(Br.gState),or(pr),or("Q")}},zo=function(qe){switch(qe){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ca=Se.moveTo=function(qe,pr){return or(We(er(qe))+" "+We(gr(pr))+" m"),this},Cs=Se.lineTo=function(qe,pr){return or(We(er(qe))+" "+We(gr(pr))+" l"),this},ss=Se.curveTo=function(qe,pr,Fr,Br,qr,Kr){return or([We(er(qe)),We(gr(pr)),We(er(Fr)),We(gr(Br)),We(er(qr)),We(gr(Kr)),"c"].join(" ")),this};Se.__private__.line=Se.line=function(qe,pr,Fr,Br,qr){if(isNaN(qe)||isNaN(pr)||isNaN(Fr)||isNaN(Br)||!qn(qr))throw new Error("Invalid arguments passed to jsPDF.line");return Be===De.COMPAT?this.lines([[Fr-qe,Br-pr]],qe,pr,[1,1],qr||"S"):this.lines([[Fr-qe,Br-pr]],qe,pr,[1,1]).stroke()},Se.__private__.lines=Se.lines=function(qe,pr,Fr,Br,qr,Kr){var ii,hi,di,bi,Si,Ai,Di,Vi,Ui,nn,Ki,Mn;if(typeof qe=="number"&&(Mn=Fr,Fr=pr,pr=qe,qe=Mn),Br=Br||[1,1],Kr=Kr||!1,isNaN(pr)||isNaN(Fr)||!Array.isArray(qe)||!Array.isArray(Br)||!qn(qr)||typeof Kr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ca(pr,Fr),ii=Br[0],hi=Br[1],bi=qe.length,nn=pr,Ki=Fr,di=0;di<bi;di++)(Si=qe[di]).length===2?(nn=Si[0]*ii+nn,Ki=Si[1]*hi+Ki,Cs(nn,Ki)):(Ai=Si[0]*ii+nn,Di=Si[1]*hi+Ki,Vi=Si[2]*ii+nn,Ui=Si[3]*hi+Ki,nn=Si[4]*ii+nn,Ki=Si[5]*hi+Ki,ss(Ai,Di,Vi,Ui,nn,Ki));return Kr&&Ya(),ha(qr),this},Se.path=function(qe){for(var pr=0;pr<qe.length;pr++){var Fr=qe[pr],Br=Fr.c;switch(Fr.op){case"m":ca(Br[0],Br[1]);break;case"l":Cs(Br[0],Br[1]);break;case"c":ss.apply(this,Br);break;case"h":Ya()}}return this},Se.__private__.rect=Se.rect=function(qe,pr,Fr,Br,qr){if(isNaN(qe)||isNaN(pr)||isNaN(Fr)||isNaN(Br)||!qn(qr))throw new Error("Invalid arguments passed to jsPDF.rect");return Be===De.COMPAT&&(Br=-Br),or([We(er(qe)),We(gr(pr)),We(er(Fr)),We(er(Br)),"re"].join(" ")),ha(qr),this},Se.__private__.triangle=Se.triangle=function(qe,pr,Fr,Br,qr,Kr,ii){if(isNaN(qe)||isNaN(pr)||isNaN(Fr)||isNaN(Br)||isNaN(qr)||isNaN(Kr)||!qn(ii))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Fr-qe,Br-pr],[qr-Fr,Kr-Br],[qe-qr,pr-Kr]],qe,pr,[1,1],ii,!0),this},Se.__private__.roundedRect=Se.roundedRect=function(qe,pr,Fr,Br,qr,Kr,ii){if(isNaN(qe)||isNaN(pr)||isNaN(Fr)||isNaN(Br)||isNaN(qr)||isNaN(Kr)||!qn(ii))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var hi=4/3*(Math.SQRT2-1);return qr=Math.min(qr,.5*Fr),Kr=Math.min(Kr,.5*Br),this.lines([[Fr-2*qr,0],[qr*hi,0,qr,Kr-Kr*hi,qr,Kr],[0,Br-2*Kr],[0,Kr*hi,-qr*hi,Kr,-qr,Kr],[2*qr-Fr,0],[-qr*hi,0,-qr,-Kr*hi,-qr,-Kr],[0,2*Kr-Br],[0,-Kr*hi,qr*hi,-Kr,qr,-Kr]],qe+qr,pr,[1,1],ii,!0),this},Se.__private__.ellipse=Se.ellipse=function(qe,pr,Fr,Br,qr){if(isNaN(qe)||isNaN(pr)||isNaN(Fr)||isNaN(Br)||!qn(qr))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Kr=4/3*(Math.SQRT2-1)*Fr,ii=4/3*(Math.SQRT2-1)*Br;return ca(qe+Fr,pr),ss(qe+Fr,pr-ii,qe+Kr,pr-Br,qe,pr-Br),ss(qe-Kr,pr-Br,qe-Fr,pr-ii,qe-Fr,pr),ss(qe-Fr,pr+ii,qe-Kr,pr+Br,qe,pr+Br),ss(qe+Kr,pr+Br,qe+Fr,pr+ii,qe+Fr,pr),ha(qr),this},Se.__private__.circle=Se.circle=function(qe,pr,Fr,Br){if(isNaN(qe)||isNaN(pr)||isNaN(Fr)||!qn(Br))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(qe,pr,Fr,Fr,Br)},Se.setFont=function(qe,pr,Fr){return Fr&&(pr=Ge(pr,Fr)),fi=Ga(qe,pr,{disableWarning:!1}),this};var Ho=Se.__private__.getFont=Se.getFont=function(){return yi[Ga.apply(Se,arguments)]};Se.__private__.getFontList=Se.getFontList=function(){var qe,pr,Fr={};for(qe in xi)if(xi.hasOwnProperty(qe))for(pr in Fr[qe]=[],xi[qe])xi[qe].hasOwnProperty(pr)&&Fr[qe].push(pr);return Fr},Se.addFont=function(qe,pr,Fr,Br,qr){var Kr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Kr.indexOf(arguments[3])!==-1?qr=arguments[3]:arguments[3]&&Kr.indexOf(arguments[3])==-1&&(Fr=Ge(Fr,Br)),qr=qr||"Identity-H",aa.call(this,qe,pr,Fr,qr)};var As,fa=t.lineWidth||.200025,Hs=Se.__private__.getLineWidth=Se.getLineWidth=function(){return fa},Xa=Se.__private__.setLineWidth=Se.setLineWidth=function(qe){return fa=qe,or(We(er(qe))+" w"),this};Se.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(qe,pr){if(qe=qe||[],pr=pr||0,isNaN(pr)||!Array.isArray(qe))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return qe=qe.map(function(Fr){return We(er(Fr))}).join(" "),pr=We(er(pr)),or("["+qe+"] "+pr+" d"),this};var $a=Se.__private__.getLineHeight=Se.getLineHeight=function(){return Dr*As};Se.__private__.getLineHeight=Se.getLineHeight=function(){return Dr*As};var Ka=Se.__private__.setLineHeightFactor=Se.setLineHeightFactor=function(qe){return typeof(qe=qe||1.15)=="number"&&(As=qe),this},Ja=Se.__private__.getLineHeightFactor=Se.getLineHeightFactor=function(){return As};Ka(t.lineHeight);var Kn=Se.__private__.getHorizontalCoordinate=function(qe){return er(qe)},as=Se.__private__.getVerticalCoordinate=function(qe){return Be===De.ADVANCED?qe:vi[cr].mediaBox.topRightY-vi[cr].mediaBox.bottomLeftY-er(qe)},Go=Se.__private__.getHorizontalCoordinateString=Se.getHorizontalCoordinateString=function(qe){return We(Kn(qe))},os=Se.__private__.getVerticalCoordinateString=Se.getVerticalCoordinateString=function(qe){return We(as(qe))},Fn=t.strokeColor||"0 G";Se.__private__.getStrokeColor=Se.getDrawColor=function(){return Tn(Fn)},Se.__private__.setStrokeColor=Se.setDrawColor=function(qe,pr,Fr,Br){return Fn=kn({ch1:qe,ch2:pr,ch3:Fr,ch4:Br,pdfColorType:"draw",precision:2}),or(Fn),this};var ua=t.fillColor||"0 g";Se.__private__.getFillColor=Se.getFillColor=function(){return Tn(ua)},Se.__private__.setFillColor=Se.setFillColor=function(qe,pr,Fr,Br){return ua=kn({ch1:qe,ch2:pr,ch3:Fr,ch4:Br,pdfColorType:"fill",precision:2}),or(ua),this};var Ps=t.textColor||"0 g",qo=Se.__private__.getTextColor=Se.getTextColor=function(){return Tn(Ps)};Se.__private__.setTextColor=Se.setTextColor=function(qe,pr,Fr,Br){return Ps=kn({ch1:qe,ch2:pr,ch3:Fr,ch4:Br,pdfColorType:"text",precision:3}),this};var Gs=t.charSpace,Uo=Se.__private__.getCharSpace=Se.getCharSpace=function(){return parseFloat(Gs||0)};Se.__private__.setCharSpace=Se.setCharSpace=function(qe){if(isNaN(qe))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Gs=qe,this};var da=0;Se.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Se.__private__.setLineCap=Se.setLineCap=function(qe){var pr=Se.CapJoinStyles[qe];if(pr===void 0)throw new Error("Line cap style of '"+qe+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return da=pr,or(pr+" J"),this};var pa=0;Se.__private__.setLineJoin=Se.setLineJoin=function(qe){var pr=Se.CapJoinStyles[qe];if(pr===void 0)throw new Error("Line join style of '"+qe+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pa=pr,or(pr+" j"),this},Se.__private__.setLineMiterLimit=Se.__private__.setMiterLimit=Se.setLineMiterLimit=Se.setMiterLimit=function(qe){if(qe=qe||0,isNaN(qe))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return or(We(er(qe))+" M"),this},Se.GState=j,Se.setGState=function(qe){(qe=typeof qe=="string"?Bi[An[qe]]:Za(null,qe)).equals(Yn)||(or("/"+qe.id+" gs"),Yn=qe)};var Za=function(qe,pr){if(!qe||!An[qe]){var Fr=!1;for(var Br in Bi)if(Bi.hasOwnProperty(Br)&&Bi[Br].equals(pr)){Fr=!0;break}if(Fr)pr=Bi[Br];else{var qr="GS"+(Object.keys(Bi).length+1).toString(10);Bi[qr]=pr,pr.id=qr}return qe&&(An[qe]=pr.id),Li.publish("addGState",pr),pr}};Se.addGState=function(qe,pr){return Za(qe,pr),this},Se.saveGraphicsState=function(){return or("q"),dn.push({key:fi,size:Dr,color:Ps}),this},Se.restoreGraphicsState=function(){or("Q");var qe=dn.pop();return fi=qe.key,Dr=qe.size,Ps=qe.color,Yn=null,this},Se.setCurrentTransformationMatrix=function(qe){return or(qe.toString()+" cm"),this},Se.comment=function(qe){return or("#"+qe),this};var qs=function(qe,pr){var Fr=qe||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Fr},set:function(Kr){isNaN(Kr)||(Fr=parseFloat(Kr))}});var Br=pr||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Br},set:function(Kr){isNaN(Kr)||(Br=parseFloat(Kr))}});var qr="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qr},set:function(Kr){qr=Kr.toString()}}),this},ma=function(qe,pr,Fr,Br){qs.call(this,qe,pr),this.type="rect";var qr=Fr||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qr},set:function(ii){isNaN(ii)||(qr=parseFloat(ii))}});var Kr=Br||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Kr},set:function(ii){isNaN(ii)||(Kr=parseFloat(ii))}}),this},ga=function(){this.page=ji,this.currentPage=cr,this.pages=Ir.slice(0),this.pagesContext=vi.slice(0),this.x=Ti,this.y=wi,this.matrix=Qi,this.width=Es(cr),this.height=ls(cr),this.outputDestination=ar,this.id="",this.objectNumber=-1};ga.prototype.restore=function(){ji=this.page,cr=this.currentPage,vi=this.pagesContext,Ir=this.pages,Ti=this.x,wi=this.y,Qi=this.matrix,va(cr,this.width),ya(cr,this.height),ar=this.outputDestination};var Qa=function(qe,pr,Fr,Br,qr){Vn.push(new ga),ji=cr=0,Ir=[],Ti=qe,wi=pr,Qi=qr,oa([Fr,Br])},Wo=function(qe){if(jn[qe])Vn.pop().restore();else{var pr=new ga,Fr="Xo"+(Object.keys(tn).length+1).toString(10);pr.id=Fr,jn[qe]=Fr,tn[Fr]=pr,Li.publish("addFormObject",pr),Vn.pop().restore()}};for(var Us in Se.beginFormObject=function(qe,pr,Fr,Br,qr){return Qa(qe,pr,Fr,Br,qr),this},Se.endFormObject=function(qe){return Wo(qe),this},Se.doFormObject=function(qe,pr){var Fr=tn[jn[qe]];return or("q"),or(pr.toString()+" cm"),or("/"+Fr.id+" Do"),or("Q"),this},Se.getFormObject=function(qe){var pr=tn[jn[qe]];return{x:pr.x,y:pr.y,width:pr.width,height:pr.height,matrix:pr.matrix}},Se.save=function(qe,pr){return qe=qe||"generated.pdf",(pr=pr||{}).returnPromise=pr.returnPromise||!1,pr.returnPromise===!1?(l(js($n()),qe),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(Fr,Br){try{var qr=l(js($n()),qe);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),Fr(qr)}catch(Kr){Br(Kr.message)}})},E.API)E.API.hasOwnProperty(Us)&&(Us==="events"&&E.API.events.length?function(qe,pr){var Fr,Br,qr;for(qr=pr.length-1;qr!==-1;qr--)Fr=pr[qr][0],Br=pr[qr][1],qe.subscribe.apply(qe,[Fr].concat(typeof Br=="function"?[Br]:Br))}(Li,E.API.events):Se[Us]=E.API[Us]);var Es=Se.getPageWidth=function(qe){return(vi[qe=qe||cr].mediaBox.topRightX-vi[qe].mediaBox.bottomLeftX)/si},va=Se.setPageWidth=function(qe,pr){vi[qe].mediaBox.topRightX=pr*si+vi[qe].mediaBox.bottomLeftX},ls=Se.getPageHeight=function(qe){return(vi[qe=qe||cr].mediaBox.topRightY-vi[qe].mediaBox.bottomLeftY)/si},ya=Se.setPageHeight=function(qe,pr){vi[qe].mediaBox.topRightY=pr*si+vi[qe].mediaBox.bottomLeftY};return Se.internal={pdfEscape:on,getStyle:Wa,getFont:Ho,getFontSize:Mr,getCharSpace:Uo,getTextColor:qo,getLineHeight:$a,getLineHeightFactor:Ja,getLineWidth:Hs,write:kr,getHorizontalCoordinate:Kn,getVerticalCoordinate:as,getCoordinateString:Go,getVerticalCoordinateString:os,collections:{},newObject:Xi,newAdditionalObject:Fs,newObjectDeferred:qi,newObjectDeferredBegin:pn,getFilters:Hn,putStream:bn,events:Li,scaleFactor:si,pageSize:{getWidth:function(){return Es(cr)},setWidth:function(qe){va(cr,qe)},getHeight:function(){return ls(cr)},setHeight:function(qe){ya(cr,qe)}},encryptionOptions:ke,encryption:rn,getEncryptor:Ro,output:Vs,getNumberOfPages:Fo,pages:Ir,out:or,f2:xr,f3:rr,getPageInfo:Ua,getPageInfoByObjId:gi,getCurrentPageInfo:Do,getPDFVersion:Ie,Point:qs,Rectangle:ma,Matrix:mi,hasHotfix:qa},Object.defineProperty(Se.internal.pageSize,"width",{get:function(){return Es(cr)},set:function(qe){va(cr,qe)},enumerable:!0,configurable:!0}),Object.defineProperty(Se.internal.pageSize,"height",{get:function(){return ls(cr)},set:function(qe){ya(cr,qe)},enumerable:!0,configurable:!0}),ko.call(Se,Lr),fi="F1",za(Ce,r),Li.publish("initialized"),Se}I.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},I.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},I.prototype.processOwnerPassword=function(t,e){return P(x(e).substr(0,5),t)},I.prototype.encryptor=function(t,e){var r=x(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(_e){return P(r,_e)}},j.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||_typeof(t)!==_typeof(this))return!1;var _e=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;_e++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&_e--;return _e===0},E.API={events:[]},E.version="2.5.1";var q=E.API,D=1,R=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(t){return t.toFixed(2)},z=function(t){return t.toFixed(5)};q.__acroform__={};var H=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},W=function(t){return t*D},V=function(t){var e=new ut,r=At.internal.getHeight(t)||0,_e=At.internal.getWidth(t)||0;return e.BBox=[0,0,Number(U(_e)),Number(U(r))],e},G=q.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Y=q.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},J=q.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},X=q.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(t,e-1)},K=q.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(t,e-1)},Z=q.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(t,e-1)},$=q.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,_e=e.internal.getVerticalCoordinate,Ce=t[0],Ee=t[1],Re=t[2],Pe=t[3],St={};return St.lowerLeft_X=r(Ce)||0,St.lowerLeft_Y=_e(Ee+Pe)||0,St.upperRight_X=r(Ce+Re)||0,St.upperRight_Y=_e(Ee)||0,[Number(U(St.lowerLeft_X)),Number(U(St.lowerLeft_Y)),Number(U(St.upperRight_X)),Number(U(St.upperRight_Y))]},Q=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,_e=tt(t,r),Ce=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+Ce+" "+U(_e.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(_e.text),e.push("ET"),e.push("Q"),e.push("EMC");var Ee=V(t);return Ee.scope=t.scope,Ee.stream=e.join(`
`),Ee}},tt=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,_e={text:"",fontSize:""},Ce=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");Ce=t.multiline?Ce.map(function(rr){return rr.split(`
`)}):Ce.map(function(rr){return[rr]});var Ee=r,Re=At.internal.getHeight(t)||0;Re=Re<0?-Re:Re;var Pe=At.internal.getWidth(t)||0;Pe=Pe<0?-Pe:Pe;var St=function(rr,er,vr){if(rr+1<Ce.length){var gr=er+" "+Ce[rr+1][0];return et(gr,t,vr).width<=Pe-4}return!1};Ee++;t:for(;Ee>0;){e="",Ee--;var Te,ke,Ae=et("3",t,Ee).height,xe=t.multiline?Re-Ee:(Re-Ae)/2,Se=xe+=2,Fe=0,Ie=0,Me=0;if(Ee<=0){e=`(...) Tj
`,e+="% Width of Text: "+et(e,t,Ee=12).width+", FieldWidth:"+Pe+`
`;break}for(var Oe="",De=0,Be=0;Be<Ce.length;Be++)if(Ce.hasOwnProperty(Be)){var je=!1;if(Ce[Be].length!==1&&Me!==Ce[Be].length-1){if((Ae+2)*(De+2)+2>Re)continue t;Oe+=Ce[Be][Me],je=!0,Ie=Be,Be--}else{Oe=(Oe+=Ce[Be][Me]+" ").substr(Oe.length-1)==" "?Oe.substr(0,Oe.length-1):Oe;var ze=parseInt(Be),Ge=St(ze,Oe,Ee),We=Be>=Ce.length-1;if(Ge&&!We){Oe+=" ",Me=0;continue}if(Ge||We){if(We)Ie=ze;else if(t.multiline&&(Ae+2)*(De+2)+2>Re)continue t}else{if(!t.multiline||(Ae+2)*(De+2)+2>Re)continue t;Ie=ze}}for(var Ue="",hr=Fe;hr<=Ie;hr++){var xr=Ce[hr];if(t.multiline){if(hr===Ie){Ue+=xr[Me]+" ",Me=(Me+1)%xr.length;continue}if(hr===Fe){Ue+=xr[xr.length-1]+" ";continue}}Ue+=xr[0]+" "}switch(Ue=Ue.substr(Ue.length-1)==" "?Ue.substr(0,Ue.length-1):Ue,ke=et(Ue,t,Ee).width,t.textAlign){case"right":Te=Pe-ke-2;break;case"center":Te=(Pe-ke)/2;break;case"left":default:Te=2}e+=U(Te)+" "+U(Se)+` Td
`,e+="("+R(Ue)+`) Tj
`,e+=-U(Te)+` 0 Td
`,Se=-(Ee+2),ke=0,Fe=je?Ie:Ie+1,De++,Oe=""}break}return _e.text=e,_e.fontSize=Ee,_e},et=function(t,e,r){var _e=e.scope.internal.getFont(e.fontName,e.fontStyle),Ce=e.scope.getStringUnitWidth(t,{font:_e,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:_e,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:Ce}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(_e){return _e.type===r.type&&_e.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},it=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var _e=r,Ce=t[r];e.internal.newObjectDeferredBegin(Ce.objId,!0),_typeof(Ce)==="object"&&typeof Ce.putStream=="function"&&Ce.putStream(),delete t[_e]}},at=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ht,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var _e=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Ce in _e)if(_e.hasOwnProperty(Ce)){var Ee=_e[Ce];Ee.objId=void 0,Ee.hasAnnotation&&nt(Ee,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(_e,Ce){var Ee=!_e;for(var Re in _e||(Ce.internal.newObjectDeferredBegin(Ce.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Ce.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),_e=_e||Ce.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(_e.hasOwnProperty(Re)){var Pe=_e[Re],St=[],Te=Pe.Rect;if(Pe.Rect&&(Pe.Rect=$(Pe.Rect,Ce)),Ce.internal.newObjectDeferredBegin(Pe.objId,!0),Pe.DA=At.createDefaultAppearanceStream(Pe),_typeof(Pe)==="object"&&typeof Pe.getKeyValueListForStream=="function"&&(St=Pe.getKeyValueListForStream()),Pe.Rect=Te,Pe.hasAppearanceStream&&!Pe.appearanceStreamContent){var ke=Q(Pe);St.push({key:"AP",value:"<</N "+ke+">>"}),Ce.internal.acroformPlugin.xForms.push(ke)}if(Pe.appearanceStreamContent){var Ae="";for(var xe in Pe.appearanceStreamContent)if(Pe.appearanceStreamContent.hasOwnProperty(xe)){var Se=Pe.appearanceStreamContent[xe];if(Ae+="/"+xe+" ",Ae+="<<",Object.keys(Se).length>=1||Array.isArray(Se)){for(var Re in Se)if(Se.hasOwnProperty(Re)){var Fe=Se[Re];typeof Fe=="function"&&(Fe=Fe.call(Ce,Pe)),Ae+="/"+Re+" "+Fe+" ",Ce.internal.acroformPlugin.xForms.indexOf(Fe)>=0||Ce.internal.acroformPlugin.xForms.push(Fe)}}else typeof(Fe=Se)=="function"&&(Fe=Fe.call(Ce,Pe)),Ae+="/"+Re+" "+Fe,Ce.internal.acroformPlugin.xForms.indexOf(Fe)>=0||Ce.internal.acroformPlugin.xForms.push(Fe);Ae+=">>"}St.push({key:"AP",value:`<<
`+Ae+">>"})}Ce.internal.putStream({additionalKeyValues:St,objectId:Pe.objId}),Ce.internal.out("endobj")}Ee&&it(Ce.internal.acroformPlugin.xForms,Ce)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(t,e,r){var _e=function(Re){return Re};if(Array.isArray(t)){for(var Ce="[",Ee=0;Ee<t.length;Ee++)switch(Ee!==0&&(Ce+=" "),_typeof(t[Ee])){case"boolean":case"number":case"object":Ce+=t[Ee].toString();break;case"string":t[Ee].substr(0,1)!=="/"?(e!==void 0&&r&&(_e=r.internal.getEncryptor(e)),Ce+="("+R(_e(t[Ee].toString()))+")"):Ce+=t[Ee].toString()}return Ce+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(t,e,r){var _e=function(Ce){return Ce};return e!==void 0&&r&&(_e=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+R(_e(t))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(Ee){return Ee!="content"&&Ee!="appearanceStreamContent"&&Ee!="scope"&&Ee!="objId"&&Ee.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var _e=e[r],Ce=this[_e];Ce&&(Array.isArray(Ce)?t.push({key:_e,value:ot(Ce,this.objId,this.scope)}):Ce instanceof ct?(Ce.scope=this.scope,t.push({key:_e,value:Ce.objId+" 0 R"})):typeof Ce!="function"&&t.push({key:_e,value:Ce}))}return t};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};H(ut,ct);var ht=function(){ct.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(_e){return _e};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+R(r(t))+")"}},set:function(r){t=r}})};H(ht,ct);var lt=function t(){ct.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(Oe){if(isNaN(Oe))throw new Error('Invalid value "'+Oe+'" for attribute F supplied.');e=Oe}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(e,3))},set:function(Oe){Boolean(Oe)===!0?this.F=K(e,3):this.F=Z(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(Oe){if(isNaN(Oe))throw new Error('Invalid value "'+Oe+'" for attribute Ff supplied.');r=Oe}});var _e=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(_e.length!==0)return _e},set:function(Oe){_e=Oe!==void 0?Oe:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[0])?0:_e[0]},set:function(Oe){_e[0]=Oe}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[1])?0:_e[1]},set:function(Oe){_e[1]=Oe}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[2])?0:_e[2]},set:function(Oe){_e[2]=Oe}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[3])?0:_e[3]},set:function(Oe){_e[3]=Oe}});var Ce="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Ce},set:function(Oe){switch(Oe){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Ce=Oe;break;default:throw new Error('Invalid value "'+Oe+'" for attribute FT supplied.')}}});var Ee=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Ee||Ee.length<1){if(this instanceof yt)return;Ee="FieldObject"+t.FieldNum++}var Oe=function(De){return De};return this.scope&&(Oe=this.scope.internal.getEncryptor(this.objId)),"("+R(Oe(Ee))+")"},set:function(Oe){Ee=Oe.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Ee},set:function(Oe){Ee=Oe}});var Re="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(Oe){Re=Oe}});var Pe="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Pe},set:function(Oe){Pe=Oe}});var St=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return St},set:function(Oe){St=Oe}});var Te=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Te===void 0?50/D:Te},set:function(Oe){Te=Oe}});var ke="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return ke},set:function(Oe){ke=Oe}});var Ae="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Ae||this instanceof yt||this instanceof Nt))return st(Ae,this.objId,this.scope)},set:function(Oe){Oe=Oe.toString(),Ae=Oe}});var xe=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(xe)return this instanceof mt?xe:st(xe,this.objId,this.scope)},set:function(Oe){Oe=Oe.toString(),xe=this instanceof mt?Oe:Oe.substr(0,1)==="("?T(Oe.substr(1,Oe.length-2)):T(Oe)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(xe.substr(1,xe.length-1)):xe},set:function(Oe){Oe=Oe.toString(),xe=this instanceof mt?"/"+Oe:Oe}});var Se=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Se)return Se},set:function(Oe){this.V=Oe}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Se)return this instanceof mt?Se:st(Se,this.objId,this.scope)},set:function(Oe){Oe=Oe.toString(),Se=this instanceof mt?Oe:Oe.substr(0,1)==="("?T(Oe.substr(1,Oe.length-2)):T(Oe)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(Se.substr(1,Se.length-1)):Se},set:function(Oe){Oe=Oe.toString(),Se=this instanceof mt?"/"+Oe:Oe}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Fe,Ie=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Ie},set:function(Oe){Oe=Boolean(Oe),Ie=Oe}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Fe)return Fe},set:function(Oe){Fe=Oe}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,1))},set:function(Oe){Boolean(Oe)===!0?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,2))},set:function(Oe){Boolean(Oe)===!0?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,3))},set:function(Oe){Boolean(Oe)===!0?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var Me=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Me!==null)return Me},set:function(Oe){if([0,1,2].indexOf(Oe)===-1)throw new Error('Invalid value "'+Oe+'" for attribute Q supplied.');Me=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){var Oe;switch(Me){case 0:default:Oe="left";break;case 1:Oe="center";break;case 2:Oe="right"}return Oe},configurable:!0,enumerable:!0,set:function(Oe){switch(Oe){case"right":case 2:Me=2;break;case"center":case 1:Me=1;break;case"left":case 0:default:Me=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(e,this.objId,this.scope)},set:function(r){var _e,Ce;Ce=[],typeof(_e=r)=="string"&&(Ce=function(Ee,Re,Pe){Pe||(Pe=1);for(var St,Te=[];St=Re.exec(Ee);)Te.push(St[Pe]);return Te}(_e,/\((.*?)\)/g)),e=Ce}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,_e){for(_e=_e||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),_e!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,18))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,19))},set:function(r){this.combo===!0&&(Boolean(r)===!0?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,20))},set:function(r){Boolean(r)===!0?(this.Ff=K(this.Ff,20),e.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,22))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,27))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,15))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,16))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,17))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(Ee){return Ee};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var _e,Ce=[];for(_e in Ce.push("<<"),e)Ce.push("/"+_e+" ("+R(r(e[_e]))+")");return Ce.push(">>"),Ce.join(`
`)}},set:function(r){_typeof(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};H(bt,mt);var yt=function(){var t,e;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(Ce){t=Ce}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(Ce){e=Ce}});var r,_e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Ce=function(Pe){return Pe};this.scope&&(Ce=this.scope.internal.getEncryptor(this.objId));var Ee,Re=[];for(Ee in Re.push("<<"),_e)Re.push("/"+Ee+" ("+R(Ce(_e[Ee]))+")");return Re.push(">>"),Re.join(`
`)},set:function(Ce){_typeof(Ce)==="object"&&(_e=Ce)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _e.CA||""},set:function(Ce){typeof Ce=="string"&&(_e.CA=Ce)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(Ce){r=Ce}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(Ce){r="/"+Ce}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},bt.prototype.createOption=function(t){var e=new yt;return e.Parent=this,e.optionName=t,this.Kids.push(e),xt.call(this.scope,e),e};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,13))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,21))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,24))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,25))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,14))},set:function(t){Boolean(t)===!0?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=V(t);e.scope=t.scope;var r=[],_e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,Ce=t.scope.__private__.encodeColorString(t.color),Ee=tt(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+U(At.internal.getWidth(t))+" "+U(At.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+_e+" "+U(Ee.fontSize)+" Tf "+Ce),r.push("BT"),r.push(Ee.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=V(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,_e=t.scope.__private__.encodeColorString(t.color),Ce=[],Ee=At.internal.getHeight(t),Re=At.internal.getWidth(t),Pe=tt(t,t.caption);return Ce.push("1 g"),Ce.push("0 0 "+U(Re)+" "+U(Ee)+" re"),Ce.push("f"),Ce.push("q"),Ce.push("0 0 1 rg"),Ce.push("0 0 "+U(Re-1)+" "+U(Ee-1)+" re"),Ce.push("W"),Ce.push("n"),Ce.push("0 g"),Ce.push("BT"),Ce.push("/"+r+" "+U(Pe.fontSize)+" Tf "+_e),Ce.push(Pe.text),Ce.push("ET"),Ce.push("Q"),e.stream=Ce.join(`
`),e},OffPushDown:function(t){var e=V(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+U(At.internal.getWidth(t))+" "+U(At.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=At.RadioButton.Circle.YesNormal,e.D[t]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=V(t);e.scope=t.scope;var r=[],_e=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;_e=Number((.9*_e).toFixed(5));var Ce=At.internal.Bezier_C,Ee=Number((_e*Ce).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),r.push(_e+" 0 m"),r.push(_e+" "+Ee+" "+Ee+" "+_e+" 0 "+_e+" c"),r.push("-"+Ee+" "+_e+" -"+_e+" "+Ee+" -"+_e+" 0 c"),r.push("-"+_e+" -"+Ee+" -"+Ee+" -"+_e+" 0 -"+_e+" c"),r.push(Ee+" -"+_e+" "+_e+" -"+Ee+" "+_e+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=V(t);e.scope=t.scope;var r=[],_e=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;_e=Number((.9*_e).toFixed(5));var Ce=Number((2*_e).toFixed(5)),Ee=Number((Ce*At.internal.Bezier_C).toFixed(5)),Re=Number((_e*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),r.push(Ce+" 0 m"),r.push(Ce+" "+Ee+" "+Ee+" "+Ce+" 0 "+Ce+" c"),r.push("-"+Ee+" "+Ce+" -"+Ce+" "+Ee+" -"+Ce+" 0 c"),r.push("-"+Ce+" -"+Ee+" -"+Ee+" -"+Ce+" 0 -"+Ce+" c"),r.push(Ee+" -"+Ce+" "+Ce+" -"+Ee+" "+Ce+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),r.push(_e+" 0 m"),r.push(_e+" "+Re+" "+Re+" "+_e+" 0 "+_e+" c"),r.push("-"+Re+" "+_e+" -"+_e+" "+Re+" -"+_e+" 0 c"),r.push("-"+_e+" -"+Re+" -"+Re+" -"+_e+" 0 -"+_e+" c"),r.push(Re+" -"+_e+" "+_e+" -"+Re+" "+_e+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=V(t);e.scope=t.scope;var r=[],_e=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;_e=Number((.9*_e).toFixed(5));var Ce=Number((2*_e).toFixed(5)),Ee=Number((Ce*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),r.push(Ce+" 0 m"),r.push(Ce+" "+Ee+" "+Ee+" "+Ce+" 0 "+Ce+" c"),r.push("-"+Ee+" "+Ce+" -"+Ce+" "+Ee+" -"+Ce+" 0 c"),r.push("-"+Ce+" -"+Ee+" -"+Ee+" -"+Ce+" 0 -"+Ce+" c"),r.push(Ee+" -"+Ce+" "+Ce+" -"+Ee+" "+Ce+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=At.RadioButton.Cross.YesNormal,e.D[t]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=V(t);e.scope=t.scope;var r=[],_e=At.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+U(At.internal.getWidth(t)-2)+" "+U(At.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(U(_e.x1.x)+" "+U(_e.x1.y)+" m"),r.push(U(_e.x2.x)+" "+U(_e.x2.y)+" l"),r.push(U(_e.x4.x)+" "+U(_e.x4.y)+" m"),r.push(U(_e.x3.x)+" "+U(_e.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=V(t);e.scope=t.scope;var r=At.internal.calculateCross(t),_e=[];return _e.push("0.749023 g"),_e.push("0 0 "+U(At.internal.getWidth(t))+" "+U(At.internal.getHeight(t))+" re"),_e.push("f"),_e.push("q"),_e.push("1 1 "+U(At.internal.getWidth(t)-2)+" "+U(At.internal.getHeight(t)-2)+" re"),_e.push("W"),_e.push("n"),_e.push(U(r.x1.x)+" "+U(r.x1.y)+" m"),_e.push(U(r.x2.x)+" "+U(r.x2.y)+" l"),_e.push(U(r.x4.x)+" "+U(r.x4.y)+" m"),_e.push(U(r.x3.x)+" "+U(r.x3.y)+" l"),_e.push("s"),_e.push("Q"),e.stream=_e.join(`
`),e},OffPushDown:function(t){var e=V(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+U(At.internal.getWidth(t))+" "+U(At.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};At.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=At.internal.getWidth(t),r=At.internal.getHeight(t),_e=Math.min(e,r);return{x1:{x:(e-_e)/2,y:(r-_e)/2+_e},x2:{x:(e-_e)/2+_e,y:(r-_e)/2},x3:{x:(e-_e)/2,y:(r-_e)/2},x4:{x:(e-_e)/2+_e,y:(r-_e)/2+_e}}}},At.internal.getWidth=function(t){var e=0;return _typeof(t)==="object"&&(e=W(t.Rect[2])),e},At.internal.getHeight=function(t){var e=0;return _typeof(t)==="object"&&(e=W(t.Rect[3])),e};var xt=q.addField=function(t){if(at(this,t),!(t instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};E.AcroForm;function _t(t){return t.reduce(function(e,r,_e){return e[r]=_e,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},_e=t.__addimage__.getImageFileTypeByImageData=function(rr,er){var vr,gr,br,sr,nr,Je=e;if((er=er||e)==="RGBA"||rr.data!==void 0&&rr.data instanceof Uint8ClampedArray&&"height"in rr&&"width"in rr)return"RGBA";if(Ge(rr))for(nr in r)for(br=r[nr],vr=0;vr<br.length;vr+=1){for(sr=!0,gr=0;gr<br[vr].length;gr+=1)if(br[vr][gr]!==void 0&&br[vr][gr]!==rr[gr]){sr=!1;break}if(sr===!0){Je=nr;break}}else for(nr in r)for(br=r[nr],vr=0;vr<br.length;vr+=1){for(sr=!0,gr=0;gr<br[vr].length;gr+=1)if(br[vr][gr]!==void 0&&br[vr][gr]!==rr.charCodeAt(gr)){sr=!1;break}if(sr===!0){Je=nr;break}}return Je===e&&er!==e&&(Je=er),Je},Ce=function rr(er){for(var vr=this.internal.write,gr=this.internal.putStream,br=(0,this.internal.getFilters)();br.indexOf("FlateEncode")!==-1;)br.splice(br.indexOf("FlateEncode"),1);er.objectId=this.internal.newObject();var sr=[];if(sr.push({key:"Type",value:"/XObject"}),sr.push({key:"Subtype",value:"/Image"}),sr.push({key:"Width",value:er.width}),sr.push({key:"Height",value:er.height}),er.colorSpace===Me.INDEXED?sr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(er.palette.length/3-1)+" "+("sMask"in er&&er.sMask!==void 0?er.objectId+2:er.objectId+1)+" 0 R]"}):(sr.push({key:"ColorSpace",value:"/"+er.colorSpace}),er.colorSpace===Me.DEVICE_CMYK&&sr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),sr.push({key:"BitsPerComponent",value:er.bitsPerComponent}),"decodeParameters"in er&&er.decodeParameters!==void 0&&sr.push({key:"DecodeParms",value:"<<"+er.decodeParameters+">>"}),"transparency"in er&&Array.isArray(er.transparency)){for(var nr="",Je=0,$e=er.transparency.length;Je<$e;Je++)nr+=er.transparency[Je]+" "+er.transparency[Je]+" ";sr.push({key:"Mask",value:"["+nr+"]"})}er.sMask!==void 0&&sr.push({key:"SMask",value:er.objectId+1+" 0 R"});var tr=er.filter!==void 0?["/"+er.filter]:void 0;if(gr({data:er.data,additionalKeyValues:sr,alreadyAppliedFilters:tr,objectId:er.objectId}),vr("endobj"),"sMask"in er&&er.sMask!==void 0){var ir="/Predictor "+er.predictor+" /Colors 1 /BitsPerComponent "+er.bitsPerComponent+" /Columns "+er.width,Xe={width:er.width,height:er.height,colorSpace:"DeviceGray",bitsPerComponent:er.bitsPerComponent,decodeParameters:ir,data:er.sMask};"filter"in er&&(Xe.filter=er.filter),rr.call(this,Xe)}if(er.colorSpace===Me.INDEXED){var cr=this.internal.newObject();gr({data:Ue(new Uint8Array(er.palette)),objectId:cr}),vr("endobj")}},Ee=function(){var rr=this.internal.collections.addImage_images;for(var er in rr)Ce.call(this,rr[er])},Re=function(){var rr,er=this.internal.collections.addImage_images,vr=this.internal.write;for(var gr in er)vr("/I"+(rr=er[gr]).index,rr.objectId,"0","R")},Pe=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Ee),this.internal.events.subscribe("putXobjectDict",Re))},St=function(){var rr=this.internal.collections.addImage_images;return Pe.call(this),rr},Te=function(){return Object.keys(this.internal.collections.addImage_images).length},ke=function(rr){return typeof t["process"+rr.toUpperCase()]=="function"},Ae=function(rr){return _typeof(rr)==="object"&&rr.nodeType===1},xe=function(rr,er){if(rr.nodeName==="IMG"&&rr.hasAttribute("src")){var vr=""+rr.getAttribute("src");if(vr.indexOf("data:image/")===0)return u(unescape(vr).split("base64,").pop());var gr=t.loadFile(vr,!0);if(gr!==void 0)return gr}if(rr.nodeName==="CANVAS"){if(rr.width===0||rr.height===0)throw new Error("Given canvas must have data. Canvas width: "+rr.width+", height: "+rr.height);var br;switch(er){case"PNG":br="image/png";break;case"WEBP":br="image/webp";break;case"JPEG":case"JPG":default:br="image/jpeg"}return u(rr.toDataURL(br,1).split("base64,").pop())}},Se=function(rr){var er=this.internal.collections.addImage_images;if(er){for(var vr in er)if(rr===er[vr].alias)return er[vr]}},Fe=function(rr,er,vr){return rr||er||(rr=-96,er=-96),rr<0&&(rr=-1*vr.width*72/rr/this.internal.scaleFactor),er<0&&(er=-1*vr.height*72/er/this.internal.scaleFactor),rr===0&&(rr=er*vr.width/vr.height),er===0&&(er=rr*vr.height/vr.width),[rr,er]},Ie=function(rr,er,vr,gr,br,sr){var nr=Fe.call(this,vr,gr,br),Je=this.internal.getCoordinateString,$e=this.internal.getVerticalCoordinateString,tr=St.call(this);if(vr=nr[0],gr=nr[1],tr[br.index]=br,sr){sr*=Math.PI/180;var ir=Math.cos(sr),Xe=Math.sin(sr),cr=function(Ke){return Ke.toFixed(4)},Qe=[cr(ir),cr(Xe),cr(-1*Xe),cr(ir),0,0,"cm"]}this.internal.write("q"),sr?(this.internal.write([1,"0","0",1,Je(rr),$e(er+gr),"cm"].join(" ")),this.internal.write(Qe.join(" ")),this.internal.write([Je(vr),"0","0",Je(gr),"0","0","cm"].join(" "))):this.internal.write([Je(vr),"0","0",Je(gr),Je(rr),$e(er+gr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+br.index+" Do"),this.internal.write("Q")},Me=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Oe=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},De=t.__addimage__.sHashCode=function(rr){var er,vr,gr=0;if(typeof rr=="string")for(vr=rr.length,er=0;er<vr;er++)gr=(gr<<5)-gr+rr.charCodeAt(er),gr|=0;else if(Ge(rr))for(vr=rr.byteLength/2,er=0;er<vr;er++)gr=(gr<<5)-gr+rr[er],gr|=0;return gr},Be=t.__addimage__.validateStringAsBase64=function(rr){(rr=rr||"").toString().trim();var er=!0;return rr.length===0&&(er=!1),rr.length%4!=0&&(er=!1),/^[A-Za-z0-9+/]+$/.test(rr.substr(0,rr.length-2))===!1&&(er=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(rr.substr(-2))===!1&&(er=!1),er},je=t.__addimage__.extractImageFromDataUrl=function(rr){var er=(rr=rr||"").split("base64,"),vr=null;if(er.length===2){var gr=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(er[0]);Array.isArray(gr)&&(vr={mimeType:gr[1],charset:gr[2],data:er[1]})}return vr},ze=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(rr){return ze()&&rr instanceof ArrayBuffer};var Ge=t.__addimage__.isArrayBufferView=function(rr){return ze()&&typeof Uint32Array<"u"&&(rr instanceof Int8Array||rr instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&rr instanceof Uint8ClampedArray||rr instanceof Int16Array||rr instanceof Uint16Array||rr instanceof Int32Array||rr instanceof Uint32Array||rr instanceof Float32Array||rr instanceof Float64Array)},We=t.__addimage__.binaryStringToUint8Array=function(rr){for(var er=rr.length,vr=new Uint8Array(er),gr=0;gr<er;gr++)vr[gr]=rr.charCodeAt(gr);return vr},Ue=t.__addimage__.arrayBufferToBinaryString=function(rr){for(var er="",vr=Ge(rr)?rr:new Uint8Array(rr),gr=0;gr<vr.length;gr+=8192)er+=String.fromCharCode.apply(null,vr.subarray(gr,gr+8192));return er};t.addImage=function(){var rr,er,vr,gr,br,sr,nr,Je,$e;if(typeof arguments[1]=="number"?(er=e,vr=arguments[1],gr=arguments[2],br=arguments[3],sr=arguments[4],nr=arguments[5],Je=arguments[6],$e=arguments[7]):(er=arguments[1],vr=arguments[2],gr=arguments[3],br=arguments[4],sr=arguments[5],nr=arguments[6],Je=arguments[7],$e=arguments[8]),_typeof(rr=arguments[0])==="object"&&!Ae(rr)&&"imageData"in rr){var tr=rr;rr=tr.imageData,er=tr.format||er||e,vr=tr.x||vr||0,gr=tr.y||gr||0,br=tr.w||tr.width||br,sr=tr.h||tr.height||sr,nr=tr.alias||nr,Je=tr.compression||Je,$e=tr.rotation||tr.angle||$e}var ir=this.internal.getFilters();if(Je===void 0&&ir.indexOf("FlateEncode")!==-1&&(Je="SLOW"),isNaN(vr)||isNaN(gr))throw new Error("Invalid coordinates passed to jsPDF.addImage");Pe.call(this);var Xe=hr.call(this,rr,er,nr,Je);return Ie.call(this,vr,gr,br,sr,Xe,$e),this};var hr=function(rr,er,vr,gr){var br,sr,nr;if(typeof rr=="string"&&_e(rr)===e){rr=unescape(rr);var Je=xr(rr,!1);(Je!==""||(Je=t.loadFile(rr,!0))!==void 0)&&(rr=Je)}if(Ae(rr)&&(rr=xe(rr,er)),er=_e(rr,er),!ke(er))throw new Error("addImage does not support files of type '"+er+"', please ensure that a plugin for '"+er+"' support is added.");if(((nr=vr)==null||nr.length===0)&&(vr=function($e){return typeof $e=="string"||Ge($e)?De($e):Ge($e.data)?De($e.data):null}(rr)),(br=Se.call(this,vr))||(ze()&&(rr instanceof Uint8Array||er==="RGBA"||(sr=rr,rr=We(rr))),br=this["process"+er.toUpperCase()](rr,Te.call(this),vr,function($e){return $e&&typeof $e=="string"&&($e=$e.toUpperCase()),$e in t.image_compression?$e:Oe.NONE}(gr),sr)),!br)throw new Error("An unknown error occurred whilst processing the image.");return br},xr=t.__addimage__.convertBase64ToBinaryString=function(rr,er){var vr;er=typeof er!="boolean"||er;var gr,br="";if(typeof rr=="string"){gr=(vr=je(rr))!==null?vr.data:rr;try{br=u(gr)}catch(sr){if(er)throw Be(gr)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+sr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return br};t.getImageProperties=function(rr){var er,vr,gr="";if(Ae(rr)&&(rr=xe(rr)),typeof rr=="string"&&_e(rr)===e&&((gr=xr(rr,!1))===""&&(gr=t.loadFile(rr)||""),rr=gr),vr=_e(rr),!ke(vr))throw new Error("addImage does not support files of type '"+vr+"', please ensure that a plugin for '"+vr+"' support is added.");if(!ze()||rr instanceof Uint8Array||(rr=We(rr)),!(er=this["process"+vr.toUpperCase()](rr)))throw new Error("An unknown error occurred whilst processing the image");return er.fileType=vr,er}})(E.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};E.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var _e,Ce,Ee,Re=this.internal.getCoordinateString,Pe=this.internal.getVerticalCoordinateString,St=this.internal.getPageInfoByObjId(r.objId),Te=r.pageContext.annotations,ke=!1,Ae=0;Ae<Te.length&&!ke;Ae++)switch((_e=Te[Ae]).type){case"link":(e(_e.options.url)||e(_e.options.pageNumber))&&(ke=!0);break;case"reference":case"text":case"freetext":ke=!0}if(ke!=0){this.internal.write("/Annots [");for(var xe=0;xe<Te.length;xe++){_e=Te[xe];var Se=this.internal.pdfEscape,Fe=this.internal.getEncryptor(r.objId);switch(_e.type){case"reference":this.internal.write(" "+_e.object.objId+" 0 R ");break;case"text":var Ie=this.internal.newAdditionalObject(),Me=this.internal.newAdditionalObject(),Oe=this.internal.getEncryptor(Ie.objId),De=_e.title||"Note";Ee="<</Type /Annot /Subtype /Text "+(Ce="/Rect ["+Re(_e.bounds.x)+" "+Pe(_e.bounds.y+_e.bounds.h)+" "+Re(_e.bounds.x+_e.bounds.w)+" "+Pe(_e.bounds.y)+"] ")+"/Contents ("+Se(Oe(_e.contents))+")",Ee+=" /Popup "+Me.objId+" 0 R",Ee+=" /P "+St.objId+" 0 R",Ee+=" /T ("+Se(Oe(De))+") >>",Ie.content=Ee;var Be=Ie.objId+" 0 R";Ee="<</Type /Annot /Subtype /Popup "+(Ce="/Rect ["+Re(_e.bounds.x+30)+" "+Pe(_e.bounds.y+_e.bounds.h)+" "+Re(_e.bounds.x+_e.bounds.w+30)+" "+Pe(_e.bounds.y)+"] ")+" /Parent "+Be,_e.open&&(Ee+=" /Open true"),Ee+=" >>",Me.content=Ee,this.internal.write(Ie.objId,"0 R",Me.objId,"0 R");break;case"freetext":Ce="/Rect ["+Re(_e.bounds.x)+" "+Pe(_e.bounds.y)+" "+Re(_e.bounds.x+_e.bounds.w)+" "+Pe(_e.bounds.y+_e.bounds.h)+"] ";var je=_e.color||"#000000";Ee="<</Type /Annot /Subtype /FreeText "+Ce+"/Contents ("+Se(Fe(_e.contents))+")",Ee+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+je+")",Ee+=" /Border [0 0 0]",Ee+=" >>",this.internal.write(Ee);break;case"link":if(_e.options.name){var ze=this.annotations._nameMap[_e.options.name];_e.options.pageNumber=ze.page,_e.options.top=ze.y}else _e.options.top||(_e.options.top=0);if(Ce="/Rect ["+_e.finalBounds.x+" "+_e.finalBounds.y+" "+_e.finalBounds.w+" "+_e.finalBounds.h+"] ",Ee="",_e.options.url)Ee="<</Type /Annot /Subtype /Link "+Ce+"/Border [0 0 0] /A <</S /URI /URI ("+Se(Fe(_e.options.url))+") >>";else if(_e.options.pageNumber)switch(Ee="<</Type /Annot /Subtype /Link "+Ce+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(_e.options.pageNumber).objId+" 0 R",_e.options.magFactor=_e.options.magFactor||"XYZ",_e.options.magFactor){case"Fit":Ee+=" /Fit]";break;case"FitH":Ee+=" /FitH "+_e.options.top+"]";break;case"FitV":_e.options.left=_e.options.left||0,Ee+=" /FitV "+_e.options.left+"]";break;case"XYZ":default:var Ge=Pe(_e.options.top);_e.options.left=_e.options.left||0,_e.options.zoom===void 0&&(_e.options.zoom=0),Ee+=" /XYZ "+_e.options.left+" "+Ge+" "+_e.options.zoom+"]"}Ee!=""&&(Ee+=" >>",this.internal.write(Ee))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var _e=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":_e.pageContext.annotations.push(r)}},t.link=function(r,_e,Ce,Ee,Re){var Pe=this.internal.getCurrentPageInfo(),St=this.internal.getCoordinateString,Te=this.internal.getVerticalCoordinateString;Pe.pageContext.annotations.push({finalBounds:{x:St(r),y:Te(_e),w:St(r+Ce),h:Te(_e+Ee)},options:Re,type:"link"})},t.textWithLink=function(r,_e,Ce,Ee){var Re,Pe,St=this.getTextWidth(r),Te=this.internal.getLineHeight()/this.internal.scaleFactor;if(Ee.maxWidth!==void 0){Pe=Ee.maxWidth;var ke=this.splitTextToSize(r,Pe).length;Re=Math.ceil(Te*ke)}else Pe=St,Re=Te;return this.text(r,_e,Ce,Ee),Ce+=.2*Te,Ee.align==="center"&&(_e-=St/2),Ee.align==="right"&&(_e-=St),this.link(_e,Ce-Te,Pe,Re,Ee),St},t.getTextWidth=function(r){var _e=this.internal.getFontSize();return this.getStringUnitWidth(r)*_e/this.internal.scaleFactor}}(E.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},_e={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Ce=[1570,1571,1573,1575];t.__arabicParser__={};var Ee=t.__arabicParser__.isInArabicSubstitutionA=function(Ie){return e[Ie.charCodeAt(0)]!==void 0},Re=t.__arabicParser__.isArabicLetter=function(Ie){return typeof Ie=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Ie)},Pe=t.__arabicParser__.isArabicEndLetter=function(Ie){return Re(Ie)&&Ee(Ie)&&e[Ie.charCodeAt(0)].length<=2},St=t.__arabicParser__.isArabicAlfLetter=function(Ie){return Re(Ie)&&Ce.indexOf(Ie.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(Ie){return Re(Ie)&&Ee(Ie)&&e[Ie.charCodeAt(0)].length>=1};var Te=t.__arabicParser__.arabicLetterHasFinalForm=function(Ie){return Re(Ie)&&Ee(Ie)&&e[Ie.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(Ie){return Re(Ie)&&Ee(Ie)&&e[Ie.charCodeAt(0)].length>=3};var ke=t.__arabicParser__.arabicLetterHasMedialForm=function(Ie){return Re(Ie)&&Ee(Ie)&&e[Ie.charCodeAt(0)].length==4},Ae=t.__arabicParser__.resolveLigatures=function(Ie){var Me=0,Oe=r,De="",Be=0;for(Me=0;Me<Ie.length;Me+=1)Oe[Ie.charCodeAt(Me)]!==void 0?(Be++,typeof(Oe=Oe[Ie.charCodeAt(Me)])=="number"&&(De+=String.fromCharCode(Oe),Oe=r,Be=0),Me===Ie.length-1&&(Oe=r,De+=Ie.charAt(Me-(Be-1)),Me-=Be-1,Be=0)):(Oe=r,De+=Ie.charAt(Me-Be),Me-=Be,Be=0);return De};t.__arabicParser__.isArabicDiacritic=function(Ie){return Ie!==void 0&&_e[Ie.charCodeAt(0)]!==void 0};var xe=t.__arabicParser__.getCorrectForm=function(Ie,Me,Oe){return Re(Ie)?Ee(Ie)===!1?-1:!Te(Ie)||!Re(Me)&&!Re(Oe)||!Re(Oe)&&Pe(Me)||Pe(Ie)&&!Re(Me)||Pe(Ie)&&St(Me)||Pe(Ie)&&Pe(Me)?0:ke(Ie)&&Re(Me)&&!Pe(Me)&&Re(Oe)&&Te(Oe)?3:Pe(Ie)||!Re(Oe)?1:2:-1},Se=function(Ie){var Me=0,Oe=0,De=0,Be="",je="",ze="",Ge=(Ie=Ie||"").split("\\s+"),We=[];for(Me=0;Me<Ge.length;Me+=1){for(We.push(""),Oe=0;Oe<Ge[Me].length;Oe+=1)Be=Ge[Me][Oe],je=Ge[Me][Oe-1],ze=Ge[Me][Oe+1],Re(Be)?(De=xe(Be,je,ze),We[Me]+=De!==-1?String.fromCharCode(e[Be.charCodeAt(0)][De]):Be):We[Me]+=Be;We[Me]=Ae(We[Me])}return We.join(" ")},Fe=t.__arabicParser__.processArabic=t.processArabic=function(){var Ie,Me=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Oe=[];if(Array.isArray(Me)){var De=0;for(Oe=[],De=0;De<Me.length;De+=1)Array.isArray(Me[De])?Oe.push([Se(Me[De][0]),Me[De][1],Me[De][2]]):Oe.push([Se(Me[De])]);Ie=Oe}else Ie=Se(Me);return typeof arguments[0]=="string"?Ie:(arguments[0].text=Ie,arguments[0])};t.events.push(["preProcessText",Fe])}(E.API),E.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(Pe){r=Pe}});var _e=150;Object.defineProperty(this,"width",{get:function(){return _e},set:function(Pe){_e=isNaN(Pe)||Number.isInteger(Pe)===!1||Pe<0?150:Pe,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=_e+1)}});var Ce=300;Object.defineProperty(this,"height",{get:function(){return Ce},set:function(Pe){Ce=isNaN(Pe)||Number.isInteger(Pe)===!1||Pe<0?300:Pe,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Ce+1)}});var Ee=[];Object.defineProperty(this,"childNodes",{get:function(){return Ee},set:function(Pe){Ee=Pe}});var Re={};Object.defineProperty(this,"style",{get:function(){return Re},set:function(Pe){Re=Pe}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,_e){var Ce;if((r=r||"2d")!=="2d")return null;for(Ce in _e)this.pdf.context2d.hasOwnProperty(Ce)&&(this.pdf.context2d[Ce]=_e[Ce]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(E.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,_e=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),Ce.call(this))},Ce=function(){this.internal.__cell__.lastCell=new Ee,this.internal.__cell__.pages=1},Ee=function(){var St=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return St},set:function(Ie){St=Ie}});var Te=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(Ie){Te=Ie}});var ke=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return ke},set:function(Ie){ke=Ie}});var Ae=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Ae},set:function(Ie){Ae=Ie}});var xe=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return xe},set:function(Ie){xe=Ie}});var Se=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Se},set:function(Ie){Se=Ie}});var Fe=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Fe},set:function(Ie){Fe=Ie}}),this};Ee.prototype.clone=function(){return new Ee(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Ee.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(St){return _e.call(this),this.internal.__cell__.headerFunction=typeof St=="function"?St:void 0,this},t.getTextDimensions=function(St,Te){_e.call(this);var ke=(Te=Te||{}).fontSize||this.getFontSize(),Ae=Te.font||this.getFont(),xe=Te.scaleFactor||this.internal.scaleFactor,Se=0,Fe=0,Ie=0,Me=this;if(!Array.isArray(St)&&typeof St!="string"){if(typeof St!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");St=String(St)}var Oe=Te.maxWidth;Oe>0?typeof St=="string"?St=this.splitTextToSize(St,Oe):Object.prototype.toString.call(St)==="[object Array]"&&(St=St.reduce(function(Be,je){return Be.concat(Me.splitTextToSize(je,Oe))},[])):St=Array.isArray(St)?St:[St];for(var De=0;De<St.length;De++)Se<(Ie=this.getStringUnitWidth(St[De],{font:Ae})*ke)&&(Se=Ie);return Se!==0&&(Fe=St.length),{w:Se/=xe,h:Math.max((Fe*ke*this.getLineHeightFactor()-ke*(this.getLineHeightFactor()-1))/xe,0)}},t.cellAddPage=function(){_e.call(this),this.addPage();var St=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new Ee(St.left,St.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Re=t.cell=function(){var St;St=arguments[0]instanceof Ee?arguments[0]:new Ee(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),_e.call(this);var Te=this.internal.__cell__.lastCell,ke=this.internal.__cell__.padding,Ae=this.internal.__cell__.margins||e,xe=this.internal.__cell__.tableHeaderRow,Se=this.internal.__cell__.printHeaders;return Te.lineNumber!==void 0&&(Te.lineNumber===St.lineNumber?(St.x=(Te.x||0)+(Te.width||0),St.y=Te.y||0):Te.y+Te.height+St.height+Ae.bottom>this.getPageHeight()?(this.cellAddPage(),St.y=Ae.top,Se&&xe&&(this.printHeaderRow(St.lineNumber,!0),St.y+=xe[0].height)):St.y=Te.y+Te.height||St.y),St.text[0]!==void 0&&(this.rect(St.x,St.y,St.width,St.height,r===!0?"FD":void 0),St.align==="right"?this.text(St.text,St.x+St.width-ke,St.y+ke,{align:"right",baseline:"top"}):St.align==="center"?this.text(St.text,St.x+St.width/2,St.y+ke,{align:"center",baseline:"top",maxWidth:St.width-ke-ke}):this.text(St.text,St.x+ke,St.y+ke,{align:"left",baseline:"top",maxWidth:St.width-ke-ke})),this.internal.__cell__.lastCell=St,this};t.table=function(St,Te,ke,Ae,xe){if(_e.call(this),!ke)throw new Error("No data for PDF table.");var Se,Fe,Ie,Me,Oe=[],De=[],Be=[],je={},ze={},Ge=[],We=[],Ue=(xe=xe||{}).autoSize||!1,hr=xe.printHeaders!==!1,xr=xe.css&&xe.css["font-size"]!==void 0?16*xe.css["font-size"]:xe.fontSize||12,rr=xe.margins||Object.assign({width:this.getPageWidth()},e),er=typeof xe.padding=="number"?xe.padding:3,vr=xe.headerBackgroundColor||"#c8c8c8",gr=xe.headerTextColor||"#000";if(Ce.call(this),this.internal.__cell__.printHeaders=hr,this.internal.__cell__.margins=rr,this.internal.__cell__.table_font_size=xr,this.internal.__cell__.padding=er,this.internal.__cell__.headerBackgroundColor=vr,this.internal.__cell__.headerTextColor=gr,this.setFontSize(xr),Ae==null)De=Oe=Object.keys(ke[0]),Be=Oe.map(function(){return"left"});else if(Array.isArray(Ae)&&_typeof(Ae[0])==="object")for(Oe=Ae.map(function(tr){return tr.name}),De=Ae.map(function(tr){return tr.prompt||tr.name||""}),Be=Ae.map(function(tr){return tr.align||"left"}),Se=0;Se<Ae.length;Se+=1)ze[Ae[Se].name]=Ae[Se].width*(19.049976/25.4);else Array.isArray(Ae)&&typeof Ae[0]=="string"&&(De=Oe=Ae,Be=Oe.map(function(){return"left"}));if(Ue||Array.isArray(Ae)&&typeof Ae[0]=="string")for(Se=0;Se<Oe.length;Se+=1){for(je[Me=Oe[Se]]=ke.map(function(tr){return tr[Me]}),this.setFont(void 0,"bold"),Ge.push(this.getTextDimensions(De[Se],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Fe=je[Me],this.setFont(void 0,"normal"),Ie=0;Ie<Fe.length;Ie+=1)Ge.push(this.getTextDimensions(Fe[Ie],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ze[Me]=Math.max.apply(null,Ge)+er+er,Ge=[]}if(hr){var br={};for(Se=0;Se<Oe.length;Se+=1)br[Oe[Se]]={},br[Oe[Se]].text=De[Se],br[Oe[Se]].align=Be[Se];var sr=Pe.call(this,br,ze);We=Oe.map(function(tr){return new Ee(St,Te,ze[tr],sr,br[tr].text,void 0,br[tr].align)}),this.setTableHeaderRow(We),this.printHeaderRow(1,!1)}var nr=Ae.reduce(function(tr,ir){return tr[ir.name]=ir.align,tr},{});for(Se=0;Se<ke.length;Se+=1){"rowStart"in xe&&xe.rowStart instanceof Function&&xe.rowStart({row:Se,data:ke[Se]},this);var Je=Pe.call(this,ke[Se],ze);for(Ie=0;Ie<Oe.length;Ie+=1){var $e=ke[Se][Oe[Ie]];"cellStart"in xe&&xe.cellStart instanceof Function&&xe.cellStart({row:Se,col:Ie,data:$e},this),Re.call(this,new Ee(St,Te,ze[Oe[Ie]],Je,$e,Se+2,nr[Oe[Ie]]))}}return this.internal.__cell__.table_x=St,this.internal.__cell__.table_y=Te,this};var Pe=function(St,Te){var ke=this.internal.__cell__.padding,Ae=this.internal.__cell__.table_font_size,xe=this.internal.scaleFactor;return Object.keys(St).map(function(Se){var Fe=St[Se];return this.splitTextToSize(Fe.hasOwnProperty("text")?Fe.text:Fe,Te[Se]-ke-ke)},this).map(function(Se){return this.getLineHeightFactor()*Se.length*Ae/xe+ke+ke},this).reduce(function(Se,Fe){return Math.max(Se,Fe)},0)};t.setTableHeaderRow=function(St){_e.call(this),this.internal.__cell__.tableHeaderRow=St},t.printHeaderRow=function(St,Te){if(_e.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var ke;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var Ae=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Ee(Ae[0],Ae[1],Ae[2],Ae[3],void 0,-1)}this.setFont(void 0,"bold");for(var xe=[],Se=0;Se<this.internal.__cell__.tableHeaderRow.length;Se+=1){ke=this.internal.__cell__.tableHeaderRow[Se].clone(),Te&&(ke.y=this.internal.__cell__.margins.top||0,xe.push(ke)),ke.lineNumber=St;var Fe=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Re.call(this,ke),this.setTextColor(Fe)}xe.length>0&&this.setTableHeaderRow(xe),this.setFont(void 0,"normal"),r=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(Ee){return Pt[Ee=Ee||"normal"]?Ee:"normal"}(t.style),_e=function(Ee){if(!Ee)return 400;if(typeof Ee=="number")return Ee>=100&&Ee<=900&&Ee%100==0?Ee:400;if(/^\d00$/.test(Ee))return parseInt(Ee);switch(Ee){case"bold":return 700;case"normal":default:return 400}}(t.weight),Ce=function(Ee){return typeof It[Ee=Ee||"normal"]=="number"?Ee:"normal"}(t.stretch);return{family:e,style:r,weight:_e,stretch:Ce,src:t.src||[],ref:t.ref||{name:e,style:[Ce,r,_e].join(" ")}}}function Ot(t,e,r,_e){var Ce;for(Ce=r;Ce>=0&&Ce<e.length;Ce+=_e)if(t[e[Ce]])return t[e[Ce]];for(Ce=r;Ce>=0&&Ce<e.length;Ce-=_e)if(t[e[Ce]])return t[e[Ce]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function qt(t,e,r){for(var _e=(r=r||{}).defaultFontFamily||"times",Ce=Object.assign({},Bt,r.genericFontFamilies||{}),Ee=null,Re=null,Pe=0;Pe<e.length;++Pe)if(Ce[(Ee=jt(e[Pe])).family]&&(Ee.family=Ce[Ee.family]),t.hasOwnProperty(Ee.family)){Re=t[Ee.family];break}if(!(Re=Re||t[_e]))throw new Error("Could not find a font-family for the rule '"+Et(Ee)+"' and default family '"+_e+"'.");if(Re=function(St,Te){if(Te[St])return Te[St];var ke=It[St],Ae=ke<=It.normal?-1:1,xe=Ot(Te,kt,ke,Ae);if(!xe)throw new Error("Could not find a matching font-stretch value for "+St);return xe}(Ee.stretch,Re),Re=function(St,Te){if(Te[St])return Te[St];for(var ke=Pt[St],Ae=0;Ae<ke.length;++Ae)if(Te[ke[Ae]])return Te[ke[Ae]];throw new Error("Could not find a matching font-style for "+St)}(Ee.style,Re),!(Re=function(St,Te){if(Te[St])return Te[St];if(St===400&&Te[500])return Te[500];if(St===500&&Te[400])return Te[400];var ke=Ct[St],Ae=Ot(Te,Ft,ke,St<400?-1:1);if(!Ae)throw new Error("Could not find a matching font-weight for value "+St);return Ae}(Ee.weight,Re)))throw new Error("Failed to resolve a font for the rule '"+Et(Ee)+"'.");return Re}function Dt(t){return t.trimLeft()}function Rt(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Tt(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(t){var e,r,_e,Ce,Ee,Re,Pe,St,Te,ke=function(Xe){return Xe=Xe||{},this.isStrokeTransparent=Xe.isStrokeTransparent||!1,this.strokeOpacity=Xe.strokeOpacity||1,this.strokeStyle=Xe.strokeStyle||"#000000",this.fillStyle=Xe.fillStyle||"#000000",this.isFillTransparent=Xe.isFillTransparent||!1,this.fillOpacity=Xe.fillOpacity||1,this.font=Xe.font||"10px sans-serif",this.textBaseline=Xe.textBaseline||"alphabetic",this.textAlign=Xe.textAlign||"left",this.lineWidth=Xe.lineWidth||1,this.lineJoin=Xe.lineJoin||"miter",this.lineCap=Xe.lineCap||"butt",this.path=Xe.path||[],this.transform=Xe.transform!==void 0?Xe.transform.clone():new St,this.globalCompositeOperation=Xe.globalCompositeOperation||"normal",this.globalAlpha=Xe.globalAlpha||1,this.clip_path=Xe.clip_path||[],this.currentPoint=Xe.currentPoint||new Re,this.miterLimit=Xe.miterLimit||10,this.lastPoint=Xe.lastPoint||new Re,this.lineDashOffset=Xe.lineDashOffset||0,this.lineDash=Xe.lineDash||[],this.margin=Xe.margin||[0,0,0,0],this.prevPageLastElemOffset=Xe.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Xe.ignoreClearRect!="boolean"||Xe.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new Ae(this),e=this.internal.f2,r=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Ce=this.internal.getHorizontalCoordinate,Ee=this.internal.getVerticalCoordinate,Re=this.internal.Point,Pe=this.internal.Rectangle,St=this.internal.Matrix,Te=new ke}]);var Ae=function(Xe){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var cr=Xe;Object.defineProperty(this,"pdf",{get:function(){return cr}});var Qe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Qe},set:function(wr){Qe=Boolean(wr)}});var Ke=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ke},set:function(wr){Ke=Boolean(wr)}});var lr=0;Object.defineProperty(this,"posX",{get:function(){return lr},set:function(wr){isNaN(wr)||(lr=wr)}});var mr=0;Object.defineProperty(this,"posY",{get:function(){return mr},set:function(wr){isNaN(wr)||(mr=wr)}}),Object.defineProperty(this,"margin",{get:function(){return Te.margin},set:function(wr){var or;typeof wr=="number"?or=[wr,wr,wr,wr]:((or=new Array(4))[0]=wr[0],or[1]=wr.length>=2?wr[1]:or[0],or[2]=wr.length>=3?wr[2]:or[0],or[3]=wr.length>=4?wr[3]:or[1]),Te.margin=or}});var Ar=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ar},set:function(wr){Ar=wr}});var Pr=0;Object.defineProperty(this,"lastBreak",{get:function(){return Pr},set:function(wr){Pr=wr}});var Rr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Rr},set:function(wr){Rr=wr}}),Object.defineProperty(this,"ctx",{get:function(){return Te},set:function(wr){wr instanceof ke&&(Te=wr)}}),Object.defineProperty(this,"path",{get:function(){return Te.path},set:function(wr){Te.path=wr}});var Ir=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ir},set:function(wr){Ir=wr}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(wr){var or;or=xe(wr),this.ctx.fillStyle=or.style,this.ctx.isFillTransparent=or.a===0,this.ctx.fillOpacity=or.a,this.pdf.setFillColor(or.r,or.g,or.b,{a:or.a}),this.pdf.setTextColor(or.r,or.g,or.b,{a:or.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(wr){var or=xe(wr);this.ctx.strokeStyle=or.style,this.ctx.isStrokeTransparent=or.a===0,this.ctx.strokeOpacity=or.a,or.a===0?this.pdf.setDrawColor(255,255,255):(or.a,this.pdf.setDrawColor(or.r,or.g,or.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(wr){["butt","round","square"].indexOf(wr)!==-1&&(this.ctx.lineCap=wr,this.pdf.setLineCap(wr))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(wr){isNaN(wr)||(this.ctx.lineWidth=wr,this.pdf.setLineWidth(wr))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(wr){["bevel","round","miter"].indexOf(wr)!==-1&&(this.ctx.lineJoin=wr,this.pdf.setLineJoin(wr))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(wr){isNaN(wr)||(this.ctx.miterLimit=wr,this.pdf.setMiterLimit(wr))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(wr){this.ctx.textBaseline=wr}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(wr){["right","end","center","left","start"].indexOf(wr)!==-1&&(this.ctx.textAlign=wr)}});var ur=null;function ar(wr,or){if(ur===null){var kr=function(Or){var Lr=[];return Object.keys(Or).forEach(function(Dr){Or[Dr].forEach(function(Nr){var Mr=null;switch(Nr){case"bold":Mr={family:Dr,weight:"bold"};break;case"italic":Mr={family:Dr,style:"italic"};break;case"bolditalic":Mr={family:Dr,weight:"bold",style:"italic"};break;case"":case"normal":Mr={family:Dr}}Mr!==null&&(Mr.ref={name:Dr,style:Nr},Lr.push(Mr))})}),Lr}(wr.getFontList());ur=function(Or){for(var Lr={},Dr=0;Dr<Or.length;++Dr){var Nr=jt(Or[Dr]),Mr=Nr.family,Gr=Nr.stretch,Yr=Nr.style,$r=Nr.weight;Lr[Mr]=Lr[Mr]||{},Lr[Mr][Gr]=Lr[Mr][Gr]||{},Lr[Mr][Gr][Yr]=Lr[Mr][Gr][Yr]||{},Lr[Mr][Gr][Yr][$r]=Nr}return Lr}(kr.concat(or))}return ur}var Sr=null;Object.defineProperty(this,"fontFaces",{get:function(){return Sr},set:function(wr){ur=null,Sr=wr}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(wr){var or;if(this.ctx.font=wr,(or=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(wr))!==null){var kr=or[1],Or=(or[2],or[3]),Lr=or[4],Dr=(or[5],or[6]),Nr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Lr)[2];Lr=Math.floor(Nr==="px"?parseFloat(Lr)*this.pdf.internal.scaleFactor:Nr==="em"?parseFloat(Lr)*this.pdf.getFontSize():parseFloat(Lr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Lr);var Mr=function(ni){var fi,si,Ti=[],wi=ni.trim();if(wi==="")return Wt;if(wi in Mt)return[Mt[wi]];for(;wi!=="";){switch(si=null,fi=(wi=Dt(wi)).charAt(0)){case'"':case"'":si=Rt(wi.substring(1),fi);break;default:si=Tt(wi)}if(si===null||(Ti.push(si[0]),(wi=Dt(si[1]))!==""&&wi.charAt(0)!==","))return Wt;wi=wi.replace(/^,/,"")}return Ti}(Dr);if(this.fontFaces){var Gr=qt(ar(this.pdf,this.fontFaces),Mr.map(function(ni){return{family:ni,stretch:"normal",weight:Or,style:kr}}));this.pdf.setFont(Gr.ref.name,Gr.ref.style)}else{var Yr="";(Or==="bold"||parseInt(Or,10)>=700||kr==="bold")&&(Yr="bold"),kr==="italic"&&(Yr+="italic"),Yr.length===0&&(Yr="normal");for(var $r="",ti={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ri=0;ri<Mr.length;ri++){if(this.pdf.internal.getFont(Mr[ri],Yr,{noFallback:!0,disableWarning:!0})!==void 0){$r=Mr[ri];break}if(Yr==="bolditalic"&&this.pdf.internal.getFont(Mr[ri],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$r=Mr[ri],Yr="bold";else if(this.pdf.internal.getFont(Mr[ri],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$r=Mr[ri],Yr="normal";break}}if($r===""){for(var oi=0;oi<Mr.length;oi++)if(ti[Mr[oi]]){$r=ti[Mr[oi]];break}}$r=$r===""?"Times":$r,this.pdf.setFont($r,Yr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(wr){this.ctx.globalCompositeOperation=wr}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(wr){this.ctx.globalAlpha=wr}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(wr){this.ctx.lineDashOffset=wr,ir.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(wr){this.ctx.lineDash=wr,ir.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(wr){this.ctx.ignoreClearRect=Boolean(wr)}})};Ae.prototype.setLineDash=function(Xe){this.lineDash=Xe},Ae.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Ae.prototype.fill=function(){je.call(this,"fill",!1)},Ae.prototype.stroke=function(){je.call(this,"stroke",!1)},Ae.prototype.beginPath=function(){this.path=[{type:"begin"}]},Ae.prototype.moveTo=function(Xe,cr){if(isNaN(Xe)||isNaN(cr))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Qe=this.ctx.transform.applyToPoint(new Re(Xe,cr));this.path.push({type:"mt",x:Qe.x,y:Qe.y}),this.ctx.lastPoint=new Re(Xe,cr)},Ae.prototype.closePath=function(){var Xe=new Re(0,0),cr=0;for(cr=this.path.length-1;cr!==-1;cr--)if(this.path[cr].type==="begin"&&_typeof(this.path[cr+1])==="object"&&typeof this.path[cr+1].x=="number"){Xe=new Re(this.path[cr+1].x,this.path[cr+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Re(Xe.x,Xe.y)},Ae.prototype.lineTo=function(Xe,cr){if(isNaN(Xe)||isNaN(cr))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Qe=this.ctx.transform.applyToPoint(new Re(Xe,cr));this.path.push({type:"lt",x:Qe.x,y:Qe.y}),this.ctx.lastPoint=new Re(Qe.x,Qe.y)},Ae.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),je.call(this,null,!0)},Ae.prototype.quadraticCurveTo=function(Xe,cr,Qe,Ke){if(isNaN(Qe)||isNaN(Ke)||isNaN(Xe)||isNaN(cr))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var lr=this.ctx.transform.applyToPoint(new Re(Qe,Ke)),mr=this.ctx.transform.applyToPoint(new Re(Xe,cr));this.path.push({type:"qct",x1:mr.x,y1:mr.y,x:lr.x,y:lr.y}),this.ctx.lastPoint=new Re(lr.x,lr.y)},Ae.prototype.bezierCurveTo=function(Xe,cr,Qe,Ke,lr,mr){if(isNaN(lr)||isNaN(mr)||isNaN(Xe)||isNaN(cr)||isNaN(Qe)||isNaN(Ke))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ar=this.ctx.transform.applyToPoint(new Re(lr,mr)),Pr=this.ctx.transform.applyToPoint(new Re(Xe,cr)),Rr=this.ctx.transform.applyToPoint(new Re(Qe,Ke));this.path.push({type:"bct",x1:Pr.x,y1:Pr.y,x2:Rr.x,y2:Rr.y,x:Ar.x,y:Ar.y}),this.ctx.lastPoint=new Re(Ar.x,Ar.y)},Ae.prototype.arc=function(Xe,cr,Qe,Ke,lr,mr){if(isNaN(Xe)||isNaN(cr)||isNaN(Qe)||isNaN(Ke)||isNaN(lr))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(mr=Boolean(mr),!this.ctx.transform.isIdentity){var Ar=this.ctx.transform.applyToPoint(new Re(Xe,cr));Xe=Ar.x,cr=Ar.y;var Pr=this.ctx.transform.applyToPoint(new Re(0,Qe)),Rr=this.ctx.transform.applyToPoint(new Re(0,0));Qe=Math.sqrt(Math.pow(Pr.x-Rr.x,2)+Math.pow(Pr.y-Rr.y,2))}Math.abs(lr-Ke)>=2*Math.PI&&(Ke=0,lr=2*Math.PI),this.path.push({type:"arc",x:Xe,y:cr,radius:Qe,startAngle:Ke,endAngle:lr,counterclockwise:mr})},Ae.prototype.arcTo=function(Xe,cr,Qe,Ke,lr){throw new Error("arcTo not implemented.")},Ae.prototype.rect=function(Xe,cr,Qe,Ke){if(isNaN(Xe)||isNaN(cr)||isNaN(Qe)||isNaN(Ke))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Xe,cr),this.lineTo(Xe+Qe,cr),this.lineTo(Xe+Qe,cr+Ke),this.lineTo(Xe,cr+Ke),this.lineTo(Xe,cr),this.lineTo(Xe+Qe,cr),this.lineTo(Xe,cr)},Ae.prototype.fillRect=function(Xe,cr,Qe,Ke){if(isNaN(Xe)||isNaN(cr)||isNaN(Qe)||isNaN(Ke))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Se.call(this)){var lr={};this.lineCap!=="butt"&&(lr.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(lr.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Xe,cr,Qe,Ke),this.fill(),lr.hasOwnProperty("lineCap")&&(this.lineCap=lr.lineCap),lr.hasOwnProperty("lineJoin")&&(this.lineJoin=lr.lineJoin)}},Ae.prototype.strokeRect=function(Xe,cr,Qe,Ke){if(isNaN(Xe)||isNaN(cr)||isNaN(Qe)||isNaN(Ke))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Fe.call(this)||(this.beginPath(),this.rect(Xe,cr,Qe,Ke),this.stroke())},Ae.prototype.clearRect=function(Xe,cr,Qe,Ke){if(isNaN(Xe)||isNaN(cr)||isNaN(Qe)||isNaN(Ke))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Xe,cr,Qe,Ke))},Ae.prototype.save=function(Xe){Xe=typeof Xe!="boolean"||Xe;for(var cr=this.pdf.internal.getCurrentPageInfo().pageNumber,Qe=0;Qe<this.pdf.internal.getNumberOfPages();Qe++)this.pdf.setPage(Qe+1),this.pdf.internal.out("q");if(this.pdf.setPage(cr),Xe){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ke=new ke(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ke}},Ae.prototype.restore=function(Xe){Xe=typeof Xe!="boolean"||Xe;for(var cr=this.pdf.internal.getCurrentPageInfo().pageNumber,Qe=0;Qe<this.pdf.internal.getNumberOfPages();Qe++)this.pdf.setPage(Qe+1),this.pdf.internal.out("Q");this.pdf.setPage(cr),Xe&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Ae.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var xe=function(Xe){var cr,Qe,Ke,lr;if(Xe.isCanvasGradient===!0&&(Xe=Xe.getColor()),!Xe)return{r:0,g:0,b:0,a:0,style:Xe};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Xe))cr=0,Qe=0,Ke=0,lr=0;else{var mr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Xe);if(mr!==null)cr=parseInt(mr[1]),Qe=parseInt(mr[2]),Ke=parseInt(mr[3]),lr=1;else if((mr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Xe))!==null)cr=parseInt(mr[1]),Qe=parseInt(mr[2]),Ke=parseInt(mr[3]),lr=parseFloat(mr[4]);else{if(lr=1,typeof Xe=="string"&&Xe.charAt(0)!=="#"){var Ar=new f(Xe);Xe=Ar.ok?Ar.toHex():"#000000"}Xe.length===4?(cr=Xe.substring(1,2),cr+=cr,Qe=Xe.substring(2,3),Qe+=Qe,Ke=Xe.substring(3,4),Ke+=Ke):(cr=Xe.substring(1,3),Qe=Xe.substring(3,5),Ke=Xe.substring(5,7)),cr=parseInt(cr,16),Qe=parseInt(Qe,16),Ke=parseInt(Ke,16)}}return{r:cr,g:Qe,b:Ke,a:lr,style:Xe}},Se=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Fe=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Ae.prototype.fillText=function(Xe,cr,Qe,Ke){if(isNaN(cr)||isNaN(Qe)||typeof Xe!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ke=isNaN(Ke)?void 0:Ke,!Se.call(this)){var lr=Je(this.ctx.transform.rotation),mr=this.ctx.transform.scaleX;er.call(this,{text:Xe,x:cr,y:Qe,scale:mr,angle:lr,align:this.textAlign,maxWidth:Ke})}},Ae.prototype.strokeText=function(Xe,cr,Qe,Ke){if(isNaN(cr)||isNaN(Qe)||typeof Xe!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Fe.call(this)){Ke=isNaN(Ke)?void 0:Ke;var lr=Je(this.ctx.transform.rotation),mr=this.ctx.transform.scaleX;er.call(this,{text:Xe,x:cr,y:Qe,scale:mr,renderingMode:"stroke",angle:lr,align:this.textAlign,maxWidth:Ke})}},Ae.prototype.measureText=function(Xe){if(typeof Xe!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var cr=this.pdf,Qe=this.pdf.internal.scaleFactor,Ke=cr.internal.getFontSize(),lr=cr.getStringUnitWidth(Xe)*Ke/cr.internal.scaleFactor,mr=function(Ar){var Pr=(Ar=Ar||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Pr}}),this};return new mr({width:lr*=Math.round(96*Qe/72*1e4)/1e4})},Ae.prototype.scale=function(Xe,cr){if(isNaN(Xe)||isNaN(cr))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Qe=new St(Xe,0,0,cr,0,0);this.ctx.transform=this.ctx.transform.multiply(Qe)},Ae.prototype.rotate=function(Xe){if(isNaN(Xe))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var cr=new St(Math.cos(Xe),Math.sin(Xe),-Math.sin(Xe),Math.cos(Xe),0,0);this.ctx.transform=this.ctx.transform.multiply(cr)},Ae.prototype.translate=function(Xe,cr){if(isNaN(Xe)||isNaN(cr))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Qe=new St(1,0,0,1,Xe,cr);this.ctx.transform=this.ctx.transform.multiply(Qe)},Ae.prototype.transform=function(Xe,cr,Qe,Ke,lr,mr){if(isNaN(Xe)||isNaN(cr)||isNaN(Qe)||isNaN(Ke)||isNaN(lr)||isNaN(mr))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ar=new St(Xe,cr,Qe,Ke,lr,mr);this.ctx.transform=this.ctx.transform.multiply(Ar)},Ae.prototype.setTransform=function(Xe,cr,Qe,Ke,lr,mr){Xe=isNaN(Xe)?1:Xe,cr=isNaN(cr)?0:cr,Qe=isNaN(Qe)?0:Qe,Ke=isNaN(Ke)?1:Ke,lr=isNaN(lr)?0:lr,mr=isNaN(mr)?0:mr,this.ctx.transform=new St(Xe,cr,Qe,Ke,lr,mr)};var Ie=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Ae.prototype.drawImage=function(Xe,cr,Qe,Ke,lr,mr,Ar,Pr,Rr){var Ir=this.pdf.getImageProperties(Xe),ur=1,ar=1,Sr=1,wr=1;Ke!==void 0&&Pr!==void 0&&(Sr=Pr/Ke,wr=Rr/lr,ur=Ir.width/Ke*Pr/Ke,ar=Ir.height/lr*Rr/lr),mr===void 0&&(mr=cr,Ar=Qe,cr=0,Qe=0),Ke!==void 0&&Pr===void 0&&(Pr=Ke,Rr=lr),Ke===void 0&&Pr===void 0&&(Pr=Ir.width,Rr=Ir.height);for(var or,kr=this.ctx.transform.decompose(),Or=Je(kr.rotate.shx),Lr=new St,Dr=(Lr=(Lr=(Lr=Lr.multiply(kr.translate)).multiply(kr.skew)).multiply(kr.scale)).applyToRectangle(new Pe(mr-cr*Sr,Ar-Qe*wr,Ke*ur,lr*ar)),Nr=Me.call(this,Dr),Mr=[],Gr=0;Gr<Nr.length;Gr+=1)Mr.indexOf(Nr[Gr])===-1&&Mr.push(Nr[Gr]);if(Be(Mr),this.autoPaging)for(var Yr=Mr[0],$r=Mr[Mr.length-1],ti=Yr;ti<$r+1;ti++){this.pdf.setPage(ti);var ri=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],oi=ti===1?this.posY+this.margin[0]:this.margin[0],ni=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],si=ti===1?0:ni+(ti-2)*fi;if(this.ctx.clip_path.length!==0){var Ti=this.path;or=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=De(or,this.posX+this.margin[3],-si+oi+this.ctx.prevPageLastElemOffset),ze.call(this,"fill",!0),this.path=Ti}var wi=JSON.parse(JSON.stringify(Dr));wi=De([wi],this.posX+this.margin[3],-si+oi+this.ctx.prevPageLastElemOffset)[0];var Qi=(ti>Yr||ti<$r)&&Ie.call(this);Qi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ri,fi,null).clip().discardPath()),this.pdf.addImage(Xe,"JPEG",wi.x,wi.y,wi.w,wi.h,null,null,Or),Qi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Xe,"JPEG",Dr.x,Dr.y,Dr.w,Dr.h,null,null,Or)};var Me=function(Xe,cr,Qe){var Ke=[];cr=cr||this.pdf.internal.pageSize.width,Qe=Qe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var lr=this.posY+this.ctx.prevPageLastElemOffset;switch(Xe.type){default:case"mt":case"lt":Ke.push(Math.floor((Xe.y+lr)/Qe)+1);break;case"arc":Ke.push(Math.floor((Xe.y+lr-Xe.radius)/Qe)+1),Ke.push(Math.floor((Xe.y+lr+Xe.radius)/Qe)+1);break;case"qct":var mr=$e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Xe.x1,Xe.y1,Xe.x,Xe.y);Ke.push(Math.floor((mr.y+lr)/Qe)+1),Ke.push(Math.floor((mr.y+mr.h+lr)/Qe)+1);break;case"bct":var Ar=tr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Xe.x1,Xe.y1,Xe.x2,Xe.y2,Xe.x,Xe.y);Ke.push(Math.floor((Ar.y+lr)/Qe)+1),Ke.push(Math.floor((Ar.y+Ar.h+lr)/Qe)+1);break;case"rect":Ke.push(Math.floor((Xe.y+lr)/Qe)+1),Ke.push(Math.floor((Xe.y+Xe.h+lr)/Qe)+1)}for(var Pr=0;Pr<Ke.length;Pr+=1)for(;this.pdf.internal.getNumberOfPages()<Ke[Pr];)Oe.call(this);return Ke},Oe=function(){var Xe=this.fillStyle,cr=this.strokeStyle,Qe=this.font,Ke=this.lineCap,lr=this.lineWidth,mr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Xe,this.strokeStyle=cr,this.font=Qe,this.lineCap=Ke,this.lineWidth=lr,this.lineJoin=mr},De=function(Xe,cr,Qe){for(var Ke=0;Ke<Xe.length;Ke++)switch(Xe[Ke].type){case"bct":Xe[Ke].x2+=cr,Xe[Ke].y2+=Qe;case"qct":Xe[Ke].x1+=cr,Xe[Ke].y1+=Qe;case"mt":case"lt":case"arc":default:Xe[Ke].x+=cr,Xe[Ke].y+=Qe}return Xe},Be=function(Xe){return Xe.sort(function(cr,Qe){return cr-Qe})},je=function(Xe,cr){for(var Qe,Ke,lr=this.fillStyle,mr=this.strokeStyle,Ar=this.lineCap,Pr=this.lineWidth,Rr=Math.abs(Pr*this.ctx.transform.scaleX),Ir=this.lineJoin,ur=JSON.parse(JSON.stringify(this.path)),ar=JSON.parse(JSON.stringify(this.path)),Sr=[],wr=0;wr<ar.length;wr++)if(ar[wr].x!==void 0)for(var or=Me.call(this,ar[wr]),kr=0;kr<or.length;kr+=1)Sr.indexOf(or[kr])===-1&&Sr.push(or[kr]);for(var Or=0;Or<Sr.length;Or++)for(;this.pdf.internal.getNumberOfPages()<Sr[Or];)Oe.call(this);if(Be(Sr),this.autoPaging)for(var Lr=Sr[0],Dr=Sr[Sr.length-1],Nr=Lr;Nr<Dr+1;Nr++){this.pdf.setPage(Nr),this.fillStyle=lr,this.strokeStyle=mr,this.lineCap=Ar,this.lineWidth=Rr,this.lineJoin=Ir;var Mr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gr=Nr===1?this.posY+this.margin[0]:this.margin[0],Yr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$r=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ti=Nr===1?0:Yr+(Nr-2)*$r;if(this.ctx.clip_path.length!==0){var ri=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=De(Qe,this.posX+this.margin[3],-ti+Gr+this.ctx.prevPageLastElemOffset),ze.call(this,Xe,!0),this.path=ri}if(Ke=JSON.parse(JSON.stringify(ur)),this.path=De(Ke,this.posX+this.margin[3],-ti+Gr+this.ctx.prevPageLastElemOffset),cr===!1||Nr===0){var oi=(Nr>Lr||Nr<Dr)&&Ie.call(this);oi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mr,$r,null).clip().discardPath()),ze.call(this,Xe,cr),oi&&this.pdf.restoreGraphicsState()}this.lineWidth=Pr}else this.lineWidth=Rr,ze.call(this,Xe,cr),this.lineWidth=Pr;this.path=ur},ze=function(Xe,cr){if((Xe!=="stroke"||cr||!Fe.call(this))&&(Xe==="stroke"||cr||!Se.call(this))){for(var Qe,Ke,lr=[],mr=this.path,Ar=0;Ar<mr.length;Ar++){var Pr=mr[Ar];switch(Pr.type){case"begin":lr.push({begin:!0});break;case"close":lr.push({close:!0});break;case"mt":lr.push({start:Pr,deltas:[],abs:[]});break;case"lt":var Rr=lr.length;if(mr[Ar-1]&&!isNaN(mr[Ar-1].x)&&(Qe=[Pr.x-mr[Ar-1].x,Pr.y-mr[Ar-1].y],Rr>0)){for(;Rr>=0;Rr--)if(lr[Rr-1].close!==!0&&lr[Rr-1].begin!==!0){lr[Rr-1].deltas.push(Qe),lr[Rr-1].abs.push(Pr);break}}break;case"bct":Qe=[Pr.x1-mr[Ar-1].x,Pr.y1-mr[Ar-1].y,Pr.x2-mr[Ar-1].x,Pr.y2-mr[Ar-1].y,Pr.x-mr[Ar-1].x,Pr.y-mr[Ar-1].y],lr[lr.length-1].deltas.push(Qe);break;case"qct":var Ir=mr[Ar-1].x+2/3*(Pr.x1-mr[Ar-1].x),ur=mr[Ar-1].y+2/3*(Pr.y1-mr[Ar-1].y),ar=Pr.x+2/3*(Pr.x1-Pr.x),Sr=Pr.y+2/3*(Pr.y1-Pr.y),wr=Pr.x,or=Pr.y;Qe=[Ir-mr[Ar-1].x,ur-mr[Ar-1].y,ar-mr[Ar-1].x,Sr-mr[Ar-1].y,wr-mr[Ar-1].x,or-mr[Ar-1].y],lr[lr.length-1].deltas.push(Qe);break;case"arc":lr.push({deltas:[],abs:[],arc:!0}),Array.isArray(lr[lr.length-1].abs)&&lr[lr.length-1].abs.push(Pr)}}Ke=cr?null:Xe==="stroke"?"stroke":"fill";for(var kr=!1,Or=0;Or<lr.length;Or++)if(lr[Or].arc)for(var Lr=lr[Or].abs,Dr=0;Dr<Lr.length;Dr++){var Nr=Lr[Dr];Nr.type==="arc"?Ue.call(this,Nr.x,Nr.y,Nr.radius,Nr.startAngle,Nr.endAngle,Nr.counterclockwise,void 0,cr,!kr):vr.call(this,Nr.x,Nr.y),kr=!0}else if(lr[Or].close===!0)this.pdf.internal.out("h"),kr=!1;else if(lr[Or].begin!==!0){var Mr=lr[Or].start.x,Gr=lr[Or].start.y;gr.call(this,lr[Or].deltas,Mr,Gr),kr=!0}Ke&&hr.call(this,Ke),cr&&xr.call(this)}},Ge=function(Xe){var cr=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Qe=cr*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Xe-Qe;case"top":return Xe+cr-Qe;case"hanging":return Xe+cr-2*Qe;case"middle":return Xe+cr/2-Qe;case"ideographic":return Xe;case"alphabetic":default:return Xe}},We=function(Xe){return Xe+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Ae.prototype.createLinearGradient=function(){var Xe=function(){};return Xe.colorStops=[],Xe.addColorStop=function(cr,Qe){this.colorStops.push([cr,Qe])},Xe.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Xe.isCanvasGradient=!0,Xe},Ae.prototype.createPattern=function(){return this.createLinearGradient()},Ae.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ue=function(Xe,cr,Qe,Ke,lr,mr,Ar,Pr,Rr){for(var Ir=sr.call(this,Qe,Ke,lr,mr),ur=0;ur<Ir.length;ur++){var ar=Ir[ur];ur===0&&(Rr?rr.call(this,ar.x1+Xe,ar.y1+cr):vr.call(this,ar.x1+Xe,ar.y1+cr)),br.call(this,Xe,cr,ar.x2,ar.y2,ar.x3,ar.y3,ar.x4,ar.y4)}Pr?xr.call(this):hr.call(this,Ar)},hr=function(Xe){switch(Xe){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},xr=function(){this.pdf.clip(),this.pdf.discardPath()},rr=function(Xe,cr){this.pdf.internal.out(r(Xe)+" "+_e(cr)+" m")},er=function(Xe){var cr;switch(Xe.align){case"right":case"end":cr="right";break;case"center":cr="center";break;case"left":case"start":default:cr="left"}var Qe=this.pdf.getTextDimensions(Xe.text),Ke=Ge.call(this,Xe.y),lr=We.call(this,Ke)-Qe.h,mr=this.ctx.transform.applyToPoint(new Re(Xe.x,Ke)),Ar=this.ctx.transform.decompose(),Pr=new St;Pr=(Pr=(Pr=Pr.multiply(Ar.translate)).multiply(Ar.skew)).multiply(Ar.scale);for(var Rr,Ir,ur,ar=this.ctx.transform.applyToRectangle(new Pe(Xe.x,Ke,Qe.w,Qe.h)),Sr=Pr.applyToRectangle(new Pe(Xe.x,lr,Qe.w,Qe.h)),wr=Me.call(this,Sr),or=[],kr=0;kr<wr.length;kr+=1)or.indexOf(wr[kr])===-1&&or.push(wr[kr]);if(Be(or),this.autoPaging)for(var Or=or[0],Lr=or[or.length-1],Dr=Or;Dr<Lr+1;Dr++){this.pdf.setPage(Dr);var Nr=Dr===1?this.posY+this.margin[0]:this.margin[0],Mr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gr=this.pdf.internal.pageSize.height-this.margin[2],Yr=Gr-this.margin[0],$r=this.pdf.internal.pageSize.width-this.margin[1],ti=$r-this.margin[3],ri=Dr===1?0:Mr+(Dr-2)*Yr;if(this.ctx.clip_path.length!==0){var oi=this.path;Rr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=De(Rr,this.posX+this.margin[3],-1*ri+Nr),ze.call(this,"fill",!0),this.path=oi}var ni=De([JSON.parse(JSON.stringify(Sr))],this.posX+this.margin[3],-ri+Nr+this.ctx.prevPageLastElemOffset)[0];Xe.scale>=.01&&(Ir=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ir*Xe.scale),ur=this.lineWidth,this.lineWidth=ur*Xe.scale);var fi=this.autoPaging!=="text";if(fi||ni.y+ni.h<=Gr){if(fi||ni.y>=Nr&&ni.x<=$r){var si=fi?Xe.text:this.pdf.splitTextToSize(Xe.text,Xe.maxWidth||$r-ni.x)[0],Ti=De([JSON.parse(JSON.stringify(ar))],this.posX+this.margin[3],-ri+Nr+this.ctx.prevPageLastElemOffset)[0],wi=fi&&(Dr>Or||Dr<Lr)&&Ie.call(this);wi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ti,Yr,null).clip().discardPath()),this.pdf.text(si,Ti.x,Ti.y,{angle:Xe.angle,align:cr,renderingMode:Xe.renderingMode}),wi&&this.pdf.restoreGraphicsState()}}else ni.y<Gr&&(this.ctx.prevPageLastElemOffset+=Gr-ni.y);Xe.scale>=.01&&(this.pdf.setFontSize(Ir),this.lineWidth=ur)}else Xe.scale>=.01&&(Ir=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ir*Xe.scale),ur=this.lineWidth,this.lineWidth=ur*Xe.scale),this.pdf.text(Xe.text,mr.x+this.posX,mr.y+this.posY,{angle:Xe.angle,align:cr,renderingMode:Xe.renderingMode,maxWidth:Xe.maxWidth}),Xe.scale>=.01&&(this.pdf.setFontSize(Ir),this.lineWidth=ur)},vr=function(Xe,cr,Qe,Ke){Qe=Qe||0,Ke=Ke||0,this.pdf.internal.out(r(Xe+Qe)+" "+_e(cr+Ke)+" l")},gr=function(Xe,cr,Qe){return this.pdf.lines(Xe,cr,Qe,null,null)},br=function(Xe,cr,Qe,Ke,lr,mr,Ar,Pr){this.pdf.internal.out([e(Ce(Qe+Xe)),e(Ee(Ke+cr)),e(Ce(lr+Xe)),e(Ee(mr+cr)),e(Ce(Ar+Xe)),e(Ee(Pr+cr)),"c"].join(" "))},sr=function(Xe,cr,Qe,Ke){for(var lr=2*Math.PI,mr=Math.PI/2;cr>Qe;)cr-=lr;var Ar=Math.abs(Qe-cr);Ar<lr&&Ke&&(Ar=lr-Ar);for(var Pr=[],Rr=Ke?-1:1,Ir=cr;Ar>1e-5;){var ur=Ir+Rr*Math.min(Ar,mr);Pr.push(nr.call(this,Xe,Ir,ur)),Ar-=Math.abs(ur-Ir),Ir=ur}return Pr},nr=function(Xe,cr,Qe){var Ke=(Qe-cr)/2,lr=Xe*Math.cos(Ke),mr=Xe*Math.sin(Ke),Ar=lr,Pr=-mr,Rr=Ar*Ar+Pr*Pr,Ir=Rr+Ar*lr+Pr*mr,ur=4/3*(Math.sqrt(2*Rr*Ir)-Ir)/(Ar*mr-Pr*lr),ar=Ar-ur*Pr,Sr=Pr+ur*Ar,wr=ar,or=-Sr,kr=Ke+cr,Or=Math.cos(kr),Lr=Math.sin(kr);return{x1:Xe*Math.cos(cr),y1:Xe*Math.sin(cr),x2:ar*Or-Sr*Lr,y2:ar*Lr+Sr*Or,x3:wr*Or-or*Lr,y3:wr*Lr+or*Or,x4:Xe*Math.cos(Qe),y4:Xe*Math.sin(Qe)}},Je=function(Xe){return 180*Xe/Math.PI},$e=function(Xe,cr,Qe,Ke,lr,mr){var Ar=Xe+.5*(Qe-Xe),Pr=cr+.5*(Ke-cr),Rr=lr+.5*(Qe-lr),Ir=mr+.5*(Ke-mr),ur=Math.min(Xe,lr,Ar,Rr),ar=Math.max(Xe,lr,Ar,Rr),Sr=Math.min(cr,mr,Pr,Ir),wr=Math.max(cr,mr,Pr,Ir);return new Pe(ur,Sr,ar-ur,wr-Sr)},tr=function(Xe,cr,Qe,Ke,lr,mr,Ar,Pr){var Rr,Ir,ur,ar,Sr,wr,or,kr,Or,Lr,Dr,Nr,Mr,Gr,Yr=Qe-Xe,$r=Ke-cr,ti=lr-Qe,ri=mr-Ke,oi=Ar-lr,ni=Pr-mr;for(Ir=0;Ir<41;Ir++)Or=(or=(ur=Xe+(Rr=Ir/40)*Yr)+Rr*((Sr=Qe+Rr*ti)-ur))+Rr*(Sr+Rr*(lr+Rr*oi-Sr)-or),Lr=(kr=(ar=cr+Rr*$r)+Rr*((wr=Ke+Rr*ri)-ar))+Rr*(wr+Rr*(mr+Rr*ni-wr)-kr),Ir==0?(Dr=Or,Nr=Lr,Mr=Or,Gr=Lr):(Dr=Math.min(Dr,Or),Nr=Math.min(Nr,Lr),Mr=Math.max(Mr,Or),Gr=Math.max(Gr,Lr));return new Pe(Math.round(Dr),Math.round(Nr),Math.round(Mr-Dr),Math.round(Gr-Nr))},ir=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Xe,cr,Qe=(Xe=this.ctx.lineDash,cr=this.ctx.lineDashOffset,JSON.stringify({lineDash:Xe,lineDashOffset:cr}));this.prevLineDash!==Qe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Qe)}}})(E.API),function(t){var e=function(Ee){var Re,Pe,St,Te,ke,Ae,xe,Se,Fe,Ie;for(/[^\x00-\xFF]/.test(Ee),Pe=[],St=0,Te=(Ee+=Re="\0\0\0\0".slice(Ee.length%4||4)).length;Te>St;St+=4)(ke=(Ee.charCodeAt(St)<<24)+(Ee.charCodeAt(St+1)<<16)+(Ee.charCodeAt(St+2)<<8)+Ee.charCodeAt(St+3))!==0?(Ae=(ke=((ke=((ke=((ke=(ke-(Ie=ke%85))/85)-(Fe=ke%85))/85)-(Se=ke%85))/85)-(xe=ke%85))/85)%85,Pe.push(Ae+33,xe+33,Se+33,Fe+33,Ie+33)):Pe.push(122);return function(Me,Oe){for(var De=Oe;De>0;De--)Me.pop()}(Pe,Re.length),String.fromCharCode.apply(String,Pe)+"~>"},r=function(Ee){var Re,Pe,St,Te,ke,Ae=String,xe="length",Se=255,Fe="charCodeAt",Ie="slice",Me="replace";for(Ee[Ie](-2),Ee=Ee[Ie](0,-2)[Me](/\s/g,"")[Me]("z","!!!!!"),St=[],Te=0,ke=(Ee+=Re="uuuuu"[Ie](Ee[xe]%5||5))[xe];ke>Te;Te+=5)Pe=52200625*(Ee[Fe](Te)-33)+614125*(Ee[Fe](Te+1)-33)+7225*(Ee[Fe](Te+2)-33)+85*(Ee[Fe](Te+3)-33)+(Ee[Fe](Te+4)-33),St.push(Se&Pe>>24,Se&Pe>>16,Se&Pe>>8,Se&Pe);return function(Oe,De){for(var Be=De;Be>0;Be--)Oe.pop()}(St,Re[xe]),Ae.fromCharCode.apply(Ae,St)},_e=function(Ee){var Re=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Ee=Ee.replace(/\s/g,"")).indexOf(">")!==-1&&(Ee=Ee.substr(0,Ee.indexOf(">"))),Ee.length%2&&(Ee+="0"),Re.test(Ee)===!1)return"";for(var Pe="",St=0;St<Ee.length;St+=2)Pe+=String.fromCharCode("0x"+(Ee[St]+Ee[St+1]));return Pe},Ce=function(Ee){for(var Re=new Uint8Array(Ee.length),Pe=Ee.length;Pe--;)Re[Pe]=Ee.charCodeAt(Pe);return Ee=(Re=zlibSync(Re)).reduce(function(St,Te){return St+String.fromCharCode(Te)},"")};t.processDataByFilters=function(Ee,Re){var Pe=0,St=Ee||"",Te=[];for(typeof(Re=Re||[])=="string"&&(Re=[Re]),Pe=0;Pe<Re.length;Pe+=1)switch(Re[Pe]){case"ASCII85Decode":case"/ASCII85Decode":St=r(St),Te.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":St=e(St),Te.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":St=_e(St),Te.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":St=St.split("").map(function(ke){return("0"+ke.charCodeAt().toString(16)).slice(-2)}).join("")+">",Te.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":St=Ce(St),Te.push("/FlateDecode");break;default:throw new Error('The filter: "'+Re[Pe]+'" is not implemented')}return{data:St,reverseChain:Te.reverse().join(" ")}}}(E.API),function(t){t.loadFile=function(e,r,_e){return function(Ce,Ee,Re){Ee=Ee!==!1,Re=typeof Re=="function"?Re:function(){};var Pe=void 0;try{Pe=function(St,Te,ke){var Ae=new XMLHttpRequest,xe=0,Se=function(Fe){var Ie=Fe.length,Me=[],Oe=String.fromCharCode;for(xe=0;xe<Ie;xe+=1)Me.push(Oe(255&Fe.charCodeAt(xe)));return Me.join("")};if(Ae.open("GET",St,!Te),Ae.overrideMimeType("text/plain; charset=x-user-defined"),Te===!1&&(Ae.onload=function(){Ae.status===200?ke(Se(this.responseText)):ke(void 0)}),Ae.send(null),Te&&Ae.status===200)return Se(Ae.responseText)}(Ce,Ee,Re)}catch{}return Pe}(e,r,_e)},t.loadImageFile=t.loadFile}(E.API),function(t){function e(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm.0eae2bf4.js"),[])).catch(function(Re){return Promise.reject(new Error("Could not load html2canvas: "+Re))}).then(function(Re){return Re.default?Re.default:Re})}function r(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es.b8146866.js"),[])).catch(function(Re){return Promise.reject(new Error("Could not load dompurify: "+Re))}).then(function(Re){return Re.default?Re.default:Re})}var _e=function(Re){var Pe=_typeof(Re);return Pe==="undefined"?"undefined":Pe==="string"||Re instanceof String?"string":Pe==="number"||Re instanceof Number?"number":Pe==="function"||Re instanceof Function?"function":Re&&Re.constructor===Array?"array":Re&&Re.nodeType===1?"element":Pe==="object"?"object":"unknown"},Ce=function(Re,Pe){var St=document.createElement(Re);for(var Te in Pe.className&&(St.className=Pe.className),Pe.innerHTML&&Pe.dompurify&&(St.innerHTML=Pe.dompurify.sanitize(Pe.innerHTML)),Pe.style)St.style[Te]=Pe.style[Te];return St},Ee=function Re(Pe){var St=Object.assign(Re.convert(Promise.resolve()),JSON.parse(JSON.stringify(Re.template))),Te=Re.convert(Promise.resolve(),St);return Te=(Te=Te.setProgress(1,Re,1,[Re])).set(Pe)};(Ee.prototype=Object.create(Promise.prototype)).constructor=Ee,Ee.convert=function(Re,Pe){return Re.__proto__=Pe||Ee.prototype,Re},Ee.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Ee.prototype.from=function(Re,Pe){return this.then(function(){switch(Pe=Pe||function(St){switch(_e(St)){case"string":return"string";case"element":return St.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(Re)){case"string":return this.then(r).then(function(St){return this.set({src:Ce("div",{innerHTML:Re,dompurify:St})})});case"element":return this.set({src:Re});case"canvas":return this.set({canvas:Re});case"img":return this.set({img:Re});default:return this.error("Unknown source type.")}})},Ee.prototype.to=function(Re){switch(Re){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Ee.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Re={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Pe=function St(Te,ke){for(var Ae=Te.nodeType===3?document.createTextNode(Te.nodeValue):Te.cloneNode(!1),xe=Te.firstChild;xe;xe=xe.nextSibling)ke!==!0&&xe.nodeType===1&&xe.nodeName==="SCRIPT"||Ae.appendChild(St(xe,ke));return Te.nodeType===1&&(Te.nodeName==="CANVAS"?(Ae.width=Te.width,Ae.height=Te.height,Ae.getContext("2d").drawImage(Te,0,0)):Te.nodeName!=="TEXTAREA"&&Te.nodeName!=="SELECT"||(Ae.value=Te.value),Ae.addEventListener("load",function(){Ae.scrollTop=Te.scrollTop,Ae.scrollLeft=Te.scrollLeft},!0)),Ae}(this.prop.src,this.opt.html2canvas.javascriptEnabled);Pe.tagName==="BODY"&&(Re.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Ce("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Ce("div",{className:"html2pdf__container",style:Re}),this.prop.container.appendChild(Pe),this.prop.container.firstChild.appendChild(Ce("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Ee.prototype.toCanvas=function(){var Re=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Re).then(e).then(function(Pe){var St=Object.assign({},this.opt.html2canvas);return delete St.onrendered,Pe(this.prop.container,St)}).then(function(Pe){(this.opt.html2canvas.onrendered||function(){})(Pe),this.prop.canvas=Pe,document.body.removeChild(this.prop.overlay)})},Ee.prototype.toContext2d=function(){var Re=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Re).then(e).then(function(Pe){var St=this.opt.jsPDF,Te=this.opt.fontFaces,ke=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Ae=Object.assign({async:!0,allowTaint:!0,scale:ke,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Ae.onrendered,St.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,St.context2d.posX=this.opt.x,St.context2d.posY=this.opt.y,St.context2d.margin=this.opt.margin,St.context2d.fontFaces=Te,Te)for(var xe=0;xe<Te.length;++xe){var Se=Te[xe],Fe=Se.src.find(function(Ie){return Ie.format==="truetype"});Fe&&St.addFont(Fe.url,Se.ref.name,Se.ref.style)}return Ae.windowHeight=Ae.windowHeight||0,Ae.windowHeight=Ae.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Ae.windowHeight,St.context2d.save(!0),Pe(this.prop.container,Ae)}).then(function(Pe){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Pe),this.prop.canvas=Pe,document.body.removeChild(this.prop.overlay)})},Ee.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Re=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Re})},Ee.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Ee.prototype.output=function(Re,Pe,St){return(St=St||"pdf").toLowerCase()==="img"||St.toLowerCase()==="image"?this.outputImg(Re,Pe):this.outputPdf(Re,Pe)},Ee.prototype.outputPdf=function(Re,Pe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Re,Pe)})},Ee.prototype.outputImg=function(Re){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Re){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Re+'" is not supported.'}})},Ee.prototype.save=function(Re){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Re?{filename:Re}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Ee.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Ee.prototype.set=function(Re){if(_e(Re)!=="object")return this;var Pe=Object.keys(Re||{}).map(function(St){if(St in Ee.template.prop)return function(){this.prop[St]=Re[St]};switch(St){case"margin":return this.setMargin.bind(this,Re.margin);case"jsPDF":return function(){return this.opt.jsPDF=Re.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Re.pageSize);default:return function(){this.opt[St]=Re[St]}}},this);return this.then(function(){return this.thenList(Pe)})},Ee.prototype.get=function(Re,Pe){return this.then(function(){var St=Re in Ee.template.prop?this.prop[Re]:this.opt[Re];return Pe?Pe(St):St})},Ee.prototype.setMargin=function(Re){return this.then(function(){switch(_e(Re)){case"number":Re=[Re,Re,Re,Re];case"array":if(Re.length===2&&(Re=[Re[0],Re[1],Re[0],Re[1]]),Re.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Re}).then(this.setPageSize)},Ee.prototype.setPageSize=function(Re){function Pe(St,Te){return Math.floor(St*Te/72*96)}return this.then(function(){(Re=Re||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Re.inner={width:Re.width-this.opt.margin[1]-this.opt.margin[3],height:Re.height-this.opt.margin[0]-this.opt.margin[2]},Re.inner.px={width:Pe(Re.inner.width,Re.k),height:Pe(Re.inner.height,Re.k)},Re.inner.ratio=Re.inner.height/Re.inner.width),this.prop.pageSize=Re})},Ee.prototype.setProgress=function(Re,Pe,St,Te){return Re!=null&&(this.progress.val=Re),Pe!=null&&(this.progress.state=Pe),St!=null&&(this.progress.n=St),Te!=null&&(this.progress.stack=Te),this.progress.ratio=this.progress.val/this.progress.state,this},Ee.prototype.updateProgress=function(Re,Pe,St,Te){return this.setProgress(Re?this.progress.val+Re:null,Pe||null,St?this.progress.n+St:null,Te?this.progress.stack.concat(Te):null)},Ee.prototype.then=function(Re,Pe){var St=this;return this.thenCore(Re,Pe,function(Te,ke){return St.updateProgress(null,null,1,[Te]),Promise.prototype.then.call(this,function(Ae){return St.updateProgress(null,Te),Ae}).then(Te,ke).then(function(Ae){return St.updateProgress(1),Ae})})},Ee.prototype.thenCore=function(Re,Pe,St){St=St||Promise.prototype.then,Re&&(Re=Re.bind(this)),Pe&&(Pe=Pe.bind(this));var Te=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:Ee.convert(Object.assign({},this),Promise.prototype),ke=St.call(Te,Re,Pe);return Ee.convert(ke,this.__proto__)},Ee.prototype.thenExternal=function(Re,Pe){return Promise.prototype.then.call(this,Re,Pe)},Ee.prototype.thenList=function(Re){var Pe=this;return Re.forEach(function(St){Pe=Pe.thenCore(St)}),Pe},Ee.prototype.catch=function(Re){Re&&(Re=Re.bind(this));var Pe=Promise.prototype.catch.call(this,Re);return Ee.convert(Pe,this)},Ee.prototype.catchExternal=function(Re){return Promise.prototype.catch.call(this,Re)},Ee.prototype.error=function(Re){return this.then(function(){throw new Error(Re)})},Ee.prototype.using=Ee.prototype.set,Ee.prototype.saveAs=Ee.prototype.save,Ee.prototype.export=Ee.prototype.output,Ee.prototype.run=Ee.prototype.then,E.getPageSize=function(Re,Pe,St){if(_typeof(Re)==="object"){var Te=Re;Re=Te.orientation,Pe=Te.unit||Pe,St=Te.format||St}Pe=Pe||"mm",St=St||"a4",Re=(""+(Re||"P")).toLowerCase();var ke,Ae=(""+St).toLowerCase(),xe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Pe){case"pt":ke=1;break;case"mm":ke=72/25.4;break;case"cm":ke=72/2.54;break;case"in":ke=72;break;case"px":ke=.75;break;case"pc":case"em":ke=12;break;case"ex":ke=6;break;default:throw"Invalid unit: "+Pe}var Se,Fe=0,Ie=0;if(xe.hasOwnProperty(Ae))Fe=xe[Ae][1]/ke,Ie=xe[Ae][0]/ke;else try{Fe=St[1],Ie=St[0]}catch{throw new Error("Invalid format: "+St)}if(Re==="p"||Re==="portrait")Re="p",Ie>Fe&&(Se=Ie,Ie=Fe,Fe=Se);else{if(Re!=="l"&&Re!=="landscape")throw"Invalid orientation: "+Re;Re="l",Fe>Ie&&(Se=Ie,Ie=Fe,Fe=Se)}return{width:Ie,height:Fe,unit:Pe,k:ke,orientation:Re}},t.html=function(Re,Pe){(Pe=Pe||{}).callback=Pe.callback||function(){},Pe.html2canvas=Pe.html2canvas||{},Pe.html2canvas.canvas=Pe.html2canvas.canvas||this.canvas,Pe.jsPDF=Pe.jsPDF||this,Pe.fontFaces=Pe.fontFaces?Pe.fontFaces.map(jt):null;var St=new Ee(Pe);return Pe.worker?St:St.from(Re).doCallback()}}(E.API),E.API.addJS=function(t){return Ht=t,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,_e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Ce=r.outline.render().split(/\r\n/),Ee=0;Ee<Ce.length;Ee++){var Re=Ce[Ee],Pe=_e.exec(Re);if(Pe!=null){var St=Pe[1];r.internal.newObjectDeferredBegin(St,!1)}r.internal.write(Re)}if(this.outline.createNamedDestinations){var Te=this.internal.pages.length,ke=[];for(Ee=0;Ee<Te;Ee++){var Ae=r.internal.newObject();ke.push(Ae);var xe=r.internal.getPageInfo(Ee+1);r.internal.write("<< /D["+xe.objId+" 0 R /XYZ null null null]>> endobj")}var Se=r.internal.newObject();for(r.internal.write("<< /Names [ "),Ee=0;Ee<ke.length;Ee++)r.internal.write("(page_"+(Ee+1)+")"+ke[Ee]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+Se+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(_e,Ce,Ee){var Re={title:Ce,options:Ee,children:[]};return _e==null&&(_e=this.root),_e.children.push(Re),Re},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(_e){_e.id=r.internal.newObjectDeferred();for(var Ce=0;Ce<_e.children.length;Ce++)this.genIds_r(_e.children[Ce])},r.outline.renderRoot=function(_e){this.objStart(_e),this.line("/Type /Outlines"),_e.children.length>0&&(this.line("/First "+this.makeRef(_e.children[0])),this.line("/Last "+this.makeRef(_e.children[_e.children.length-1]))),this.line("/Count "+this.count_r({count:0},_e)),this.objEnd()},r.outline.renderItems=function(_e){for(var Ce=this.ctx.pdf.internal.getVerticalCoordinateString,Ee=0;Ee<_e.children.length;Ee++){var Re=_e.children[Ee];this.objStart(Re),this.line("/Title "+this.makeString(Re.title)),this.line("/Parent "+this.makeRef(_e)),Ee>0&&this.line("/Prev "+this.makeRef(_e.children[Ee-1])),Ee<_e.children.length-1&&this.line("/Next "+this.makeRef(_e.children[Ee+1])),Re.children.length>0&&(this.line("/First "+this.makeRef(Re.children[0])),this.line("/Last "+this.makeRef(Re.children[Re.children.length-1])));var Pe=this.count=this.count_r({count:0},Re);if(Pe>0&&this.line("/Count "+Pe),Re.options&&Re.options.pageNumber){var St=r.internal.getPageInfo(Re.options.pageNumber);this.line("/Dest ["+St.objId+" 0 R /XYZ 0 "+Ce(0)+" 0]")}this.objEnd()}for(var Te=0;Te<_e.children.length;Te++)this.renderItems(_e.children[Te])},r.outline.line=function(_e){this.ctx.val+=_e+`\r
`},r.outline.makeRef=function(_e){return _e.id+" 0 R"},r.outline.makeString=function(_e){return"("+r.internal.pdfEscape(_e)+")"},r.outline.objStart=function(_e){this.ctx.val+=`\r
`+_e.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(_e,Ce){for(var Ee=0;Ee<Ce.children.length;Ee++)_e.count++,this.count_r(_e,Ce.children[Ee]);return _e.count}}])}(E.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,_e,Ce,Ee,Re,Pe){var St,Te=this.decode.DCT_DECODE,ke=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=Re||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(St=function(Ae){for(var xe,Se=256*Ae.charCodeAt(4)+Ae.charCodeAt(5),Fe=Ae.length,Ie={width:0,height:0,numcomponents:1},Me=4;Me<Fe;Me+=2){if(Me+=Se,e.indexOf(Ae.charCodeAt(Me+1))!==-1){xe=256*Ae.charCodeAt(Me+5)+Ae.charCodeAt(Me+6),Ie={width:256*Ae.charCodeAt(Me+7)+Ae.charCodeAt(Me+8),height:xe,numcomponents:Ae.charCodeAt(Me+9)};break}Se=256*Ae.charCodeAt(Me+2)+Ae.charCodeAt(Me+3)}return Ie}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:Pe=this.color_spaces.DEVICE_GRAY;break;case 4:Pe=this.color_spaces.DEVICE_CMYK;break;case 3:Pe=this.color_spaces.DEVICE_RGB}ke={data:r,width:St.width,height:St.height,colorSpace:Pe,bitsPerComponent:8,filter:Te,index:_e,alias:Ce}}return ke}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var t,e,r;function _e(Ee){var Re,Pe,St,Te,ke,Ae,xe,Se,Fe,Ie,Me,Oe,De,Be;for(this.data=Ee,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},Ae=null;;){switch(Re=this.readUInt32(),Fe=function(){var je,ze;for(ze=[],je=0;je<4;++je)ze.push(String.fromCharCode(this.data[this.pos++]));return ze}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Re);break;case"fcTL":Ae&&this.animation.frames.push(Ae),this.pos+=4,Ae={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},ke=this.readUInt16(),Te=this.readUInt16()||100,Ae.delay=1e3*ke/Te,Ae.disposeOp=this.data[this.pos++],Ae.blendOp=this.data[this.pos++],Ae.data=[];break;case"IDAT":case"fdAT":for(Fe==="fdAT"&&(this.pos+=4,Re-=4),Ee=(Ae!=null?Ae.data:void 0)||this.imgData,Oe=0;0<=Re?Oe<Re:Oe>Re;0<=Re?++Oe:--Oe)Ee.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(St=this.palette.length/3,this.transparency.indexed=this.read(Re),this.transparency.indexed.length>St)throw new Error("More transparent colors than palette size");if((Ie=St-this.transparency.indexed.length)>0)for(De=0;0<=Ie?De<Ie:De>Ie;0<=Ie?++De:--De)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Re)[0];break;case 2:this.transparency.rgb=this.read(Re)}break;case"tEXt":xe=(Me=this.read(Re)).indexOf(0),Se=String.fromCharCode.apply(String,Me.slice(0,xe)),this.text[Se]=String.fromCharCode.apply(String,Me.slice(xe+1));break;case"IEND":return Ae&&this.animation.frames.push(Ae),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(Be=this.colorType)===4||Be===6,Pe=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*Pe,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Re}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}_e.prototype.read=function(Ee){var Re,Pe;for(Pe=[],Re=0;0<=Ee?Re<Ee:Re>Ee;0<=Ee?++Re:--Re)Pe.push(this.data[this.pos++]);return Pe},_e.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},_e.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},_e.prototype.decodePixels=function(Ee){var Re=this.pixelBitlength/8,Pe=new Uint8Array(this.width*this.height*Re),St=0,Te=this;if(Ee==null&&(Ee=this.imgData),Ee.length===0)return new Uint8Array(0);function ke(Ae,xe,Se,Fe){var Ie,Me,Oe,De,Be,je,ze,Ge,We,Ue,hr,xr,rr,er,vr,gr,br,sr,nr,Je,$e,tr=Math.ceil((Te.width-Ae)/Se),ir=Math.ceil((Te.height-xe)/Fe),Xe=Te.width==tr&&Te.height==ir;for(er=Re*tr,xr=Xe?Pe:new Uint8Array(er*ir),je=Ee.length,rr=0,Me=0;rr<ir&&St<je;){switch(Ee[St++]){case 0:for(De=br=0;br<er;De=br+=1)xr[Me++]=Ee[St++];break;case 1:for(De=sr=0;sr<er;De=sr+=1)Ie=Ee[St++],Be=De<Re?0:xr[Me-Re],xr[Me++]=(Ie+Be)%256;break;case 2:for(De=nr=0;nr<er;De=nr+=1)Ie=Ee[St++],Oe=(De-De%Re)/Re,vr=rr&&xr[(rr-1)*er+Oe*Re+De%Re],xr[Me++]=(vr+Ie)%256;break;case 3:for(De=Je=0;Je<er;De=Je+=1)Ie=Ee[St++],Oe=(De-De%Re)/Re,Be=De<Re?0:xr[Me-Re],vr=rr&&xr[(rr-1)*er+Oe*Re+De%Re],xr[Me++]=(Ie+Math.floor((Be+vr)/2))%256;break;case 4:for(De=$e=0;$e<er;De=$e+=1)Ie=Ee[St++],Oe=(De-De%Re)/Re,Be=De<Re?0:xr[Me-Re],rr===0?vr=gr=0:(vr=xr[(rr-1)*er+Oe*Re+De%Re],gr=Oe&&xr[(rr-1)*er+(Oe-1)*Re+De%Re]),ze=Be+vr-gr,Ge=Math.abs(ze-Be),Ue=Math.abs(ze-vr),hr=Math.abs(ze-gr),We=Ge<=Ue&&Ge<=hr?Be:Ue<=hr?vr:gr,xr[Me++]=(Ie+We)%256;break;default:throw new Error("Invalid filter algorithm: "+Ee[St-1])}if(!Xe){var cr=((xe+rr*Fe)*Te.width+Ae)*Re,Qe=rr*er;for(De=0;De<tr;De+=1){for(var Ke=0;Ke<Re;Ke+=1)Pe[cr++]=xr[Qe++];cr+=(Se-1)*Re}}rr++}}return Ee=unzlibSync(Ee),Te.interlaceMethod==1?(ke(0,0,8,8),ke(4,0,8,8),ke(0,4,4,8),ke(2,0,4,4),ke(0,2,2,4),ke(1,0,2,2),ke(0,1,1,2)):ke(0,0,1,1),Pe},_e.prototype.decodePalette=function(){var Ee,Re,Pe,St,Te,ke,Ae,xe,Se;for(Pe=this.palette,ke=this.transparency.indexed||[],Te=new Uint8Array((ke.length||0)+Pe.length),St=0,Ee=0,Re=Ae=0,xe=Pe.length;Ae<xe;Re=Ae+=3)Te[St++]=Pe[Re],Te[St++]=Pe[Re+1],Te[St++]=Pe[Re+2],Te[St++]=(Se=ke[Ee++])!=null?Se:255;return Te},_e.prototype.copyToImageData=function(Ee,Re){var Pe,St,Te,ke,Ae,xe,Se,Fe,Ie,Me,Oe;if(St=this.colors,Ie=null,Pe=this.hasAlphaChannel,this.palette.length&&(Ie=(Oe=this._decodedPalette)!=null?Oe:this._decodedPalette=this.decodePalette(),St=4,Pe=!0),Fe=(Te=Ee.data||Ee).length,Ae=Ie||Re,ke=xe=0,St===1)for(;ke<Fe;)Se=Ie?4*Re[ke/4]:xe,Me=Ae[Se++],Te[ke++]=Me,Te[ke++]=Me,Te[ke++]=Me,Te[ke++]=Pe?Ae[Se++]:255,xe=Se;else for(;ke<Fe;)Se=Ie?4*Re[ke/4]:xe,Te[ke++]=Ae[Se++],Te[ke++]=Ae[Se++],Te[ke++]=Ae[Se++],Te[ke++]=Pe?Ae[Se++]:255,xe=Se},_e.prototype.decode=function(){var Ee;return Ee=new Uint8Array(this.width*this.height*4),this.copyToImageData(Ee,this.decodePixels()),Ee};var Ce=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{e=n.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return Ce(),t=function(Ee){var Re;if(Ce()===!0)return r.width=Ee.width,r.height=Ee.height,r.clearRect(0,0,Ee.width,Ee.height),r.putImageData(Ee,0,0),(Re=new Image).src=e.toDataURL(),Re;throw new Error("This method requires a Browser with Canvas-capability.")},_e.prototype.decodeFrames=function(Ee){var Re,Pe,St,Te,ke,Ae,xe,Se;if(this.animation){for(Se=[],Pe=ke=0,Ae=(xe=this.animation.frames).length;ke<Ae;Pe=++ke)Re=xe[Pe],St=Ee.createImageData(Re.width,Re.height),Te=this.decodePixels(new Uint8Array(Re.data)),this.copyToImageData(St,Te),Re.imageData=St,Se.push(Re.image=t(St));return Se}},_e.prototype.renderFrame=function(Ee,Re){var Pe,St,Te;return Pe=(St=this.animation.frames)[Re],Te=St[Re-1],Re===0&&Ee.clearRect(0,0,this.width,this.height),(Te!=null?Te.disposeOp:void 0)===1?Ee.clearRect(Te.xOffset,Te.yOffset,Te.width,Te.height):(Te!=null?Te.disposeOp:void 0)===2&&Ee.putImageData(Te.imageData,Te.xOffset,Te.yOffset),Pe.blendOp===0&&Ee.clearRect(Pe.xOffset,Pe.yOffset,Pe.width,Pe.height),Ee.drawImage(Pe.image,Pe.xOffset,Pe.yOffset)},_e.prototype.animate=function(Ee){var Re,Pe,St,Te,ke,Ae,xe=this;return Pe=0,Ae=this.animation,Te=Ae.numFrames,St=Ae.frames,ke=Ae.numPlays,(Re=function(){var Se,Fe;if(Se=Pe++%Te,Fe=St[Se],xe.renderFrame(Ee,Se),Te>1&&Pe/Te<ke)return xe.animation._timeout=setTimeout(Re,Fe.delay)})()},_e.prototype.stopAnimation=function(){var Ee;return clearTimeout((Ee=this.animation)!=null?Ee._timeout:void 0)},_e.prototype.render=function(Ee){var Re,Pe;return Ee._png&&Ee._png.stopAnimation(),Ee._png=this,Ee.width=this.width,Ee.height=this.height,Re=Ee.getContext("2d"),this.animation?(this.decodeFrames(Re),this.animate(Re)):(Pe=Re.createImageData(this.width,this.height),this.copyToImageData(Pe,this.decodePixels()),Re.putImageData(Pe,0,0))},_e}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,_e=t[e++]|t[e++]<<8,Ce=t[e++],Ee=Ce>>7,Re=1<<(7&Ce)+1;t[e++],t[e++];var Pe=null,St=null;Ee&&(Pe=e,St=Re,e+=3*Re);var Te=!0,ke=[],Ae=0,xe=null,Se=0,Fe=null;for(this.width=r,this.height=_e;Te&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,Fe=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((rr=t[e++])>=0))throw Error("Invalid block size");if(rr===0)break;e+=rr}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var Ie=t[e++];Ae=t[e++]|t[e++]<<8,xe=t[e++],(1&Ie)==0&&(xe=null),Se=Ie>>2&7,e++;break;case 254:for(;;){if(!((rr=t[e++])>=0))throw Error("Invalid block size");if(rr===0)break;e+=rr}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var Me=t[e++]|t[e++]<<8,Oe=t[e++]|t[e++]<<8,De=t[e++]|t[e++]<<8,Be=t[e++]|t[e++]<<8,je=t[e++],ze=je>>6&1,Ge=1<<(7&je)+1,We=Pe,Ue=St,hr=!1;je>>7&&(hr=!0,We=e,Ue=Ge,e+=3*Ge);var xr=e;for(e++;;){var rr;if(!((rr=t[e++])>=0))throw Error("Invalid block size");if(rr===0)break;e+=rr}ke.push({x:Me,y:Oe,width:De,height:Be,has_local_palette:hr,palette_offset:We,palette_size:Ue,data_offset:xr,data_length:e-xr,transparent_index:xe,interlaced:!!ze,delay:Ae,disposal:Se});break;case 59:Te=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return ke.length},this.loopCount=function(){return Fe},this.frameInfo=function(er){if(er<0||er>=ke.length)throw new Error("Frame index out of range.");return ke[er]},this.decodeAndBlitFrameBGRA=function(er,vr){var gr=this.frameInfo(er),br=gr.width*gr.height,sr=new Uint8Array(br);$t(t,gr.data_offset,sr,br);var nr=gr.palette_offset,Je=gr.transparent_index;Je===null&&(Je=256);var $e=gr.width,tr=r-$e,ir=$e,Xe=4*(gr.y*r+gr.x),cr=4*((gr.y+gr.height)*r+gr.x),Qe=Xe,Ke=4*tr;gr.interlaced===!0&&(Ke+=4*r*7);for(var lr=8,mr=0,Ar=sr.length;mr<Ar;++mr){var Pr=sr[mr];if(ir===0&&(ir=$e,(Qe+=Ke)>=cr&&(Ke=4*tr+4*r*(lr-1),Qe=Xe+($e+tr)*(lr<<1),lr>>=1)),Pr===Je)Qe+=4;else{var Rr=t[nr+3*Pr],Ir=t[nr+3*Pr+1],ur=t[nr+3*Pr+2];vr[Qe++]=ur,vr[Qe++]=Ir,vr[Qe++]=Rr,vr[Qe++]=255}--ir}},this.decodeAndBlitFrameRGBA=function(er,vr){var gr=this.frameInfo(er),br=gr.width*gr.height,sr=new Uint8Array(br);$t(t,gr.data_offset,sr,br);var nr=gr.palette_offset,Je=gr.transparent_index;Je===null&&(Je=256);var $e=gr.width,tr=r-$e,ir=$e,Xe=4*(gr.y*r+gr.x),cr=4*((gr.y+gr.height)*r+gr.x),Qe=Xe,Ke=4*tr;gr.interlaced===!0&&(Ke+=4*r*7);for(var lr=8,mr=0,Ar=sr.length;mr<Ar;++mr){var Pr=sr[mr];if(ir===0&&(ir=$e,(Qe+=Ke)>=cr&&(Ke=4*tr+4*r*(lr-1),Qe=Xe+($e+tr)*(lr<<1),lr>>=1)),Pr===Je)Qe+=4;else{var Rr=t[nr+3*Pr],Ir=t[nr+3*Pr+1],ur=t[nr+3*Pr+2];vr[Qe++]=Rr,vr[Qe++]=Ir,vr[Qe++]=ur,vr[Qe++]=255}--ir}}}function $t(t,e,r,_e){for(var Ce=t[e++],Ee=1<<Ce,Re=Ee+1,Pe=Re+1,St=Ce+1,Te=(1<<St)-1,ke=0,Ae=0,xe=0,Se=t[e++],Fe=new Int32Array(4096),Ie=null;;){for(;ke<16&&Se!==0;)Ae|=t[e++]<<ke,ke+=8,Se===1?Se=t[e++]:--Se;if(ke<St)break;var Me=Ae&Te;if(Ae>>=St,ke-=St,Me!==Ee){if(Me===Re)break;for(var Oe=Me<Pe?Me:Ie,De=0,Be=Oe;Be>Ee;)Be=Fe[Be]>>8,++De;var je=Be;if(xe+De+(Oe!==Me?1:0)>_e)return void a.log("Warning, gif stream longer than expected.");r[xe++]=je;var ze=xe+=De;for(Oe!==Me&&(r[xe++]=je),Be=Oe;De--;)Be=Fe[Be],r[--ze]=255&Be,Be>>=8;Ie!==null&&Pe<4096&&(Fe[Pe++]=Ie<<8|je,Pe>=Te+1&&St<12&&(++St,Te=Te<<1|1)),Ie=Me}else Pe=Re+1,Te=(1<<(St=Ce+1))-1,Ie=null}return xe!==_e&&a.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(t){var e,r,_e,Ce,Ee,Re=Math.floor,Pe=new Array(64),St=new Array(64),Te=new Array(64),ke=new Array(64),Ae=new Array(65535),xe=new Array(65535),Se=new Array(64),Fe=new Array(64),Ie=[],Me=0,Oe=7,De=new Array(64),Be=new Array(64),je=new Array(64),ze=new Array(256),Ge=new Array(2048),We=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ue=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],hr=[0,1,2,3,4,5,6,7,8,9,10,11],xr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],rr=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],er=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],vr=[0,1,2,3,4,5,6,7,8,9,10,11],gr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],br=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function sr(Xe,cr){for(var Qe=0,Ke=0,lr=new Array,mr=1;mr<=16;mr++){for(var Ar=1;Ar<=Xe[mr];Ar++)lr[cr[Ke]]=[],lr[cr[Ke]][0]=Qe,lr[cr[Ke]][1]=mr,Ke++,Qe++;Qe*=2}return lr}function nr(Xe){for(var cr=Xe[0],Qe=Xe[1]-1;Qe>=0;)cr&1<<Qe&&(Me|=1<<Oe),Qe--,--Oe<0&&(Me==255?(Je(255),Je(0)):Je(Me),Oe=7,Me=0)}function Je(Xe){Ie.push(Xe)}function $e(Xe){Je(Xe>>8&255),Je(255&Xe)}function tr(Xe,cr,Qe,Ke,lr){for(var mr,Ar=lr[0],Pr=lr[240],Rr=function(Lr,Dr){var Nr,Mr,Gr,Yr,$r,ti,ri,oi,ni,fi,si=0;for(ni=0;ni<8;++ni){Nr=Lr[si],Mr=Lr[si+1],Gr=Lr[si+2],Yr=Lr[si+3],$r=Lr[si+4],ti=Lr[si+5],ri=Lr[si+6];var Ti=Nr+(oi=Lr[si+7]),wi=Nr-oi,Qi=Mr+ri,yi=Mr-ri,xi=Gr+ti,dn=Gr-ti,ki=Yr+$r,ws=Yr-$r,Bi=Ti+ki,An=Ti-ki,Yn=Qi+xi,ji=Qi-xi;Lr[si]=Bi+Yn,Lr[si+4]=Bi-Yn;var vi=.707106781*(ji+An);Lr[si+2]=An+vi,Lr[si+6]=An-vi;var Li=.382683433*((Bi=ws+dn)-(ji=yi+wi)),Ss=.5411961*Bi+Li,tn=1.306562965*ji+Li,jn=.707106781*(Yn=dn+yi),Vn=wi+jn,mi=wi-jn;Lr[si+5]=mi+Ss,Lr[si+3]=mi-Ss,Lr[si+1]=Vn+tn,Lr[si+7]=Vn-tn,si+=8}for(si=0,ni=0;ni<8;++ni){Nr=Lr[si],Mr=Lr[si+8],Gr=Lr[si+16],Yr=Lr[si+24],$r=Lr[si+32],ti=Lr[si+40],ri=Lr[si+48];var Pn=Nr+(oi=Lr[si+56]),zn=Nr-oi,an=Mr+ri,Xi=Mr-ri,qi=Gr+ti,pn=Gr-ti,Fs=Yr+$r,Xn=Yr-$r,En=Pn+Fs,Tn=Pn-Fs,kn=an+qi,Hn=an-qi;Lr[si]=En+kn,Lr[si+32]=En-kn;var bn=.707106781*(Hn+Tn);Lr[si+16]=Tn+bn,Lr[si+48]=Tn-bn;var Gn=.382683433*((En=Xn+pn)-(Hn=Xi+zn)),xs=.5411961*En+Gn,Ms=1.306562965*Hn+Gn,Os=.707106781*(kn=pn+Xi),Is=zn+Os,Ns=zn-Os;Lr[si+40]=Ns+xs,Lr[si+24]=Ns-xs,Lr[si+8]=Is+Ms,Lr[si+56]=Is-Ms,si++}for(ni=0;ni<64;++ni)fi=Lr[ni]*Dr[ni],Se[ni]=fi>0?fi+.5|0:fi-.5|0;return Se}(Xe,cr),Ir=0;Ir<64;++Ir)Fe[We[Ir]]=Rr[Ir];var ur=Fe[0]-Qe;Qe=Fe[0],ur==0?nr(Ke[0]):(nr(Ke[xe[mr=32767+ur]]),nr(Ae[mr]));for(var ar=63;ar>0&&Fe[ar]==0;)ar--;if(ar==0)return nr(Ar),Qe;for(var Sr,wr=1;wr<=ar;){for(var or=wr;Fe[wr]==0&&wr<=ar;)++wr;var kr=wr-or;if(kr>=16){Sr=kr>>4;for(var Or=1;Or<=Sr;++Or)nr(Pr);kr&=15}mr=32767+Fe[wr],nr(lr[(kr<<4)+xe[mr]]),nr(Ae[mr]),wr++}return ar!=63&&nr(Ar),Qe}function ir(Xe){Xe=Math.min(Math.max(Xe,1),100),Ee!=Xe&&(function(cr){for(var Qe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ke=0;Ke<64;Ke++){var lr=Re((Qe[Ke]*cr+50)/100);lr=Math.min(Math.max(lr,1),255),Pe[We[Ke]]=lr}for(var mr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ar=0;Ar<64;Ar++){var Pr=Re((mr[Ar]*cr+50)/100);Pr=Math.min(Math.max(Pr,1),255),St[We[Ar]]=Pr}for(var Rr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ir=0,ur=0;ur<8;ur++)for(var ar=0;ar<8;ar++)Te[Ir]=1/(Pe[We[Ir]]*Rr[ur]*Rr[ar]*8),ke[Ir]=1/(St[We[Ir]]*Rr[ur]*Rr[ar]*8),Ir++}(Xe<50?Math.floor(5e3/Xe):Math.floor(200-2*Xe)),Ee=Xe)}this.encode=function(Xe,cr){cr&&ir(cr),Ie=new Array,Me=0,Oe=7,$e(65496),$e(65504),$e(16),Je(74),Je(70),Je(73),Je(70),Je(0),Je(1),Je(1),Je(0),$e(1),$e(1),Je(0),Je(0),function(){$e(65499),$e(132),Je(0);for(var Mr=0;Mr<64;Mr++)Je(Pe[Mr]);Je(1);for(var Gr=0;Gr<64;Gr++)Je(St[Gr])}(),function(Mr,Gr){$e(65472),$e(17),Je(8),$e(Gr),$e(Mr),Je(3),Je(1),Je(17),Je(0),Je(2),Je(17),Je(1),Je(3),Je(17),Je(1)}(Xe.width,Xe.height),function(){$e(65476),$e(418),Je(0);for(var Mr=0;Mr<16;Mr++)Je(Ue[Mr+1]);for(var Gr=0;Gr<=11;Gr++)Je(hr[Gr]);Je(16);for(var Yr=0;Yr<16;Yr++)Je(xr[Yr+1]);for(var $r=0;$r<=161;$r++)Je(rr[$r]);Je(1);for(var ti=0;ti<16;ti++)Je(er[ti+1]);for(var ri=0;ri<=11;ri++)Je(vr[ri]);Je(17);for(var oi=0;oi<16;oi++)Je(gr[oi+1]);for(var ni=0;ni<=161;ni++)Je(br[ni])}(),$e(65498),$e(12),Je(3),Je(1),Je(0),Je(2),Je(17),Je(3),Je(17),Je(0),Je(63),Je(0);var Qe=0,Ke=0,lr=0;Me=0,Oe=7,this.encode.displayName="_encode_";for(var mr,Ar,Pr,Rr,Ir,ur,ar,Sr,wr,or=Xe.data,kr=Xe.width,Or=Xe.height,Lr=4*kr,Dr=0;Dr<Or;){for(mr=0;mr<Lr;){for(Ir=Lr*Dr+mr,ar=-1,Sr=0,wr=0;wr<64;wr++)ur=Ir+(Sr=wr>>3)*Lr+(ar=4*(7&wr)),Dr+Sr>=Or&&(ur-=Lr*(Dr+1+Sr-Or)),mr+ar>=Lr&&(ur-=mr+ar-Lr+4),Ar=or[ur++],Pr=or[ur++],Rr=or[ur++],De[wr]=(Ge[Ar]+Ge[Pr+256>>0]+Ge[Rr+512>>0]>>16)-128,Be[wr]=(Ge[Ar+768>>0]+Ge[Pr+1024>>0]+Ge[Rr+1280>>0]>>16)-128,je[wr]=(Ge[Ar+1280>>0]+Ge[Pr+1536>>0]+Ge[Rr+1792>>0]>>16)-128;Qe=tr(De,Te,Qe,e,_e),Ke=tr(Be,ke,Ke,r,Ce),lr=tr(je,ke,lr,r,Ce),mr+=32}Dr+=8}if(Oe>=0){var Nr=[];Nr[1]=Oe+1,Nr[0]=(1<<Oe+1)-1,nr(Nr)}return $e(65497),new Uint8Array(Ie)},t=t||50,function(){for(var Xe=String.fromCharCode,cr=0;cr<256;cr++)ze[cr]=Xe(cr)}(),e=sr(Ue,hr),r=sr(er,vr),_e=sr(xr,rr),Ce=sr(gr,br),function(){for(var Xe=1,cr=2,Qe=1;Qe<=15;Qe++){for(var Ke=Xe;Ke<cr;Ke++)xe[32767+Ke]=Qe,Ae[32767+Ke]=[],Ae[32767+Ke][1]=Qe,Ae[32767+Ke][0]=Ke;for(var lr=-(cr-1);lr<=-Xe;lr++)xe[32767+lr]=Qe,Ae[32767+lr]=[],Ae[32767+lr][1]=Qe,Ae[32767+lr][0]=cr-1+lr;Xe<<=1,cr<<=1}}(),function(){for(var Xe=0;Xe<256;Xe++)Ge[Xe]=19595*Xe,Ge[Xe+256>>0]=38470*Xe,Ge[Xe+512>>0]=7471*Xe+32768,Ge[Xe+768>>0]=-11059*Xe,Ge[Xe+1024>>0]=-21709*Xe,Ge[Xe+1280>>0]=32768*Xe+8421375,Ge[Xe+1536>>0]=-27439*Xe,Ge[Xe+1792>>0]=-5329*Xe}(),ir(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(t){function e(Ue){if(!Ue)throw Error("assert :P")}function r(Ue,hr,xr){for(var rr=0;4>rr;rr++)if(Ue[hr+rr]!=xr.charCodeAt(rr))return!0;return!1}function _e(Ue,hr,xr,rr,er){for(var vr=0;vr<er;vr++)Ue[hr+vr]=xr[rr+vr]}function Ce(Ue,hr,xr,rr){for(var er=0;er<rr;er++)Ue[hr+er]=xr}function Ee(Ue){return new Int32Array(Ue)}function Re(Ue,hr){for(var xr=[],rr=0;rr<Ue;rr++)xr.push(new hr);return xr}function Pe(Ue,hr){var xr=[];return function rr(er,vr,gr){for(var br=gr[vr],sr=0;sr<br&&(er.push(gr.length>vr+1?[]:new hr),!(gr.length<vr+1));sr++)rr(er[sr],vr+1,gr)}(xr,0,Ue),xr}var St=function(){var Ue=this;function hr(Ve,He){for(var Ye=1<<He-1>>>0;Ve&Ye;)Ye>>>=1;return Ye?(Ve&Ye-1)+Ye:Ve}function xr(Ve,He,Ye,Ze,dr){e(!(Ze%Ye));do Ve[He+(Ze-=Ye)]=dr;while(0<Ze)}function rr(Ve,He,Ye,Ze,dr){if(e(2328>=dr),512>=dr)var yr=Ee(512);else if((yr=Ee(dr))==null)return 0;return function(_r,Cr,Er,Tr,jr,Ur){var Wr,Hr,Qr=Cr,Xr=1<<Er,Vr=Ee(16),zr=Ee(16);for(e(jr!=0),e(Tr!=null),e(_r!=null),e(0<Er),Hr=0;Hr<jr;++Hr){if(15<Tr[Hr])return 0;++Vr[Tr[Hr]]}if(Vr[0]==jr)return 0;for(zr[1]=0,Wr=1;15>Wr;++Wr){if(Vr[Wr]>1<<Wr)return 0;zr[Wr+1]=zr[Wr]+Vr[Wr]}for(Hr=0;Hr<jr;++Hr)Wr=Tr[Hr],0<Tr[Hr]&&(Ur[zr[Wr]++]=Hr);if(zr[15]==1)return(Tr=new er).g=0,Tr.value=Ur[0],xr(_r,Qr,1,Xr,Tr),Xr;var Jr,ei=-1,Zr=Xr-1,ci=0,ai=1,pi=1,li=1<<Er;for(Hr=0,Wr=1,jr=2;Wr<=Er;++Wr,jr<<=1){if(ai+=pi<<=1,0>(pi-=Vr[Wr]))return 0;for(;0<Vr[Wr];--Vr[Wr])(Tr=new er).g=Wr,Tr.value=Ur[Hr++],xr(_r,Qr+ci,jr,li,Tr),ci=hr(ci,Wr)}for(Wr=Er+1,jr=2;15>=Wr;++Wr,jr<<=1){if(ai+=pi<<=1,0>(pi-=Vr[Wr]))return 0;for(;0<Vr[Wr];--Vr[Wr]){if(Tr=new er,(ci&Zr)!=ei){for(Qr+=li,Jr=1<<(ei=Wr)-Er;15>ei&&!(0>=(Jr-=Vr[ei]));)++ei,Jr<<=1;Xr+=li=1<<(Jr=ei-Er),_r[Cr+(ei=ci&Zr)].g=Jr+Er,_r[Cr+ei].value=Qr-Cr-ei}Tr.g=Wr-Er,Tr.value=Ur[Hr++],xr(_r,Qr+(ci>>Er),jr,li,Tr),ci=hr(ci,Wr)}}return ai!=2*zr[15]-1?0:Xr}(Ve,He,Ye,Ze,dr,yr)}function er(){this.value=this.g=0}function vr(){this.value=this.g=0}function gr(){this.G=Re(5,er),this.H=Ee(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Re(hn,vr)}function br(Ve,He,Ye,Ze){e(Ve!=null),e(He!=null),e(2147483648>Ze),Ve.Ca=254,Ve.I=0,Ve.b=-8,Ve.Ka=0,Ve.oa=He,Ve.pa=Ye,Ve.Jd=He,Ve.Yc=Ye+Ze,Ve.Zc=4<=Ze?Ye+Ze-4+1:Ye,mr(Ve)}function sr(Ve,He){for(var Ye=0;0<He--;)Ye|=Pr(Ve,128)<<He;return Ye}function nr(Ve,He){var Ye=sr(Ve,He);return Ar(Ve)?-Ye:Ye}function Je(Ve,He,Ye,Ze){var dr,yr=0;for(e(Ve!=null),e(He!=null),e(4294967288>Ze),Ve.Sb=Ze,Ve.Ra=0,Ve.u=0,Ve.h=0,4<Ze&&(Ze=4),dr=0;dr<Ze;++dr)yr+=He[Ye+dr]<<8*dr;Ve.Ra=yr,Ve.bb=Ze,Ve.oa=He,Ve.pa=Ye}function $e(Ve){for(;8<=Ve.u&&Ve.bb<Ve.Sb;)Ve.Ra>>>=8,Ve.Ra+=Ve.oa[Ve.pa+Ve.bb]<<Ks-8>>>0,++Ve.bb,Ve.u-=8;Qe(Ve)&&(Ve.h=1,Ve.u=0)}function tr(Ve,He){if(e(0<=He),!Ve.h&&He<=$s){var Ye=cr(Ve)&Xs[He];return Ve.u+=He,$e(Ve),Ye}return Ve.h=1,Ve.u=0}function ir(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Xe(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function cr(Ve){return Ve.Ra>>>(Ve.u&Ks-1)>>>0}function Qe(Ve){return e(Ve.bb<=Ve.Sb),Ve.h||Ve.bb==Ve.Sb&&Ve.u>Ks}function Ke(Ve,He){Ve.u=He,Ve.h=Qe(Ve)}function lr(Ve){Ve.u>=Ca&&(e(Ve.u>=Ca),$e(Ve))}function mr(Ve){e(Ve!=null&&Ve.oa!=null),Ve.pa<Ve.Zc?(Ve.I=(Ve.oa[Ve.pa++]|Ve.I<<8)>>>0,Ve.b+=8):(e(Ve!=null&&Ve.oa!=null),Ve.pa<Ve.Yc?(Ve.b+=8,Ve.I=Ve.oa[Ve.pa++]|Ve.I<<8):Ve.Ka?Ve.b=0:(Ve.I<<=8,Ve.b+=8,Ve.Ka=1))}function Ar(Ve){return sr(Ve,1)}function Pr(Ve,He){var Ye=Ve.Ca;0>Ve.b&&mr(Ve);var Ze=Ve.b,dr=Ye*He>>>8,yr=(Ve.I>>>Ze>dr)+0;for(yr?(Ye-=dr,Ve.I-=dr+1<<Ze>>>0):Ye=dr+1,Ze=Ye,dr=0;256<=Ze;)dr+=8,Ze>>=8;return Ze=7^dr+cn[Ze],Ve.b-=Ze,Ve.Ca=(Ye<<Ze)-1,yr}function Rr(Ve,He,Ye){Ve[He+0]=Ye>>24&255,Ve[He+1]=Ye>>16&255,Ve[He+2]=Ye>>8&255,Ve[He+3]=Ye>>0&255}function Ir(Ve,He){return Ve[He+0]<<0|Ve[He+1]<<8}function ur(Ve,He){return Ir(Ve,He)|Ve[He+2]<<16}function ar(Ve,He){return Ir(Ve,He)|Ir(Ve,He+2)<<16}function Sr(Ve,He){var Ye=1<<He;return e(Ve!=null),e(0<He),Ve.X=Ee(Ye),Ve.X==null?0:(Ve.Mb=32-He,Ve.Xa=He,1)}function wr(Ve,He){e(Ve!=null),e(He!=null),e(Ve.Xa==He.Xa),_e(He.X,0,Ve.X,0,1<<He.Xa)}function or(){this.X=[],this.Xa=this.Mb=0}function kr(Ve,He,Ye,Ze){e(Ye!=null),e(Ze!=null);var dr=Ye[0],yr=Ze[0];return dr==0&&(dr=(Ve*yr+He/2)/He),yr==0&&(yr=(He*dr+Ve/2)/Ve),0>=dr||0>=yr?0:(Ye[0]=dr,Ze[0]=yr,1)}function Or(Ve,He){return Ve+(1<<He)-1>>>He}function Lr(Ve,He){return((4278255360&Ve)+(4278255360&He)>>>0&4278255360)+((16711935&Ve)+(16711935&He)>>>0&16711935)>>>0}function Dr(Ve,He){Ue[He]=function(Ye,Ze,dr,yr,_r,Cr,Er){var Tr;for(Tr=0;Tr<_r;++Tr){var jr=Ue[Ve](Cr[Er+Tr-1],dr,yr+Tr);Cr[Er+Tr]=Lr(Ye[Ze+Tr],jr)}}}function Nr(){this.ud=this.hd=this.jd=0}function Mr(Ve,He){return((4278124286&(Ve^He))>>>1)+(Ve&He)>>>0}function Gr(Ve){return 0<=Ve&&256>Ve?Ve:0>Ve?0:255<Ve?255:void 0}function Yr(Ve,He){return Gr(Ve+(Ve-He+.5>>1))}function $r(Ve,He,Ye){return Math.abs(He-Ye)-Math.abs(Ve-Ye)}function ti(Ve,He,Ye,Ze,dr,yr,_r){for(Ze=yr[_r-1],Ye=0;Ye<dr;++Ye)yr[_r+Ye]=Ze=Lr(Ve[He+Ye],Ze)}function ri(Ve,He,Ye,Ze,dr){var yr;for(yr=0;yr<Ye;++yr){var _r=Ve[He+yr],Cr=_r>>8&255,Er=16711935&(Er=(Er=16711935&_r)+((Cr<<16)+Cr));Ze[dr+yr]=(4278255360&_r)+Er>>>0}}function oi(Ve,He){He.jd=Ve>>0&255,He.hd=Ve>>8&255,He.ud=Ve>>16&255}function ni(Ve,He,Ye,Ze,dr,yr){var _r;for(_r=0;_r<Ze;++_r){var Cr=He[Ye+_r],Er=Cr>>>8,Tr=Cr,jr=255&(jr=(jr=Cr>>>16)+((Ve.jd<<24>>24)*(Er<<24>>24)>>>5));Tr=255&(Tr=(Tr=Tr+((Ve.hd<<24>>24)*(Er<<24>>24)>>>5))+((Ve.ud<<24>>24)*(jr<<24>>24)>>>5)),dr[yr+_r]=(4278255360&Cr)+(jr<<16)+Tr}}function fi(Ve,He,Ye,Ze,dr){Ue[He]=function(yr,_r,Cr,Er,Tr,jr,Ur,Wr,Hr){for(Er=Ur;Er<Wr;++Er)for(Ur=0;Ur<Hr;++Ur)Tr[jr++]=dr(Cr[Ze(yr[_r++])])},Ue[Ve]=function(yr,_r,Cr,Er,Tr,jr,Ur){var Wr=8>>yr.b,Hr=yr.Ea,Qr=yr.K[0],Xr=yr.w;if(8>Wr)for(yr=(1<<yr.b)-1,Xr=(1<<Wr)-1;_r<Cr;++_r){var Vr,zr=0;for(Vr=0;Vr<Hr;++Vr)Vr&yr||(zr=Ze(Er[Tr++])),jr[Ur++]=dr(Qr[zr&Xr]),zr>>=Wr}else Ue["VP8LMapColor"+Ye](Er,Tr,Qr,Xr,jr,Ur,_r,Cr,Hr)}}function si(Ve,He,Ye,Ze,dr){for(Ye=He+Ye;He<Ye;){var yr=Ve[He++];Ze[dr++]=yr>>16&255,Ze[dr++]=yr>>8&255,Ze[dr++]=yr>>0&255}}function Ti(Ve,He,Ye,Ze,dr){for(Ye=He+Ye;He<Ye;){var yr=Ve[He++];Ze[dr++]=yr>>16&255,Ze[dr++]=yr>>8&255,Ze[dr++]=yr>>0&255,Ze[dr++]=yr>>24&255}}function wi(Ve,He,Ye,Ze,dr){for(Ye=He+Ye;He<Ye;){var yr=(_r=Ve[He++])>>16&240|_r>>12&15,_r=_r>>0&240|_r>>28&15;Ze[dr++]=yr,Ze[dr++]=_r}}function Qi(Ve,He,Ye,Ze,dr){for(Ye=He+Ye;He<Ye;){var yr=(_r=Ve[He++])>>16&248|_r>>13&7,_r=_r>>5&224|_r>>3&31;Ze[dr++]=yr,Ze[dr++]=_r}}function yi(Ve,He,Ye,Ze,dr){for(Ye=He+Ye;He<Ye;){var yr=Ve[He++];Ze[dr++]=yr>>0&255,Ze[dr++]=yr>>8&255,Ze[dr++]=yr>>16&255}}function xi(Ve,He,Ye,Ze,dr,yr){if(yr==0)for(Ye=He+Ye;He<Ye;)Rr(Ze,((yr=Ve[He++])[0]>>24|yr[1]>>8&65280|yr[2]<<8&16711680|yr[3]<<24)>>>0),dr+=32;else _e(Ze,dr,Ve,He,Ye)}function dn(Ve,He){Ue[He][0]=Ue[Ve+"0"],Ue[He][1]=Ue[Ve+"1"],Ue[He][2]=Ue[Ve+"2"],Ue[He][3]=Ue[Ve+"3"],Ue[He][4]=Ue[Ve+"4"],Ue[He][5]=Ue[Ve+"5"],Ue[He][6]=Ue[Ve+"6"],Ue[He][7]=Ue[Ve+"7"],Ue[He][8]=Ue[Ve+"8"],Ue[He][9]=Ue[Ve+"9"],Ue[He][10]=Ue[Ve+"10"],Ue[He][11]=Ue[Ve+"11"],Ue[He][12]=Ue[Ve+"12"],Ue[He][13]=Ue[Ve+"13"],Ue[He][14]=Ue[Ve+"0"],Ue[He][15]=Ue[Ve+"0"]}function ki(Ve){return Ve==Zo||Ve==Qo||Ve==lo||Ve==tl}function ws(){this.eb=[],this.size=this.A=this.fb=0}function Bi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function An(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ws,this.f.kb=new Bi,this.sd=null}function Yn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ji(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vi(Ve){return alert("todo:WebPSamplerProcessPlane"),Ve.T}function Li(Ve,He){var Ye=Ve.T,Ze=He.ba.f.RGBA,dr=Ze.eb,yr=Ze.fb+Ve.ka*Ze.A,_r=xn[He.ba.S],Cr=Ve.y,Er=Ve.O,Tr=Ve.f,jr=Ve.N,Ur=Ve.ea,Wr=Ve.W,Hr=He.cc,Qr=He.dc,Xr=He.Mc,Vr=He.Nc,zr=Ve.ka,Jr=Ve.ka+Ve.T,ei=Ve.U,Zr=ei+1>>1;for(zr==0?_r(Cr,Er,null,null,Tr,jr,Ur,Wr,Tr,jr,Ur,Wr,dr,yr,null,null,ei):(_r(He.ec,He.fc,Cr,Er,Hr,Qr,Xr,Vr,Tr,jr,Ur,Wr,dr,yr-Ze.A,dr,yr,ei),++Ye);zr+2<Jr;zr+=2)Hr=Tr,Qr=jr,Xr=Ur,Vr=Wr,jr+=Ve.Rc,Wr+=Ve.Rc,yr+=2*Ze.A,_r(Cr,(Er+=2*Ve.fa)-Ve.fa,Cr,Er,Hr,Qr,Xr,Vr,Tr,jr,Ur,Wr,dr,yr-Ze.A,dr,yr,ei);return Er+=Ve.fa,Ve.j+Jr<Ve.o?(_e(He.ec,He.fc,Cr,Er,ei),_e(He.cc,He.dc,Tr,jr,Zr),_e(He.Mc,He.Nc,Ur,Wr,Zr),Ye--):1&Jr||_r(Cr,Er,null,null,Tr,jr,Ur,Wr,Tr,jr,Ur,Wr,dr,yr+Ze.A,null,null,ei),Ye}function Ss(Ve,He,Ye){var Ze=Ve.F,dr=[Ve.J];if(Ze!=null){var yr=Ve.U,_r=He.ba.S,Cr=_r==oo||_r==lo;He=He.ba.f.RGBA;var Er=[0],Tr=Ve.ka;Er[0]=Ve.T,Ve.Kb&&(Tr==0?--Er[0]:(--Tr,dr[0]-=Ve.width),Ve.j+Ve.ka+Ve.T==Ve.o&&(Er[0]=Ve.o-Ve.j-Tr));var jr=He.eb;Tr=He.fb+Tr*He.A,Ve=ro(Ze,dr[0],Ve.width,yr,Er,jr,Tr+(Cr?0:3),He.A),e(Ye==Er),Ve&&ki(_r)&&ds(jr,Tr,Cr,yr,Er,He.A)}return 0}function tn(Ve){var He=Ve.ma,Ye=He.ba.S,Ze=11>Ye,dr=Ye==so||Ye==ao||Ye==oo||Ye==Jo||Ye==12||ki(Ye);if(He.memory=null,He.Ib=null,He.Jb=null,He.Nd=null,!Sa(He.Oa,Ve,dr?11:12))return 0;if(dr&&ki(Ye)&&ii(),Ve.da)alert("todo:use_scaling");else{if(Ze){if(He.Ib=vi,Ve.Kb){if(Ye=Ve.U+1>>1,He.memory=Ee(Ve.U+2*Ye),He.memory==null)return 0;He.ec=He.memory,He.fc=0,He.cc=He.ec,He.dc=He.fc+Ve.U,He.Mc=He.cc,He.Nc=He.dc+Ye,He.Ib=Li,ii()}}else alert("todo:EmitYUV");dr&&(He.Jb=Ss,Ze&&qr())}if(Ze&&!Ll){for(Ve=0;256>Ve;++Ve)uh[Ve]=89858*(Ve-128)+co>>ho,mh[Ve]=-22014*(Ve-128)+co,ph[Ve]=-45773*(Ve-128),dh[Ve]=113618*(Ve-128)+co>>ho;for(Ve=La;Ve<il;++Ve)He=76283*(Ve-16)+co>>ho,gh[Ve-La]=mn(He,255),vh[Ve-La]=mn(He+8>>4,15);Ll=1}return 1}function jn(Ve){var He=Ve.ma,Ye=Ve.U,Ze=Ve.T;return e(!(1&Ve.ka)),0>=Ye||0>=Ze?0:(Ye=He.Ib(Ve,He),He.Jb!=null&&He.Jb(Ve,He,Ye),He.Dc+=Ye,1)}function Vn(Ve){Ve.ma.memory=null}function mi(Ve,He,Ye,Ze){return tr(Ve,8)!=47?0:(He[0]=tr(Ve,14)+1,Ye[0]=tr(Ve,14)+1,Ze[0]=tr(Ve,1),tr(Ve,3)!=0?0:!Ve.h)}function Pn(Ve,He){if(4>Ve)return Ve+1;var Ye=Ve-2>>1;return(2+(1&Ve)<<Ye)+tr(He,Ye)+1}function zn(Ve,He){return 120<He?He-120:1<=(Ye=((Ye=Zl[He-1])>>4)*Ve+(8-(15&Ye)))?Ye:1;var Ye}function an(Ve,He,Ye){var Ze=cr(Ye),dr=Ve[He+=255&Ze].g-8;return 0<dr&&(Ke(Ye,Ye.u+8),Ze=cr(Ye),He+=Ve[He].value,He+=Ze&(1<<dr)-1),Ke(Ye,Ye.u+Ve[He].g),Ve[He].value}function Xi(Ve,He,Ye){return Ye.g+=Ve.g,Ye.value+=Ve.value<<He>>>0,e(8>=Ye.g),Ve.g}function qi(Ve,He,Ye){var Ze=Ve.xc;return e((He=Ze==0?0:Ve.vc[Ve.md*(Ye>>Ze)+(He>>Ze)])<Ve.Wb),Ve.Ya[He]}function pn(Ve,He,Ye,Ze){var dr=Ve.ab,yr=Ve.c*He,_r=Ve.C;He=_r+He;var Cr=Ye,Er=Ze;for(Ze=Ve.Ta,Ye=Ve.Ua;0<dr--;){var Tr=Ve.gc[dr],jr=_r,Ur=He,Wr=Cr,Hr=Er,Qr=(Er=Ze,Cr=Ye,Tr.Ea);switch(e(jr<Ur),e(Ur<=Tr.nc),Tr.hc){case 2:eo(Wr,Hr,(Ur-jr)*Qr,Er,Cr);break;case 0:var Xr=jr,Vr=Ur,zr=Er,Jr=Cr,ei=(li=Tr).Ea;Xr==0&&(Yo(Wr,Hr,null,null,1,zr,Jr),ti(Wr,Hr+1,0,0,ei-1,zr,Jr+1),Hr+=ei,Jr+=ei,++Xr);for(var Zr=1<<li.b,ci=Zr-1,ai=Or(ei,li.b),pi=li.K,li=li.w+(Xr>>li.b)*ai;Xr<Vr;){var Ei=pi,Fi=li,Pi=1;for(Aa(Wr,Hr,zr,Jr-ei,1,zr,Jr);Pi<ei;){var Ci=(Pi&~ci)+Zr;Ci>ei&&(Ci=ei),(0,hs[Ei[Fi++]>>8&15])(Wr,Hr+ +Pi,zr,Jr+Pi-ei,Ci-Pi,zr,Jr+Pi),Pi=Ci}Hr+=ei,Jr+=ei,++Xr&ci||(li+=ai)}Ur!=Tr.nc&&_e(Er,Cr-Qr,Er,Cr+(Ur-jr-1)*Qr,Qr);break;case 1:for(Qr=Wr,Vr=Hr,ei=(Wr=Tr.Ea)-(Jr=Wr&~(zr=(Hr=1<<Tr.b)-1)),Xr=Or(Wr,Tr.b),Zr=Tr.K,Tr=Tr.w+(jr>>Tr.b)*Xr;jr<Ur;){for(ci=Zr,ai=Tr,pi=new Nr,li=Vr+Jr,Ei=Vr+Wr;Vr<li;)oi(ci[ai++],pi),_n(pi,Qr,Vr,Hr,Er,Cr),Vr+=Hr,Cr+=Hr;Vr<Ei&&(oi(ci[ai++],pi),_n(pi,Qr,Vr,ei,Er,Cr),Vr+=ei,Cr+=ei),++jr&zr||(Tr+=Xr)}break;case 3:if(Wr==Er&&Hr==Cr&&0<Tr.b){for(Vr=Er,Wr=Qr=Cr+(Ur-jr)*Qr-(Jr=(Ur-jr)*Or(Tr.Ea,Tr.b)),Hr=Er,zr=Cr,Xr=[],Jr=(ei=Jr)-1;0<=Jr;--Jr)Xr[Jr]=Hr[zr+Jr];for(Jr=ei-1;0<=Jr;--Jr)Vr[Wr+Jr]=Xr[Jr];On(Tr,jr,Ur,Er,Qr,Er,Cr)}else On(Tr,jr,Ur,Wr,Hr,Er,Cr)}Cr=Ze,Er=Ye}Er!=Ye&&_e(Ze,Ye,Cr,Er,yr)}function Fs(Ve,He){var Ye=Ve.V,Ze=Ve.Ba+Ve.c*Ve.C,dr=He-Ve.C;if(e(He<=Ve.l.o),e(16>=dr),0<dr){var yr=Ve.l,_r=Ve.Ta,Cr=Ve.Ua,Er=yr.width;if(pn(Ve,dr,Ye,Ze),dr=Cr=[Cr],e((Ye=Ve.C)<(Ze=He)),e(yr.v<yr.va),Ze>yr.o&&(Ze=yr.o),Ye<yr.j){var Tr=yr.j-Ye;Ye=yr.j,dr[0]+=Tr*Er}if(Ye>=Ze?Ye=0:(dr[0]+=4*yr.v,yr.ka=Ye-yr.j,yr.U=yr.va-yr.v,yr.T=Ze-Ye,Ye=1),Ye){if(Cr=Cr[0],11>(Ye=Ve.ca).S){var jr=Ye.f.RGBA,Ur=(Ze=Ye.S,dr=yr.U,yr=yr.T,Tr=jr.eb,jr.A),Wr=yr;for(jr=jr.fb+Ve.Ma*jr.A;0<Wr--;){var Hr=_r,Qr=Cr,Xr=dr,Vr=Tr,zr=jr;switch(Ze){case no:In(Hr,Qr,Xr,Vr,zr);break;case so:cs(Hr,Qr,Xr,Vr,zr);break;case Zo:cs(Hr,Qr,Xr,Vr,zr),ds(Vr,zr,0,Xr,1,0);break;case _l:Js(Hr,Qr,Xr,Vr,zr);break;case ao:xi(Hr,Qr,Xr,Vr,zr,1);break;case Qo:xi(Hr,Qr,Xr,Vr,zr,1),ds(Vr,zr,0,Xr,1,0);break;case oo:xi(Hr,Qr,Xr,Vr,zr,0);break;case lo:xi(Hr,Qr,Xr,Vr,zr,0),ds(Vr,zr,1,Xr,1,0);break;case Jo:Un(Hr,Qr,Xr,Vr,zr);break;case tl:Un(Hr,Qr,Xr,Vr,zr),ta(Vr,zr,Xr,1,0);break;case wl:Zn(Hr,Qr,Xr,Vr,zr);break;default:e(0)}Cr+=Er,jr+=Ur}Ve.Ma+=yr}else alert("todo:EmitRescaledRowsYUVA");e(Ve.Ma<=Ye.height)}}Ve.C=He,e(Ve.C<=Ve.i)}function Xn(Ve){var He;if(0<Ve.ua)return 0;for(He=0;He<Ve.Wb;++He){var Ye=Ve.Ya[He].G,Ze=Ve.Ya[He].H;if(0<Ye[1][Ze[1]+0].g||0<Ye[2][Ze[2]+0].g||0<Ye[3][Ze[3]+0].g)return 0}return 1}function En(Ve,He,Ye,Ze,dr,yr){if(Ve.Z!=0){var _r=Ve.qd,Cr=Ve.rd;for(e(ms[Ve.Z]!=null);He<Ye;++He)ms[Ve.Z](_r,Cr,Ze,dr,Ze,dr,yr),_r=Ze,Cr=dr,dr+=yr;Ve.qd=_r,Ve.rd=Cr}}function Tn(Ve,He){var Ye=Ve.l.ma,Ze=Ye.Z==0||Ye.Z==1?Ve.l.j:Ve.C;if(Ze=Ve.C<Ze?Ze:Ve.C,e(He<=Ve.l.o),He>Ze){var dr=Ve.l.width,yr=Ye.ca,_r=Ye.tb+dr*Ze,Cr=Ve.V,Er=Ve.Ba+Ve.c*Ze,Tr=Ve.gc;e(Ve.ab==1),e(Tr[0].hc==3),Xo(Tr[0],Ze,He,Cr,Er,yr,_r),En(Ye,Ze,He,yr,_r,dr)}Ve.C=Ve.Ma=He}function kn(Ve,He,Ye,Ze,dr,yr,_r){var Cr=Ve.$/Ze,Er=Ve.$%Ze,Tr=Ve.m,jr=Ve.s,Ur=Ye+Ve.$,Wr=Ur;dr=Ye+Ze*dr;var Hr=Ye+Ze*yr,Qr=280+jr.ua,Xr=Ve.Pb?Cr:16777216,Vr=0<jr.ua?jr.Wa:null,zr=jr.wc,Jr=Ur<Hr?qi(jr,Er,Cr):null;e(Ve.C<yr),e(Hr<=dr);var ei=!1;t:for(;;){for(;ei||Ur<Hr;){var Zr=0;if(Cr>=Xr){var ci=Ur-Ye;e((Xr=Ve).Pb),Xr.wd=Xr.m,Xr.xd=ci,0<Xr.s.ua&&wr(Xr.s.Wa,Xr.s.vb),Xr=Cr+th}if(Er&zr||(Jr=qi(jr,Er,Cr)),e(Jr!=null),Jr.Qb&&(He[Ur]=Jr.qb,ei=!0),!ei)if(lr(Tr),Jr.jc){Zr=Tr,ci=He;var ai=Ur,pi=Jr.pd[cr(Zr)&hn-1];e(Jr.jc),256>pi.g?(Ke(Zr,Zr.u+pi.g),ci[ai]=pi.value,Zr=0):(Ke(Zr,Zr.u+pi.g-256),e(256<=pi.value),Zr=pi.value),Zr==0&&(ei=!0)}else Zr=an(Jr.G[0],Jr.H[0],Tr);if(Tr.h)break;if(ei||256>Zr){if(!ei)if(Jr.nd)He[Ur]=(Jr.qb|Zr<<8)>>>0;else{if(lr(Tr),ei=an(Jr.G[1],Jr.H[1],Tr),lr(Tr),ci=an(Jr.G[2],Jr.H[2],Tr),ai=an(Jr.G[3],Jr.H[3],Tr),Tr.h)break;He[Ur]=(ai<<24|ei<<16|Zr<<8|ci)>>>0}if(ei=!1,++Ur,++Er>=Ze&&(Er=0,++Cr,_r!=null&&Cr<=yr&&!(Cr%16)&&_r(Ve,Cr),Vr!=null))for(;Wr<Ur;)Zr=He[Wr++],Vr.X[(506832829*Zr&4294967295)>>>Vr.Mb]=Zr}else if(280>Zr){if(Zr=Pn(Zr-256,Tr),ci=an(Jr.G[4],Jr.H[4],Tr),lr(Tr),ci=zn(Ze,ci=Pn(ci,Tr)),Tr.h)break;if(Ur-Ye<ci||dr-Ur<Zr)break t;for(ai=0;ai<Zr;++ai)He[Ur+ai]=He[Ur+ai-ci];for(Ur+=Zr,Er+=Zr;Er>=Ze;)Er-=Ze,++Cr,_r!=null&&Cr<=yr&&!(Cr%16)&&_r(Ve,Cr);if(e(Ur<=dr),Er&zr&&(Jr=qi(jr,Er,Cr)),Vr!=null)for(;Wr<Ur;)Zr=He[Wr++],Vr.X[(506832829*Zr&4294967295)>>>Vr.Mb]=Zr}else{if(!(Zr<Qr))break t;for(ei=Zr-280,e(Vr!=null);Wr<Ur;)Zr=He[Wr++],Vr.X[(506832829*Zr&4294967295)>>>Vr.Mb]=Zr;Zr=Ur,e(!(ei>>>(ci=Vr).Xa)),He[Zr]=ci.X[ei],ei=!0}ei||e(Tr.h==Qe(Tr))}if(Ve.Pb&&Tr.h&&Ur<dr)e(Ve.m.h),Ve.a=5,Ve.m=Ve.wd,Ve.$=Ve.xd,0<Ve.s.ua&&wr(Ve.s.vb,Ve.s.Wa);else{if(Tr.h)break t;_r!=null&&_r(Ve,Cr>yr?yr:Cr),Ve.a=0,Ve.$=Ur-Ye}return 1}return Ve.a=3,0}function Hn(Ve){e(Ve!=null),Ve.vc=null,Ve.yc=null,Ve.Ya=null;var He=Ve.Wa;He!=null&&(He.X=null),Ve.vb=null,e(Ve!=null)}function bn(){var Ve=new Wo;return Ve==null?null:(Ve.a=0,Ve.xb=Cl,dn("Predictor","VP8LPredictors"),dn("Predictor","VP8LPredictors_C"),dn("PredictorAdd","VP8LPredictorsAdd"),dn("PredictorAdd","VP8LPredictorsAdd_C"),eo=ri,_n=ni,In=si,cs=Ti,Un=wi,Zn=Qi,Js=yi,Ue.VP8LMapColor32b=Pa,Ue.VP8LMapColor8b=$o,Ve)}function Gn(Ve,He,Ye,Ze,dr){var yr=1,_r=[Ve],Cr=[He],Er=Ze.m,Tr=Ze.s,jr=null,Ur=0;t:for(;;){if(Ye)for(;yr&&tr(Er,1);){var Wr=_r,Hr=Cr,Qr=Ze,Xr=1,Vr=Qr.m,zr=Qr.gc[Qr.ab],Jr=tr(Vr,2);if(Qr.Oc&1<<Jr)yr=0;else{switch(Qr.Oc|=1<<Jr,zr.hc=Jr,zr.Ea=Wr[0],zr.nc=Hr[0],zr.K=[null],++Qr.ab,e(4>=Qr.ab),Jr){case 0:case 1:zr.b=tr(Vr,3)+2,Xr=Gn(Or(zr.Ea,zr.b),Or(zr.nc,zr.b),0,Qr,zr.K),zr.K=zr.K[0];break;case 3:var ei,Zr=tr(Vr,8)+1,ci=16<Zr?0:4<Zr?1:2<Zr?2:3;if(Wr[0]=Or(zr.Ea,ci),zr.b=ci,ei=Xr=Gn(Zr,1,0,Qr,zr.K)){var ai,pi=Zr,li=zr,Ei=1<<(8>>li.b),Fi=Ee(Ei);if(Fi==null)ei=0;else{var Pi=li.K[0],Ci=li.w;for(Fi[0]=li.K[0][0],ai=1;ai<1*pi;++ai)Fi[ai]=Lr(Pi[Ci+ai],Fi[ai-1]);for(;ai<4*Ei;++ai)Fi[ai]=0;li.K[0]=null,li.K[0]=Fi,ei=1}}Xr=ei;break;case 2:break;default:e(0)}yr=Xr}}if(_r=_r[0],Cr=Cr[0],yr&&tr(Er,1)&&!(yr=1<=(Ur=tr(Er,4))&&11>=Ur)){Ze.a=3;break t}var Ii;if(Ii=yr)e:{var Oi,_i,Wi,fn=Ze,Yi=_r,un=Cr,Mi=Ur,vn=Ye,yn=fn.m,Ji=fn.s,en=[null],sn=1,Cn=0,Wn=Ql[Mi];r:for(;;){if(vn&&tr(yn,1)){var Zi=tr(yn,3)+2,is=Or(Yi,Zi),Ls=Or(un,Zi),ea=is*Ls;if(!Gn(is,Ls,0,fn,en))break r;for(en=en[0],Ji.xc=Zi,Oi=0;Oi<ea;++Oi){var gs=en[Oi]>>8&65535;en[Oi]=gs,gs>=sn&&(sn=gs+1)}}if(yn.h)break r;for(_i=0;5>_i;++_i){var zi=Sl[_i];!_i&&0<Mi&&(zi+=1<<Mi),Cn<zi&&(Cn=zi)}var nl=Re(sn*Wn,er),Ol=sn,Il=Re(Ol,gr);if(Il==null)var uo=null;else e(65536>=Ol),uo=Il;var Fa=Ee(Cn);if(uo==null||Fa==null||nl==null){fn.a=1;break r}var po=nl;for(Oi=Wi=0;Oi<sn;++Oi){var Bn=uo[Oi],ra=Bn.G,ia=Bn.H,Nl=0,mo=1,Rl=0;for(_i=0;5>_i;++_i){zi=Sl[_i],ra[_i]=po,ia[_i]=Wi,!_i&&0<Mi&&(zi+=1<<Mi);n:{var go,sl=zi,vo=fn,Ma=Fa,_h=po,wh=Wi,al=0,vs=vo.m,Sh=tr(vs,1);if(Ce(Ma,0,0,sl),Sh){var xh=tr(vs,1)+1,Ch=tr(vs,1),Dl=tr(vs,Ch==0?1:8);Ma[Dl]=1,xh==2&&(Ma[Dl=tr(vs,8)]=1);var yo=1}else{var Bl=Ee(19),jl=tr(vs,4)+4;if(19<jl){vo.a=3;var bo=0;break n}for(go=0;go<jl;++go)Bl[Jl[go]]=tr(vs,3);var ol=void 0,Oa=void 0,Vl=vo,Ah=Bl,_o=sl,zl=Ma,ll=0,ys=Vl.m,Hl=8,Gl=Re(128,er);i:for(;rr(Gl,0,7,Ah,19);){if(tr(ys,1)){var Ph=2+2*tr(ys,3);if((ol=2+tr(ys,Ph))>_o)break i}else ol=_o;for(Oa=0;Oa<_o&&ol--;){lr(ys);var ql=Gl[0+(127&cr(ys))];Ke(ys,ys.u+ql.g);var na=ql.value;if(16>na)zl[Oa++]=na,na!=0&&(Hl=na);else{var Eh=na==16,Ul=na-16,Th=$l[Ul],Wl=tr(ys,Xl[Ul])+Th;if(Oa+Wl>_o)break i;for(var kh=Eh?Hl:0;0<Wl--;)zl[Oa++]=kh}}ll=1;break i}ll||(Vl.a=3),yo=ll}(yo=yo&&!vs.h)&&(al=rr(_h,wh,8,Ma,sl)),yo&&al!=0?bo=al:(vo.a=3,bo=0)}if(bo==0)break r;if(mo&&Kl[_i]==1&&(mo=po[Wi].g==0),Nl+=po[Wi].g,Wi+=bo,3>=_i){var Ia,hl=Fa[0];for(Ia=1;Ia<zi;++Ia)Fa[Ia]>hl&&(hl=Fa[Ia]);Rl+=hl}}if(Bn.nd=mo,Bn.Qb=0,mo&&(Bn.qb=(ra[3][ia[3]+0].value<<24|ra[1][ia[1]+0].value<<16|ra[2][ia[2]+0].value)>>>0,Nl==0&&256>ra[0][ia[0]+0].value&&(Bn.Qb=1,Bn.qb+=ra[0][ia[0]+0].value<<8)),Bn.jc=!Bn.Qb&&6>Rl,Bn.jc){var wo,ns=Bn;for(wo=0;wo<hn;++wo){var bs=wo,_s=ns.pd[bs],So=ns.G[0][ns.H[0]+bs];256<=So.value?(_s.g=So.g+256,_s.value=So.value):(_s.g=0,_s.value=0,bs>>=Xi(So,8,_s),bs>>=Xi(ns.G[1][ns.H[1]+bs],16,_s),bs>>=Xi(ns.G[2][ns.H[2]+bs],0,_s),Xi(ns.G[3][ns.H[3]+bs],24,_s))}}}Ji.vc=en,Ji.Wb=sn,Ji.Ya=uo,Ji.yc=nl,Ii=1;break e}Ii=0}if(!(yr=Ii)){Ze.a=3;break t}if(0<Ur){if(Tr.ua=1<<Ur,!Sr(Tr.Wa,Ur)){Ze.a=1,yr=0;break t}}else Tr.ua=0;var cl=Ze,Yl=_r,Lh=Cr,ul=cl.s,dl=ul.xc;if(cl.c=Yl,cl.i=Lh,ul.md=Or(Yl,dl),ul.wc=dl==0?-1:(1<<dl)-1,Ye){Ze.xb=oh;break t}if((jr=Ee(_r*Cr))==null){Ze.a=1,yr=0;break t}yr=(yr=kn(Ze,jr,0,_r,Cr,Cr,null))&&!Er.h;break t}return yr?(dr!=null?dr[0]=jr:(e(jr==null),e(Ye)),Ze.$=0,Ye||Hn(Tr)):Hn(Tr),yr}function xs(Ve,He){var Ye=Ve.c*Ve.i,Ze=Ye+He+16*He;return e(Ve.c<=He),Ve.V=Ee(Ze),Ve.V==null?(Ve.Ta=null,Ve.Ua=0,Ve.a=1,0):(Ve.Ta=Ve.V,Ve.Ua=Ve.Ba+Ye+He,1)}function Ms(Ve,He){var Ye=Ve.C,Ze=He-Ye,dr=Ve.V,yr=Ve.Ba+Ve.c*Ye;for(e(He<=Ve.l.o);0<Ze;){var _r=16<Ze?16:Ze,Cr=Ve.l.ma,Er=Ve.l.width,Tr=Er*_r,jr=Cr.ca,Ur=Cr.tb+Er*Ye,Wr=Ve.Ta,Hr=Ve.Ua;pn(Ve,_r,dr,yr),pl(Wr,Hr,jr,Ur,Tr),En(Cr,Ye,Ye+_r,jr,Ur,Er),Ze-=_r,dr+=_r*Ve.c,Ye+=_r}e(Ye==He),Ve.C=Ve.Ma=He}function Os(){this.ub=this.yd=this.td=this.Rb=0}function Is(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ns(){this.Fb=this.Bb=this.Cb=0,this.Zb=Ee(4),this.Lb=Ee(4)}function Na(){this.Yb=function(){var Ve=[];return function He(Ye,Ze,dr){for(var yr=dr[Ze],_r=0;_r<yr&&(Ye.push(dr.length>Ze+1?[]:0),!(dr.length<Ze+1));_r++)He(Ye[_r],Ze+1,dr)}(Ve,0,[3,11]),Ve}()}function xo(){this.jb=Ee(3),this.Wc=Pe([4,8],Na),this.Xc=Pe([4,17],Na)}function Co(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Ee(4),this.od=new Ee(4)}function Rs(){this.ld=this.La=this.dd=this.tc=0}function Ra(){this.Na=this.la=0}function Ao(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function sa(){this.ad=Ee(384),this.Za=0,this.Ob=Ee(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Po(){this.uc=this.M=this.Nb=0,this.wa=Array(new Rs),this.Y=0,this.ya=Array(new sa),this.aa=0,this.l=new Ds}function Da(){this.y=Ee(16),this.f=Ee(8),this.ea=Ee(8)}function Eo(){this.cb=this.a=0,this.sc="",this.m=new ir,this.Od=new Os,this.Kc=new Is,this.ed=new Co,this.Qa=new Ns,this.Ic=this.$c=this.Aa=0,this.D=new Po,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Re(8,ir),this.ia=0,this.pb=Re(4,Ao),this.Pa=new xo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Da),this.Hd=0,this.rb=Array(new Ra),this.sb=0,this.wa=Array(new Rs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new sa),this.L=this.aa=0,this.gd=Pe([4,2],Rs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ds(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function To(){var Ve=new Eo;return Ve!=null&&(Ve.a=0,Ve.sc="OK",Ve.cb=0,Ve.Xb=0,ka||(ka=Va)),Ve}function Hi(Ve,He,Ye){return Ve.a==0&&(Ve.a=He,Ve.sc=Ye,Ve.cb=0),0}function Ba(Ve,He,Ye){return 3<=Ye&&Ve[He+0]==157&&Ve[He+1]==1&&Ve[He+2]==42}function ja(Ve,He){if(Ve==null)return 0;if(Ve.a=0,Ve.sc="OK",He==null)return Hi(Ve,2,"null VP8Io passed to VP8GetHeaders()");var Ye=He.data,Ze=He.w,dr=He.ha;if(4>dr)return Hi(Ve,7,"Truncated header.");var yr=Ye[Ze+0]|Ye[Ze+1]<<8|Ye[Ze+2]<<16,_r=Ve.Od;if(_r.Rb=!(1&yr),_r.td=yr>>1&7,_r.yd=yr>>4&1,_r.ub=yr>>5,3<_r.td)return Hi(Ve,3,"Incorrect keyframe parameters.");if(!_r.yd)return Hi(Ve,4,"Frame not displayable.");Ze+=3,dr-=3;var Cr=Ve.Kc;if(_r.Rb){if(7>dr)return Hi(Ve,7,"cannot parse picture header");if(!Ba(Ye,Ze,dr))return Hi(Ve,3,"Bad code word");Cr.c=16383&(Ye[Ze+4]<<8|Ye[Ze+3]),Cr.Td=Ye[Ze+4]>>6,Cr.i=16383&(Ye[Ze+6]<<8|Ye[Ze+5]),Cr.Ud=Ye[Ze+6]>>6,Ze+=7,dr-=7,Ve.za=Cr.c+15>>4,Ve.Ub=Cr.i+15>>4,He.width=Cr.c,He.height=Cr.i,He.Da=0,He.j=0,He.v=0,He.va=He.width,He.o=He.height,He.da=0,He.ib=He.width,He.hb=He.height,He.U=He.width,He.T=He.height,Ce((yr=Ve.Pa).jb,0,255,yr.jb.length),e((yr=Ve.Qa)!=null),yr.Cb=0,yr.Bb=0,yr.Fb=1,Ce(yr.Zb,0,0,yr.Zb.length),Ce(yr.Lb,0,0,yr.Lb)}if(_r.ub>dr)return Hi(Ve,7,"bad partition length");br(yr=Ve.m,Ye,Ze,_r.ub),Ze+=_r.ub,dr-=_r.ub,_r.Rb&&(Cr.Ld=Ar(yr),Cr.Kd=Ar(yr)),Cr=Ve.Qa;var Er,Tr=Ve.Pa;if(e(yr!=null),e(Cr!=null),Cr.Cb=Ar(yr),Cr.Cb){if(Cr.Bb=Ar(yr),Ar(yr)){for(Cr.Fb=Ar(yr),Er=0;4>Er;++Er)Cr.Zb[Er]=Ar(yr)?nr(yr,7):0;for(Er=0;4>Er;++Er)Cr.Lb[Er]=Ar(yr)?nr(yr,6):0}if(Cr.Bb)for(Er=0;3>Er;++Er)Tr.jb[Er]=Ar(yr)?sr(yr,8):255}else Cr.Bb=0;if(yr.Ka)return Hi(Ve,3,"cannot parse segment header");if((Cr=Ve.ed).zd=Ar(yr),Cr.Tb=sr(yr,6),Cr.wb=sr(yr,3),Cr.Pc=Ar(yr),Cr.Pc&&Ar(yr)){for(Tr=0;4>Tr;++Tr)Ar(yr)&&(Cr.vd[Tr]=nr(yr,6));for(Tr=0;4>Tr;++Tr)Ar(yr)&&(Cr.od[Tr]=nr(yr,6))}if(Ve.L=Cr.Tb==0?0:Cr.zd?1:2,yr.Ka)return Hi(Ve,3,"cannot parse filter header");var jr=dr;if(dr=Er=Ze,Ze=Er+jr,Cr=jr,Ve.Xb=(1<<sr(Ve.m,2))-1,jr<3*(Tr=Ve.Xb))Ye=7;else{for(Er+=3*Tr,Cr-=3*Tr,jr=0;jr<Tr;++jr){var Ur=Ye[dr+0]|Ye[dr+1]<<8|Ye[dr+2]<<16;Ur>Cr&&(Ur=Cr),br(Ve.Jc[+jr],Ye,Er,Ur),Er+=Ur,Cr-=Ur,dr+=3}br(Ve.Jc[+Tr],Ye,Er,Cr),Ye=Er<Ze?0:5}if(Ye!=0)return Hi(Ve,Ye,"cannot parse partitions");for(Ye=sr(Er=Ve.m,7),dr=Ar(Er)?nr(Er,4):0,Ze=Ar(Er)?nr(Er,4):0,Cr=Ar(Er)?nr(Er,4):0,Tr=Ar(Er)?nr(Er,4):0,Er=Ar(Er)?nr(Er,4):0,jr=Ve.Qa,Ur=0;4>Ur;++Ur){if(jr.Cb){var Wr=jr.Zb[Ur];jr.Fb||(Wr+=Ye)}else{if(0<Ur){Ve.pb[Ur]=Ve.pb[0];continue}Wr=Ye}var Hr=Ve.pb[Ur];Hr.Sc[0]=el[mn(Wr+dr,127)],Hr.Sc[1]=rl[mn(Wr+0,127)],Hr.Eb[0]=2*el[mn(Wr+Ze,127)],Hr.Eb[1]=101581*rl[mn(Wr+Cr,127)]>>16,8>Hr.Eb[1]&&(Hr.Eb[1]=8),Hr.Qc[0]=el[mn(Wr+Tr,117)],Hr.Qc[1]=rl[mn(Wr+Er,127)],Hr.lc=Wr+Er}if(!_r.Rb)return Hi(Ve,4,"Not a key frame.");for(Ar(yr),_r=Ve.Pa,Ye=0;4>Ye;++Ye){for(dr=0;8>dr;++dr)for(Ze=0;3>Ze;++Ze)for(Cr=0;11>Cr;++Cr)Tr=Pr(yr,sh[Ye][dr][Ze][Cr])?sr(yr,8):ih[Ye][dr][Ze][Cr],_r.Wc[Ye][dr].Yb[Ze][Cr]=Tr;for(dr=0;17>dr;++dr)_r.Xc[Ye][dr]=_r.Wc[Ye][ah[dr]]}return Ve.kc=Ar(yr),Ve.kc&&(Ve.Bd=sr(yr,8)),Ve.cb=1}function Va(Ve,He,Ye,Ze,dr,yr,_r){var Cr=He[dr].Yb[Ye];for(Ye=0;16>dr;++dr){if(!Pr(Ve,Cr[Ye+0]))return dr;for(;!Pr(Ve,Cr[Ye+1]);)if(Cr=He[++dr].Yb[0],Ye=0,dr==16)return 16;var Er=He[dr+1].Yb;if(Pr(Ve,Cr[Ye+2])){var Tr=Ve,jr=0;if(Pr(Tr,(Wr=Cr)[(Ur=Ye)+3]))if(Pr(Tr,Wr[Ur+6])){for(Cr=0,Ur=2*(jr=Pr(Tr,Wr[Ur+8]))+(Wr=Pr(Tr,Wr[Ur+9+jr])),jr=0,Wr=eh[Ur];Wr[Cr];++Cr)jr+=jr+Pr(Tr,Wr[Cr]);jr+=3+(8<<Ur)}else Pr(Tr,Wr[Ur+7])?(jr=7+2*Pr(Tr,165),jr+=Pr(Tr,145)):jr=5+Pr(Tr,159);else jr=Pr(Tr,Wr[Ur+4])?3+Pr(Tr,Wr[Ur+5]):2;Cr=Er[2]}else jr=1,Cr=Er[1];Er=_r+rh[dr],0>(Tr=Ve).b&&mr(Tr);var Ur,Wr=Tr.b,Hr=(Ur=Tr.Ca>>1)-(Tr.I>>Wr)>>31;--Tr.b,Tr.Ca+=Hr,Tr.Ca|=1,Tr.I-=(Ur+1&Hr)<<Wr,yr[Er]=((jr^Hr)-Hr)*Ze[(0<dr)+0]}return 16}function aa(Ve){var He=Ve.rb[Ve.sb-1];He.la=0,He.Na=0,Ce(Ve.zc,0,0,Ve.zc.length),Ve.ja=0}function ko(Ve,He){if(Ve==null)return 0;if(He==null)return Hi(Ve,2,"NULL VP8Io parameter in VP8Decode().");if(!Ve.cb&&!ja(Ve,He))return 0;if(e(Ve.cb),He.ac==null||He.ac(He)){He.ob&&(Ve.L=0);var Ye=fo[Ve.L];if(Ve.L==2?(Ve.yb=0,Ve.zb=0):(Ve.yb=He.v-Ye>>4,Ve.zb=He.j-Ye>>4,0>Ve.yb&&(Ve.yb=0),0>Ve.zb&&(Ve.zb=0)),Ve.Va=He.o+15+Ye>>4,Ve.Hb=He.va+15+Ye>>4,Ve.Hb>Ve.za&&(Ve.Hb=Ve.za),Ve.Va>Ve.Ub&&(Ve.Va=Ve.Ub),0<Ve.L){var Ze=Ve.ed;for(Ye=0;4>Ye;++Ye){var dr;if(Ve.Qa.Cb){var yr=Ve.Qa.Lb[Ye];Ve.Qa.Fb||(yr+=Ze.Tb)}else yr=Ze.Tb;for(dr=0;1>=dr;++dr){var _r=Ve.gd[Ye][dr],Cr=yr;if(Ze.Pc&&(Cr+=Ze.vd[0],dr&&(Cr+=Ze.od[0])),0<(Cr=0>Cr?0:63<Cr?63:Cr)){var Er=Cr;0<Ze.wb&&(Er=4<Ze.wb?Er>>2:Er>>1)>9-Ze.wb&&(Er=9-Ze.wb),1>Er&&(Er=1),_r.dd=Er,_r.tc=2*Cr+Er,_r.ld=40<=Cr?2:15<=Cr?1:0}else _r.tc=0;_r.La=dr}}}Ye=0}else Hi(Ve,6,"Frame setup failed"),Ye=Ve.a;if(Ye=Ye==0){if(Ye){Ve.$c=0,0<Ve.Aa||(Ve.Ic=bh);t:{Ye=Ve.Ic,Ze=4*(Er=Ve.za);var Tr=32*Er,jr=Er+1,Ur=0<Ve.L?Er*(0<Ve.Aa?2:1):0,Wr=(Ve.Aa==2?2:1)*Er;if((_r=Ze+832+(dr=3*(16*Ye+fo[Ve.L])/2*Tr)+(yr=Ve.Fa!=null&&0<Ve.Fa.length?Ve.Kc.c*Ve.Kc.i:0))!=_r)Ye=0;else{if(_r>Ve.Vb){if(Ve.Vb=0,Ve.Ec=Ee(_r),Ve.Fc=0,Ve.Ec==null){Ye=Hi(Ve,1,"no memory during frame initialization.");break t}Ve.Vb=_r}_r=Ve.Ec,Cr=Ve.Fc,Ve.Ac=_r,Ve.Bc=Cr,Cr+=Ze,Ve.Gd=Re(Tr,Da),Ve.Hd=0,Ve.rb=Re(jr+1,Ra),Ve.sb=1,Ve.wa=Ur?Re(Ur,Rs):null,Ve.Y=0,Ve.D.Nb=0,Ve.D.wa=Ve.wa,Ve.D.Y=Ve.Y,0<Ve.Aa&&(Ve.D.Y+=Er),e(!0),Ve.oc=_r,Ve.pc=Cr,Cr+=832,Ve.ya=Re(Wr,sa),Ve.aa=0,Ve.D.ya=Ve.ya,Ve.D.aa=Ve.aa,Ve.Aa==2&&(Ve.D.aa+=Er),Ve.R=16*Er,Ve.B=8*Er,Er=(Tr=fo[Ve.L])*Ve.R,Tr=Tr/2*Ve.B,Ve.sa=_r,Ve.ta=Cr+Er,Ve.qa=Ve.sa,Ve.ra=Ve.ta+16*Ye*Ve.R+Tr,Ve.Ha=Ve.qa,Ve.Ia=Ve.ra+8*Ye*Ve.B+Tr,Ve.$c=0,Cr+=dr,Ve.mb=yr?_r:null,Ve.nb=yr?Cr:null,e(Cr+yr<=Ve.Fc+Ve.Vb),aa(Ve),Ce(Ve.Ac,Ve.Bc,0,Ze),Ye=1}}if(Ye){if(He.ka=0,He.y=Ve.sa,He.O=Ve.ta,He.f=Ve.qa,He.N=Ve.ra,He.ea=Ve.Ha,He.Vd=Ve.Ia,He.fa=Ve.R,He.Rc=Ve.B,He.F=null,He.J=0,!bl){for(Ye=-255;255>=Ye;++Ye)ml[255+Ye]=0>Ye?-Ye:Ye;for(Ye=-1020;1020>=Ye;++Ye)gl[1020+Ye]=-128>Ye?-128:127<Ye?127:Ye;for(Ye=-112;112>=Ye;++Ye)vl[112+Ye]=-16>Ye?-16:15<Ye?15:Ye;for(Ye=-255;510>=Ye;++Ye)yl[255+Ye]=0>Ye?0:255<Ye?255:Ye;bl=1}Nn=Mo,Zs=Lo,fs=Ha,Rn=Fo,Qn=Ga,Ea=za,Ts=ua,Qs=Ps,ks=Uo,us=da,Ta=qo,wn=Gs,ts=pa,Ni=Za,Ri=Ja,Gi=Kn,$i=as,es=Go,Dn[0]=qn,Dn[1]=Oo,Dn[2]=Do,Dn[3]=Bo,Dn[4]=Wa,Dn[5]=zs,Dn[6]=Ya,Dn[7]=ha,Dn[8]=Vo,Dn[9]=jo,ps[0]=qa,ps[1]=No,ps[2]=$n,ps[3]=js,ps[4]=rn,ps[5]=Ro,ps[6]=Ua,rs[0]=ss,rs[1]=Io,rs[2]=zo,rs[3]=ca,rs[4]=As,rs[5]=Ho,rs[6]=fa,Ye=1}else Ye=0}Ye&&(Ye=function(Hr,Qr){for(Hr.M=0;Hr.M<Hr.Va;++Hr.M){var Xr,Vr=Hr.Jc[Hr.M&Hr.Xb],zr=Hr.m,Jr=Hr;for(Xr=0;Xr<Jr.za;++Xr){var ei=zr,Zr=Jr,ci=Zr.Ac,ai=Zr.Bc+4*Xr,pi=Zr.zc,li=Zr.ya[Zr.aa+Xr];if(Zr.Qa.Bb?li.$b=Pr(ei,Zr.Pa.jb[0])?2+Pr(ei,Zr.Pa.jb[2]):Pr(ei,Zr.Pa.jb[1]):li.$b=0,Zr.kc&&(li.Ad=Pr(ei,Zr.Bd)),li.Za=!Pr(ei,145)+0,li.Za){var Ei=li.Ob,Fi=0;for(Zr=0;4>Zr;++Zr){var Pi,Ci=pi[0+Zr];for(Pi=0;4>Pi;++Pi){Ci=nh[ci[ai+Pi]][Ci];for(var Ii=xl[Pr(ei,Ci[0])];0<Ii;)Ii=xl[2*Ii+Pr(ei,Ci[Ii])];Ci=-Ii,ci[ai+Pi]=Ci}_e(Ei,Fi,ci,ai,4),Fi+=4,pi[0+Zr]=Ci}}else Ci=Pr(ei,156)?Pr(ei,128)?1:3:Pr(ei,163)?2:0,li.Ob[0]=Ci,Ce(ci,ai,Ci,4),Ce(pi,0,Ci,4);li.Dd=Pr(ei,142)?Pr(ei,114)?Pr(ei,183)?1:3:2:0}if(Jr.m.Ka)return Hi(Hr,7,"Premature end-of-partition0 encountered.");for(;Hr.ja<Hr.za;++Hr.ja){if(Jr=Vr,ei=(zr=Hr).rb[zr.sb-1],ci=zr.rb[zr.sb+zr.ja],Xr=zr.ya[zr.aa+zr.ja],ai=zr.kc?Xr.Ad:0)ei.la=ci.la=0,Xr.Za||(ei.Na=ci.Na=0),Xr.Hc=0,Xr.Gc=0,Xr.ia=0;else{var Oi,_i;if(ei=ci,ci=Jr,ai=zr.Pa.Xc,pi=zr.ya[zr.aa+zr.ja],li=zr.pb[pi.$b],Zr=pi.ad,Ei=0,Fi=zr.rb[zr.sb-1],Ci=Pi=0,Ce(Zr,Ei,0,384),pi.Za)var Wi=0,fn=ai[3];else{Ii=Ee(16);var Yi=ei.Na+Fi.Na;if(Yi=ka(ci,ai[1],Yi,li.Eb,0,Ii,0),ei.Na=Fi.Na=(0<Yi)+0,1<Yi)Nn(Ii,0,Zr,Ei);else{var un=Ii[0]+3>>3;for(Ii=0;256>Ii;Ii+=16)Zr[Ei+Ii]=un}Wi=1,fn=ai[0]}var Mi=15&ei.la,vn=15&Fi.la;for(Ii=0;4>Ii;++Ii){var yn=1&vn;for(un=_i=0;4>un;++un)Mi=Mi>>1|(yn=(Yi=ka(ci,fn,Yi=yn+(1&Mi),li.Sc,Wi,Zr,Ei))>Wi)<<7,_i=_i<<2|(3<Yi?3:1<Yi?2:Zr[Ei+0]!=0),Ei+=16;Mi>>=4,vn=vn>>1|yn<<7,Pi=(Pi<<8|_i)>>>0}for(fn=Mi,Wi=vn>>4,Oi=0;4>Oi;Oi+=2){for(_i=0,Mi=ei.la>>4+Oi,vn=Fi.la>>4+Oi,Ii=0;2>Ii;++Ii){for(yn=1&vn,un=0;2>un;++un)Yi=yn+(1&Mi),Mi=Mi>>1|(yn=0<(Yi=ka(ci,ai[2],Yi,li.Qc,0,Zr,Ei)))<<3,_i=_i<<2|(3<Yi?3:1<Yi?2:Zr[Ei+0]!=0),Ei+=16;Mi>>=2,vn=vn>>1|yn<<5}Ci|=_i<<4*Oi,fn|=Mi<<4<<Oi,Wi|=(240&vn)<<Oi}ei.la=fn,Fi.la=Wi,pi.Hc=Pi,pi.Gc=Ci,pi.ia=43690&Ci?0:li.ia,ai=!(Pi|Ci)}if(0<zr.L&&(zr.wa[zr.Y+zr.ja]=zr.gd[Xr.$b][Xr.Za],zr.wa[zr.Y+zr.ja].La|=!ai),Jr.Ka)return Hi(Hr,7,"Premature end-of-file encountered.")}if(aa(Hr),zr=Qr,Jr=1,Xr=(Vr=Hr).D,ei=0<Vr.L&&Vr.M>=Vr.zb&&Vr.M<=Vr.Va,Vr.Aa==0)t:{if(Xr.M=Vr.M,Xr.uc=ei,wa(Vr,Xr),Jr=1,Xr=(_i=Vr.D).Nb,ei=(Ci=fo[Vr.L])*Vr.R,ci=Ci/2*Vr.B,Ii=16*Xr*Vr.R,un=8*Xr*Vr.B,ai=Vr.sa,pi=Vr.ta-ei+Ii,li=Vr.qa,Zr=Vr.ra-ci+un,Ei=Vr.Ha,Fi=Vr.Ia-ci+un,vn=(Mi=_i.M)==0,Pi=Mi>=Vr.Va-1,Vr.Aa==2&&wa(Vr,_i),_i.uc)for(yn=(Yi=Vr).D.M,e(Yi.D.uc),_i=Yi.yb;_i<Yi.Hb;++_i){Wi=_i,fn=yn;var Ji=(en=(zi=Yi).D).Nb;Oi=zi.R;var en=en.wa[en.Y+Wi],sn=zi.sa,Cn=zi.ta+16*Ji*Oi+16*Wi,Wn=en.dd,Zi=en.tc;if(Zi!=0)if(e(3<=Zi),zi.L==1)0<Wi&&Gi(sn,Cn,Oi,Zi+4),en.La&&es(sn,Cn,Oi,Zi),0<fn&&Ri(sn,Cn,Oi,Zi+4),en.La&&$i(sn,Cn,Oi,Zi);else{var is=zi.B,Ls=zi.qa,ea=zi.ra+8*Ji*is+8*Wi,gs=zi.Ha,zi=zi.Ia+8*Ji*is+8*Wi;Ji=en.ld,0<Wi&&(Qs(sn,Cn,Oi,Zi+4,Wn,Ji),us(Ls,ea,gs,zi,is,Zi+4,Wn,Ji)),en.La&&(wn(sn,Cn,Oi,Zi,Wn,Ji),Ni(Ls,ea,gs,zi,is,Zi,Wn,Ji)),0<fn&&(Ts(sn,Cn,Oi,Zi+4,Wn,Ji),ks(Ls,ea,gs,zi,is,Zi+4,Wn,Ji)),en.La&&(Ta(sn,Cn,Oi,Zi,Wn,Ji),ts(Ls,ea,gs,zi,is,Zi,Wn,Ji))}}if(Vr.ia&&alert("todo:DitherRow"),zr.put!=null){if(_i=16*Mi,Mi=16*(Mi+1),vn?(zr.y=Vr.sa,zr.O=Vr.ta+Ii,zr.f=Vr.qa,zr.N=Vr.ra+un,zr.ea=Vr.Ha,zr.W=Vr.Ia+un):(_i-=Ci,zr.y=ai,zr.O=pi,zr.f=li,zr.N=Zr,zr.ea=Ei,zr.W=Fi),Pi||(Mi-=Ci),Mi>zr.o&&(Mi=zr.o),zr.F=null,zr.J=null,Vr.Fa!=null&&0<Vr.Fa.length&&_i<Mi&&(zr.J=ya(Vr,zr,_i,Mi-_i),zr.F=Vr.mb,zr.F==null&&zr.F.length==0)){Jr=Hi(Vr,3,"Could not decode alpha data.");break t}_i<zr.j&&(Ci=zr.j-_i,_i=zr.j,e(!(1&Ci)),zr.O+=Vr.R*Ci,zr.N+=Vr.B*(Ci>>1),zr.W+=Vr.B*(Ci>>1),zr.F!=null&&(zr.J+=zr.width*Ci)),_i<Mi&&(zr.O+=zr.v,zr.N+=zr.v>>1,zr.W+=zr.v>>1,zr.F!=null&&(zr.J+=zr.v),zr.ka=_i-zr.j,zr.U=zr.va-zr.v,zr.T=Mi-_i,Jr=zr.put(zr))}Xr+1!=Vr.Ic||Pi||(_e(Vr.sa,Vr.ta-ei,ai,pi+16*Vr.R,ei),_e(Vr.qa,Vr.ra-ci,li,Zr+8*Vr.B,ci),_e(Vr.Ha,Vr.Ia-ci,Ei,Fi+8*Vr.B,ci))}if(!Jr)return Hi(Hr,6,"Output aborted.")}return 1}(Ve,He)),He.bc!=null&&He.bc(He),Ye&=1}return Ye?(Ve.cb=0,Ye):0}function Ln(Ve,He,Ye,Ze,dr){dr=Ve[He+Ye+32*Ze]+(dr>>3),Ve[He+Ye+32*Ze]=-256&dr?0>dr?0:255:dr}function Bs(Ve,He,Ye,Ze,dr,yr){Ln(Ve,He,0,Ye,Ze+dr),Ln(Ve,He,1,Ye,Ze+yr),Ln(Ve,He,2,Ye,Ze-yr),Ln(Ve,He,3,Ye,Ze-dr)}function on(Ve){return(20091*Ve>>16)+Ve}function oa(Ve,He,Ye,Ze){var dr,yr=0,_r=Ee(16);for(dr=0;4>dr;++dr){var Cr=Ve[He+0]+Ve[He+8],Er=Ve[He+0]-Ve[He+8],Tr=(35468*Ve[He+4]>>16)-on(Ve[He+12]),jr=on(Ve[He+4])+(35468*Ve[He+12]>>16);_r[yr+0]=Cr+jr,_r[yr+1]=Er+Tr,_r[yr+2]=Er-Tr,_r[yr+3]=Cr-jr,yr+=4,He++}for(dr=yr=0;4>dr;++dr)Cr=(Ve=_r[yr+0]+4)+_r[yr+8],Er=Ve-_r[yr+8],Tr=(35468*_r[yr+4]>>16)-on(_r[yr+12]),Ln(Ye,Ze,0,0,Cr+(jr=on(_r[yr+4])+(35468*_r[yr+12]>>16))),Ln(Ye,Ze,1,0,Er+Tr),Ln(Ye,Ze,2,0,Er-Tr),Ln(Ye,Ze,3,0,Cr-jr),yr++,Ze+=32}function za(Ve,He,Ye,Ze){var dr=Ve[He+0]+4,yr=35468*Ve[He+4]>>16,_r=on(Ve[He+4]),Cr=35468*Ve[He+1]>>16;Bs(Ye,Ze,0,dr+_r,Ve=on(Ve[He+1]),Cr),Bs(Ye,Ze,1,dr+yr,Ve,Cr),Bs(Ye,Ze,2,dr-yr,Ve,Cr),Bs(Ye,Ze,3,dr-_r,Ve,Cr)}function Lo(Ve,He,Ye,Ze,dr){oa(Ve,He,Ye,Ze),dr&&oa(Ve,He+16,Ye,Ze+4)}function Ha(Ve,He,Ye,Ze){Zs(Ve,He+0,Ye,Ze,1),Zs(Ve,He+32,Ye,Ze+128,1)}function Fo(Ve,He,Ye,Ze){var dr;for(Ve=Ve[He+0]+4,dr=0;4>dr;++dr)for(He=0;4>He;++He)Ln(Ye,Ze,He,dr,Ve)}function Ga(Ve,He,Ye,Ze){Ve[He+0]&&Rn(Ve,He+0,Ye,Ze),Ve[He+16]&&Rn(Ve,He+16,Ye,Ze+4),Ve[He+32]&&Rn(Ve,He+32,Ye,Ze+128),Ve[He+48]&&Rn(Ve,He+48,Ye,Ze+128+4)}function Mo(Ve,He,Ye,Ze){var dr,yr=Ee(16);for(dr=0;4>dr;++dr){var _r=Ve[He+0+dr]+Ve[He+12+dr],Cr=Ve[He+4+dr]+Ve[He+8+dr],Er=Ve[He+4+dr]-Ve[He+8+dr],Tr=Ve[He+0+dr]-Ve[He+12+dr];yr[0+dr]=_r+Cr,yr[8+dr]=_r-Cr,yr[4+dr]=Tr+Er,yr[12+dr]=Tr-Er}for(dr=0;4>dr;++dr)_r=(Ve=yr[0+4*dr]+3)+yr[3+4*dr],Cr=yr[1+4*dr]+yr[2+4*dr],Er=yr[1+4*dr]-yr[2+4*dr],Tr=Ve-yr[3+4*dr],Ye[Ze+0]=_r+Cr>>3,Ye[Ze+16]=Tr+Er>>3,Ye[Ze+32]=_r-Cr>>3,Ye[Ze+48]=Tr-Er>>3,Ze+=64}function la(Ve,He,Ye){var Ze,dr=He-32,yr=gn,_r=255-Ve[dr-1];for(Ze=0;Ze<Ye;++Ze){var Cr,Er=yr,Tr=_r+Ve[He-1];for(Cr=0;Cr<Ye;++Cr)Ve[He+Cr]=Er[Tr+Ve[dr+Cr]];He+=32}}function Oo(Ve,He){la(Ve,He,4)}function Io(Ve,He){la(Ve,He,8)}function No(Ve,He){la(Ve,He,16)}function $n(Ve,He){var Ye;for(Ye=0;16>Ye;++Ye)_e(Ve,He+32*Ye,Ve,He-32,16)}function js(Ve,He){var Ye;for(Ye=16;0<Ye;--Ye)Ce(Ve,He,Ve[He-1],16),He+=32}function Vs(Ve,He,Ye){var Ze;for(Ze=0;16>Ze;++Ze)Ce(He,Ye+32*Ze,Ve,16)}function qa(Ve,He){var Ye,Ze=16;for(Ye=0;16>Ye;++Ye)Ze+=Ve[He-1+32*Ye]+Ve[He+Ye-32];Vs(Ze>>5,Ve,He)}function rn(Ve,He){var Ye,Ze=8;for(Ye=0;16>Ye;++Ye)Ze+=Ve[He-1+32*Ye];Vs(Ze>>4,Ve,He)}function Ro(Ve,He){var Ye,Ze=8;for(Ye=0;16>Ye;++Ye)Ze+=Ve[He+Ye-32];Vs(Ze>>4,Ve,He)}function Ua(Ve,He){Vs(128,Ve,He)}function gi(Ve,He,Ye){return Ve+2*He+Ye+2>>2}function Do(Ve,He){var Ye,Ze=He-32;for(Ze=new Uint8Array([gi(Ve[Ze-1],Ve[Ze+0],Ve[Ze+1]),gi(Ve[Ze+0],Ve[Ze+1],Ve[Ze+2]),gi(Ve[Ze+1],Ve[Ze+2],Ve[Ze+3]),gi(Ve[Ze+2],Ve[Ze+3],Ve[Ze+4])]),Ye=0;4>Ye;++Ye)_e(Ve,He+32*Ye,Ze,0,Ze.length)}function Bo(Ve,He){var Ye=Ve[He-1],Ze=Ve[He-1+32],dr=Ve[He-1+64],yr=Ve[He-1+96];Rr(Ve,He+0,16843009*gi(Ve[He-1-32],Ye,Ze)),Rr(Ve,He+32,16843009*gi(Ye,Ze,dr)),Rr(Ve,He+64,16843009*gi(Ze,dr,yr)),Rr(Ve,He+96,16843009*gi(dr,yr,yr))}function qn(Ve,He){var Ye,Ze=4;for(Ye=0;4>Ye;++Ye)Ze+=Ve[He+Ye-32]+Ve[He-1+32*Ye];for(Ze>>=3,Ye=0;4>Ye;++Ye)Ce(Ve,He+32*Ye,Ze,4)}function Wa(Ve,He){var Ye=Ve[He-1+0],Ze=Ve[He-1+32],dr=Ve[He-1+64],yr=Ve[He-1-32],_r=Ve[He+0-32],Cr=Ve[He+1-32],Er=Ve[He+2-32],Tr=Ve[He+3-32];Ve[He+0+96]=gi(Ze,dr,Ve[He-1+96]),Ve[He+1+96]=Ve[He+0+64]=gi(Ye,Ze,dr),Ve[He+2+96]=Ve[He+1+64]=Ve[He+0+32]=gi(yr,Ye,Ze),Ve[He+3+96]=Ve[He+2+64]=Ve[He+1+32]=Ve[He+0+0]=gi(_r,yr,Ye),Ve[He+3+64]=Ve[He+2+32]=Ve[He+1+0]=gi(Cr,_r,yr),Ve[He+3+32]=Ve[He+2+0]=gi(Er,Cr,_r),Ve[He+3+0]=gi(Tr,Er,Cr)}function Ya(Ve,He){var Ye=Ve[He+1-32],Ze=Ve[He+2-32],dr=Ve[He+3-32],yr=Ve[He+4-32],_r=Ve[He+5-32],Cr=Ve[He+6-32],Er=Ve[He+7-32];Ve[He+0+0]=gi(Ve[He+0-32],Ye,Ze),Ve[He+1+0]=Ve[He+0+32]=gi(Ye,Ze,dr),Ve[He+2+0]=Ve[He+1+32]=Ve[He+0+64]=gi(Ze,dr,yr),Ve[He+3+0]=Ve[He+2+32]=Ve[He+1+64]=Ve[He+0+96]=gi(dr,yr,_r),Ve[He+3+32]=Ve[He+2+64]=Ve[He+1+96]=gi(yr,_r,Cr),Ve[He+3+64]=Ve[He+2+96]=gi(_r,Cr,Er),Ve[He+3+96]=gi(Cr,Er,Er)}function zs(Ve,He){var Ye=Ve[He-1+0],Ze=Ve[He-1+32],dr=Ve[He-1+64],yr=Ve[He-1-32],_r=Ve[He+0-32],Cr=Ve[He+1-32],Er=Ve[He+2-32],Tr=Ve[He+3-32];Ve[He+0+0]=Ve[He+1+64]=yr+_r+1>>1,Ve[He+1+0]=Ve[He+2+64]=_r+Cr+1>>1,Ve[He+2+0]=Ve[He+3+64]=Cr+Er+1>>1,Ve[He+3+0]=Er+Tr+1>>1,Ve[He+0+96]=gi(dr,Ze,Ye),Ve[He+0+64]=gi(Ze,Ye,yr),Ve[He+0+32]=Ve[He+1+96]=gi(Ye,yr,_r),Ve[He+1+32]=Ve[He+2+96]=gi(yr,_r,Cr),Ve[He+2+32]=Ve[He+3+96]=gi(_r,Cr,Er),Ve[He+3+32]=gi(Cr,Er,Tr)}function ha(Ve,He){var Ye=Ve[He+0-32],Ze=Ve[He+1-32],dr=Ve[He+2-32],yr=Ve[He+3-32],_r=Ve[He+4-32],Cr=Ve[He+5-32],Er=Ve[He+6-32],Tr=Ve[He+7-32];Ve[He+0+0]=Ye+Ze+1>>1,Ve[He+1+0]=Ve[He+0+64]=Ze+dr+1>>1,Ve[He+2+0]=Ve[He+1+64]=dr+yr+1>>1,Ve[He+3+0]=Ve[He+2+64]=yr+_r+1>>1,Ve[He+0+32]=gi(Ye,Ze,dr),Ve[He+1+32]=Ve[He+0+96]=gi(Ze,dr,yr),Ve[He+2+32]=Ve[He+1+96]=gi(dr,yr,_r),Ve[He+3+32]=Ve[He+2+96]=gi(yr,_r,Cr),Ve[He+3+64]=gi(_r,Cr,Er),Ve[He+3+96]=gi(Cr,Er,Tr)}function jo(Ve,He){var Ye=Ve[He-1+0],Ze=Ve[He-1+32],dr=Ve[He-1+64],yr=Ve[He-1+96];Ve[He+0+0]=Ye+Ze+1>>1,Ve[He+2+0]=Ve[He+0+32]=Ze+dr+1>>1,Ve[He+2+32]=Ve[He+0+64]=dr+yr+1>>1,Ve[He+1+0]=gi(Ye,Ze,dr),Ve[He+3+0]=Ve[He+1+32]=gi(Ze,dr,yr),Ve[He+3+32]=Ve[He+1+64]=gi(dr,yr,yr),Ve[He+3+64]=Ve[He+2+64]=Ve[He+0+96]=Ve[He+1+96]=Ve[He+2+96]=Ve[He+3+96]=yr}function Vo(Ve,He){var Ye=Ve[He-1+0],Ze=Ve[He-1+32],dr=Ve[He-1+64],yr=Ve[He-1+96],_r=Ve[He-1-32],Cr=Ve[He+0-32],Er=Ve[He+1-32],Tr=Ve[He+2-32];Ve[He+0+0]=Ve[He+2+32]=Ye+_r+1>>1,Ve[He+0+32]=Ve[He+2+64]=Ze+Ye+1>>1,Ve[He+0+64]=Ve[He+2+96]=dr+Ze+1>>1,Ve[He+0+96]=yr+dr+1>>1,Ve[He+3+0]=gi(Cr,Er,Tr),Ve[He+2+0]=gi(_r,Cr,Er),Ve[He+1+0]=Ve[He+3+32]=gi(Ye,_r,Cr),Ve[He+1+32]=Ve[He+3+64]=gi(Ze,Ye,_r),Ve[He+1+64]=Ve[He+3+96]=gi(dr,Ze,Ye),Ve[He+1+96]=gi(yr,dr,Ze)}function zo(Ve,He){var Ye;for(Ye=0;8>Ye;++Ye)_e(Ve,He+32*Ye,Ve,He-32,8)}function ca(Ve,He){var Ye;for(Ye=0;8>Ye;++Ye)Ce(Ve,He,Ve[He-1],8),He+=32}function Cs(Ve,He,Ye){var Ze;for(Ze=0;8>Ze;++Ze)Ce(He,Ye+32*Ze,Ve,8)}function ss(Ve,He){var Ye,Ze=8;for(Ye=0;8>Ye;++Ye)Ze+=Ve[He+Ye-32]+Ve[He-1+32*Ye];Cs(Ze>>4,Ve,He)}function Ho(Ve,He){var Ye,Ze=4;for(Ye=0;8>Ye;++Ye)Ze+=Ve[He+Ye-32];Cs(Ze>>3,Ve,He)}function As(Ve,He){var Ye,Ze=4;for(Ye=0;8>Ye;++Ye)Ze+=Ve[He-1+32*Ye];Cs(Ze>>3,Ve,He)}function fa(Ve,He){Cs(128,Ve,He)}function Hs(Ve,He,Ye){var Ze=Ve[He-Ye],dr=Ve[He+0],yr=3*(dr-Ze)+Ko[1020+Ve[He-2*Ye]-Ve[He+Ye]],_r=io[112+(yr+4>>3)];Ve[He-Ye]=gn[255+Ze+io[112+(yr+3>>3)]],Ve[He+0]=gn[255+dr-_r]}function Xa(Ve,He,Ye,Ze){var dr=Ve[He+0],yr=Ve[He+Ye];return Sn[255+Ve[He-2*Ye]-Ve[He-Ye]]>Ze||Sn[255+yr-dr]>Ze}function $a(Ve,He,Ye,Ze){return 4*Sn[255+Ve[He-Ye]-Ve[He+0]]+Sn[255+Ve[He-2*Ye]-Ve[He+Ye]]<=Ze}function Ka(Ve,He,Ye,Ze,dr){var yr=Ve[He-3*Ye],_r=Ve[He-2*Ye],Cr=Ve[He-Ye],Er=Ve[He+0],Tr=Ve[He+Ye],jr=Ve[He+2*Ye],Ur=Ve[He+3*Ye];return 4*Sn[255+Cr-Er]+Sn[255+_r-Tr]>Ze?0:Sn[255+Ve[He-4*Ye]-yr]<=dr&&Sn[255+yr-_r]<=dr&&Sn[255+_r-Cr]<=dr&&Sn[255+Ur-jr]<=dr&&Sn[255+jr-Tr]<=dr&&Sn[255+Tr-Er]<=dr}function Ja(Ve,He,Ye,Ze){var dr=2*Ze+1;for(Ze=0;16>Ze;++Ze)$a(Ve,He+Ze,Ye,dr)&&Hs(Ve,He+Ze,Ye)}function Kn(Ve,He,Ye,Ze){var dr=2*Ze+1;for(Ze=0;16>Ze;++Ze)$a(Ve,He+Ze*Ye,1,dr)&&Hs(Ve,He+Ze*Ye,1)}function as(Ve,He,Ye,Ze){var dr;for(dr=3;0<dr;--dr)Ja(Ve,He+=4*Ye,Ye,Ze)}function Go(Ve,He,Ye,Ze){var dr;for(dr=3;0<dr;--dr)Kn(Ve,He+=4,Ye,Ze)}function os(Ve,He,Ye,Ze,dr,yr,_r,Cr){for(yr=2*yr+1;0<dr--;){if(Ka(Ve,He,Ye,yr,_r))if(Xa(Ve,He,Ye,Cr))Hs(Ve,He,Ye);else{var Er=Ve,Tr=He,jr=Ye,Ur=Er[Tr-2*jr],Wr=Er[Tr-jr],Hr=Er[Tr+0],Qr=Er[Tr+jr],Xr=Er[Tr+2*jr],Vr=27*(Jr=Ko[1020+3*(Hr-Wr)+Ko[1020+Ur-Qr]])+63>>7,zr=18*Jr+63>>7,Jr=9*Jr+63>>7;Er[Tr-3*jr]=gn[255+Er[Tr-3*jr]+Jr],Er[Tr-2*jr]=gn[255+Ur+zr],Er[Tr-jr]=gn[255+Wr+Vr],Er[Tr+0]=gn[255+Hr-Vr],Er[Tr+jr]=gn[255+Qr-zr],Er[Tr+2*jr]=gn[255+Xr-Jr]}He+=Ze}}function Fn(Ve,He,Ye,Ze,dr,yr,_r,Cr){for(yr=2*yr+1;0<dr--;){if(Ka(Ve,He,Ye,yr,_r))if(Xa(Ve,He,Ye,Cr))Hs(Ve,He,Ye);else{var Er=Ve,Tr=He,jr=Ye,Ur=Er[Tr-jr],Wr=Er[Tr+0],Hr=Er[Tr+jr],Qr=io[112+((Xr=3*(Wr-Ur))+4>>3)],Xr=io[112+(Xr+3>>3)],Vr=Qr+1>>1;Er[Tr-2*jr]=gn[255+Er[Tr-2*jr]+Vr],Er[Tr-jr]=gn[255+Ur+Xr],Er[Tr+0]=gn[255+Wr-Qr],Er[Tr+jr]=gn[255+Hr-Vr]}He+=Ze}}function ua(Ve,He,Ye,Ze,dr,yr){os(Ve,He,Ye,1,16,Ze,dr,yr)}function Ps(Ve,He,Ye,Ze,dr,yr){os(Ve,He,1,Ye,16,Ze,dr,yr)}function qo(Ve,He,Ye,Ze,dr,yr){var _r;for(_r=3;0<_r;--_r)Fn(Ve,He+=4*Ye,Ye,1,16,Ze,dr,yr)}function Gs(Ve,He,Ye,Ze,dr,yr){var _r;for(_r=3;0<_r;--_r)Fn(Ve,He+=4,1,Ye,16,Ze,dr,yr)}function Uo(Ve,He,Ye,Ze,dr,yr,_r,Cr){os(Ve,He,dr,1,8,yr,_r,Cr),os(Ye,Ze,dr,1,8,yr,_r,Cr)}function da(Ve,He,Ye,Ze,dr,yr,_r,Cr){os(Ve,He,1,dr,8,yr,_r,Cr),os(Ye,Ze,1,dr,8,yr,_r,Cr)}function pa(Ve,He,Ye,Ze,dr,yr,_r,Cr){Fn(Ve,He+4*dr,dr,1,8,yr,_r,Cr),Fn(Ye,Ze+4*dr,dr,1,8,yr,_r,Cr)}function Za(Ve,He,Ye,Ze,dr,yr,_r,Cr){Fn(Ve,He+4,1,dr,8,yr,_r,Cr),Fn(Ye,Ze+4,1,dr,8,yr,_r,Cr)}function qs(){this.ba=new An,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ji,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ma(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ga(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qa(){this.ua=0,this.Wa=new or,this.vb=new or,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new gr,this.yc=new er}function Wo(){this.xb=this.a=0,this.l=new Ds,this.ca=new An,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Xe,this.Pb=0,this.wd=new Xe,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qa,this.ab=0,this.gc=Re(4,ga),this.Oc=0}function Us(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ds,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Es(Ve,He,Ye,Ze,dr,yr,_r){for(Ve=Ve==null?0:Ve[He+0],He=0;He<_r;++He)dr[yr+He]=Ve+Ye[Ze+He]&255,Ve=dr[yr+He]}function va(Ve,He,Ye,Ze,dr,yr,_r){var Cr;if(Ve==null)Es(null,null,Ye,Ze,dr,yr,_r);else for(Cr=0;Cr<_r;++Cr)dr[yr+Cr]=Ve[He+Cr]+Ye[Ze+Cr]&255}function ls(Ve,He,Ye,Ze,dr,yr,_r){if(Ve==null)Es(null,null,Ye,Ze,dr,yr,_r);else{var Cr,Er=Ve[He+0],Tr=Er,jr=Er;for(Cr=0;Cr<_r;++Cr)Tr=jr+(Er=Ve[He+Cr])-Tr,jr=Ye[Ze+Cr]+(-256&Tr?0>Tr?0:255:Tr)&255,Tr=Er,dr[yr+Cr]=jr}}function ya(Ve,He,Ye,Ze){var dr=He.width,yr=He.o;if(e(Ve!=null&&He!=null),0>Ye||0>=Ze||Ye+Ze>yr)return null;if(!Ve.Cc){if(Ve.ga==null){var _r;if(Ve.ga=new Us,(_r=Ve.ga==null)||(_r=He.width*He.o,e(Ve.Gb.length==0),Ve.Gb=Ee(_r),Ve.Uc=0,Ve.Gb==null?_r=0:(Ve.mb=Ve.Gb,Ve.nb=Ve.Uc,Ve.rc=null,_r=1),_r=!_r),!_r){_r=Ve.ga;var Cr=Ve.Fa,Er=Ve.P,Tr=Ve.qc,jr=Ve.mb,Ur=Ve.nb,Wr=Er+1,Hr=Tr-1,Qr=_r.l;if(e(Cr!=null&&jr!=null&&He!=null),ms[0]=null,ms[1]=Es,ms[2]=va,ms[3]=ls,_r.ca=jr,_r.tb=Ur,_r.c=He.width,_r.i=He.height,e(0<_r.c&&0<_r.i),1>=Tr)He=0;else if(_r.$a=Cr[Er+0]>>0&3,_r.Z=Cr[Er+0]>>2&3,_r.Lc=Cr[Er+0]>>4&3,Er=Cr[Er+0]>>6&3,0>_r.$a||1<_r.$a||4<=_r.Z||1<_r.Lc||Er)He=0;else if(Qr.put=jn,Qr.ac=tn,Qr.bc=Vn,Qr.ma=_r,Qr.width=He.width,Qr.height=He.height,Qr.Da=He.Da,Qr.v=He.v,Qr.va=He.va,Qr.j=He.j,Qr.o=He.o,_r.$a)t:{e(_r.$a==1),He=bn();e:for(;;){if(He==null){He=0;break t}if(e(_r!=null),_r.mc=He,He.c=_r.c,He.i=_r.i,He.l=_r.l,He.l.ma=_r,He.l.width=_r.c,He.l.height=_r.i,He.a=0,Je(He.m,Cr,Wr,Hr),!Gn(_r.c,_r.i,1,He,null)||(He.ab==1&&He.gc[0].hc==3&&Xn(He.s)?(_r.ic=1,Cr=He.c*He.i,He.Ta=null,He.Ua=0,He.V=Ee(Cr),He.Ba=0,He.V==null?(He.a=1,He=0):He=1):(_r.ic=0,He=xs(He,_r.c)),!He))break e;He=1;break t}_r.mc=null,He=0}else He=Hr>=_r.c*_r.i;_r=!He}if(_r)return null;Ve.ga.Lc!=1?Ve.Ga=0:Ze=yr-Ye}e(Ve.ga!=null),e(Ye+Ze<=yr);t:{if(He=(Cr=Ve.ga).c,yr=Cr.l.o,Cr.$a==0){if(Wr=Ve.rc,Hr=Ve.Vc,Qr=Ve.Fa,Er=Ve.P+1+Ye*He,Tr=Ve.mb,jr=Ve.nb+Ye*He,e(Er<=Ve.P+Ve.qc),Cr.Z!=0)for(e(ms[Cr.Z]!=null),_r=0;_r<Ze;++_r)ms[Cr.Z](Wr,Hr,Qr,Er,Tr,jr,He),Wr=Tr,Hr=jr,jr+=He,Er+=He;else for(_r=0;_r<Ze;++_r)_e(Tr,jr,Qr,Er,He),Wr=Tr,Hr=jr,jr+=He,Er+=He;Ve.rc=Wr,Ve.Vc=Hr}else{if(e(Cr.mc!=null),He=Ye+Ze,e((_r=Cr.mc)!=null),e(He<=_r.i),_r.C>=He)He=1;else if(Cr.ic||qr(),Cr.ic){Cr=_r.V,Wr=_r.Ba,Hr=_r.c;var Xr=_r.i,Vr=(Qr=1,Er=_r.$/Hr,Tr=_r.$%Hr,jr=_r.m,Ur=_r.s,_r.$),zr=Hr*Xr,Jr=Hr*He,ei=Ur.wc,Zr=Vr<Jr?qi(Ur,Tr,Er):null;e(Vr<=zr),e(He<=Xr),e(Xn(Ur));e:for(;;){for(;!jr.h&&Vr<Jr;){if(Tr&ei||(Zr=qi(Ur,Tr,Er)),e(Zr!=null),lr(jr),256>(Xr=an(Zr.G[0],Zr.H[0],jr)))Cr[Wr+Vr]=Xr,++Vr,++Tr>=Hr&&(Tr=0,++Er<=He&&!(Er%16)&&Tn(_r,Er));else{if(!(280>Xr)){Qr=0;break e}Xr=Pn(Xr-256,jr);var ci,ai=an(Zr.G[4],Zr.H[4],jr);if(lr(jr),!(Vr>=(ai=zn(Hr,ai=Pn(ai,jr)))&&zr-Vr>=Xr)){Qr=0;break e}for(ci=0;ci<Xr;++ci)Cr[Wr+Vr+ci]=Cr[Wr+Vr+ci-ai];for(Vr+=Xr,Tr+=Xr;Tr>=Hr;)Tr-=Hr,++Er<=He&&!(Er%16)&&Tn(_r,Er);Vr<Jr&&Tr&ei&&(Zr=qi(Ur,Tr,Er))}e(jr.h==Qe(jr))}Tn(_r,Er>He?He:Er);break e}!Qr||jr.h&&Vr<zr?(Qr=0,_r.a=jr.h?5:3):_r.$=Vr,He=Qr}else He=kn(_r,_r.V,_r.Ba,_r.c,_r.i,He,Ms);if(!He){Ze=0;break t}}Ye+Ze>=yr&&(Ve.Cc=1),Ze=1}if(!Ze)return null;if(Ve.Cc&&((Ze=Ve.ga)!=null&&(Ze.mc=null),Ve.ga=null,0<Ve.Ga))return alert("todo:WebPDequantizeLevels"),null}return Ve.nb+Ye*dr}function qe(Ve,He,Ye,Ze,dr,yr){for(;0<dr--;){var _r,Cr=Ve,Er=He+(Ye?1:0),Tr=Ve,jr=He+(Ye?0:3);for(_r=0;_r<Ze;++_r){var Ur=Tr[jr+4*_r];Ur!=255&&(Ur*=32897,Cr[Er+4*_r+0]=Cr[Er+4*_r+0]*Ur>>23,Cr[Er+4*_r+1]=Cr[Er+4*_r+1]*Ur>>23,Cr[Er+4*_r+2]=Cr[Er+4*_r+2]*Ur>>23)}He+=yr}}function pr(Ve,He,Ye,Ze,dr){for(;0<Ze--;){var yr;for(yr=0;yr<Ye;++yr){var _r=Ve[He+2*yr+0],Cr=15&(Tr=Ve[He+2*yr+1]),Er=4369*Cr,Tr=(240&Tr|Tr>>4)*Er>>16;Ve[He+2*yr+0]=(240&_r|_r>>4)*Er>>16&240|(15&_r|_r<<4)*Er>>16>>4&15,Ve[He+2*yr+1]=240&Tr|Cr}He+=dr}}function Fr(Ve,He,Ye,Ze,dr,yr,_r,Cr){var Er,Tr,jr=255;for(Tr=0;Tr<dr;++Tr){for(Er=0;Er<Ze;++Er){var Ur=Ve[He+Er];yr[_r+4*Er]=Ur,jr&=Ur}He+=Ye,_r+=Cr}return jr!=255}function Br(Ve,He,Ye,Ze,dr){var yr;for(yr=0;yr<dr;++yr)Ye[Ze+yr]=Ve[He+yr]>>8}function qr(){ds=qe,ta=pr,ro=Fr,pl=Br}function Kr(Ve,He,Ye){Ue[Ve]=function(Ze,dr,yr,_r,Cr,Er,Tr,jr,Ur,Wr,Hr,Qr,Xr,Vr,zr,Jr,ei){var Zr,ci=ei-1>>1,ai=Cr[Er+0]|Tr[jr+0]<<16,pi=Ur[Wr+0]|Hr[Qr+0]<<16;e(Ze!=null);var li=3*ai+pi+131074>>2;for(He(Ze[dr+0],255&li,li>>16,Xr,Vr),yr!=null&&(li=3*pi+ai+131074>>2,He(yr[_r+0],255&li,li>>16,zr,Jr)),Zr=1;Zr<=ci;++Zr){var Ei=Cr[Er+Zr]|Tr[jr+Zr]<<16,Fi=Ur[Wr+Zr]|Hr[Qr+Zr]<<16,Pi=ai+Ei+pi+Fi+524296,Ci=Pi+2*(Ei+pi)>>3;li=Ci+ai>>1,ai=(Pi=Pi+2*(ai+Fi)>>3)+Ei>>1,He(Ze[dr+2*Zr-1],255&li,li>>16,Xr,Vr+(2*Zr-1)*Ye),He(Ze[dr+2*Zr-0],255&ai,ai>>16,Xr,Vr+(2*Zr-0)*Ye),yr!=null&&(li=Pi+pi>>1,ai=Ci+Fi>>1,He(yr[_r+2*Zr-1],255&li,li>>16,zr,Jr+(2*Zr-1)*Ye),He(yr[_r+2*Zr+0],255&ai,ai>>16,zr,Jr+(2*Zr+0)*Ye)),ai=Ei,pi=Fi}1&ei||(li=3*ai+pi+131074>>2,He(Ze[dr+ei-1],255&li,li>>16,Xr,Vr+(ei-1)*Ye),yr!=null&&(li=3*pi+ai+131074>>2,He(yr[_r+ei-1],255&li,li>>16,zr,Jr+(ei-1)*Ye)))}}function ii(){xn[no]=lh,xn[so]=Al,xn[_l]=hh,xn[ao]=Pl,xn[oo]=El,xn[Jo]=Tl,xn[wl]=ch,xn[Zo]=Al,xn[Qo]=Pl,xn[lo]=El,xn[tl]=Tl}function hi(Ve){return Ve&~fh?0>Ve?0:255:Ve>>kl}function di(Ve,He){return hi((19077*Ve>>8)+(26149*He>>8)-14234)}function bi(Ve,He,Ye){return hi((19077*Ve>>8)-(6419*He>>8)-(13320*Ye>>8)+8708)}function Si(Ve,He){return hi((19077*Ve>>8)+(33050*He>>8)-17685)}function Ai(Ve,He,Ye,Ze,dr){Ze[dr+0]=di(Ve,Ye),Ze[dr+1]=bi(Ve,He,Ye),Ze[dr+2]=Si(Ve,He)}function Di(Ve,He,Ye,Ze,dr){Ze[dr+0]=Si(Ve,He),Ze[dr+1]=bi(Ve,He,Ye),Ze[dr+2]=di(Ve,Ye)}function Vi(Ve,He,Ye,Ze,dr){var yr=bi(Ve,He,Ye);He=yr<<3&224|Si(Ve,He)>>3,Ze[dr+0]=248&di(Ve,Ye)|yr>>5,Ze[dr+1]=He}function Ui(Ve,He,Ye,Ze,dr){var yr=240&Si(Ve,He)|15;Ze[dr+0]=240&di(Ve,Ye)|bi(Ve,He,Ye)>>4,Ze[dr+1]=yr}function nn(Ve,He,Ye,Ze,dr){Ze[dr+0]=255,Ai(Ve,He,Ye,Ze,dr+1)}function Ki(Ve,He,Ye,Ze,dr){Di(Ve,He,Ye,Ze,dr),Ze[dr+3]=255}function Mn(Ve,He,Ye,Ze,dr){Ai(Ve,He,Ye,Ze,dr),Ze[dr+3]=255}function mn(Ve,He){return 0>Ve?0:Ve>He?He:Ve}function Jn(Ve,He,Ye){Ue[Ve]=function(Ze,dr,yr,_r,Cr,Er,Tr,jr,Ur){for(var Wr=jr+(-2&Ur)*Ye;jr!=Wr;)He(Ze[dr+0],yr[_r+0],Cr[Er+0],Tr,jr),He(Ze[dr+1],yr[_r+0],Cr[Er+0],Tr,jr+Ye),dr+=2,++_r,++Er,jr+=2*Ye;1&Ur&&He(Ze[dr+0],yr[_r+0],Cr[Er+0],Tr,jr)}}function to(Ve,He,Ye){return Ye==0?Ve==0?He==0?6:5:He==0?4:0:Ye}function ba(Ve,He,Ye,Ze,dr){switch(Ve>>>30){case 3:Zs(He,Ye,Ze,dr,0);break;case 2:Ea(He,Ye,Ze,dr);break;case 1:Rn(He,Ye,Ze,dr)}}function wa(Ve,He){var Ye,Ze,dr=He.M,yr=He.Nb,_r=Ve.oc,Cr=Ve.pc+40,Er=Ve.oc,Tr=Ve.pc+584,jr=Ve.oc,Ur=Ve.pc+600;for(Ye=0;16>Ye;++Ye)_r[Cr+32*Ye-1]=129;for(Ye=0;8>Ye;++Ye)Er[Tr+32*Ye-1]=129,jr[Ur+32*Ye-1]=129;for(0<dr?_r[Cr-1-32]=Er[Tr-1-32]=jr[Ur-1-32]=129:(Ce(_r,Cr-32-1,127,21),Ce(Er,Tr-32-1,127,9),Ce(jr,Ur-32-1,127,9)),Ze=0;Ze<Ve.za;++Ze){var Wr=He.ya[He.aa+Ze];if(0<Ze){for(Ye=-1;16>Ye;++Ye)_e(_r,Cr+32*Ye-4,_r,Cr+32*Ye+12,4);for(Ye=-1;8>Ye;++Ye)_e(Er,Tr+32*Ye-4,Er,Tr+32*Ye+4,4),_e(jr,Ur+32*Ye-4,jr,Ur+32*Ye+4,4)}var Hr=Ve.Gd,Qr=Ve.Hd+Ze,Xr=Wr.ad,Vr=Wr.Hc;if(0<dr&&(_e(_r,Cr-32,Hr[Qr].y,0,16),_e(Er,Tr-32,Hr[Qr].f,0,8),_e(jr,Ur-32,Hr[Qr].ea,0,8)),Wr.Za){var zr=_r,Jr=Cr-32+16;for(0<dr&&(Ze>=Ve.za-1?Ce(zr,Jr,Hr[Qr].y[15],4):_e(zr,Jr,Hr[Qr+1].y,0,4)),Ye=0;4>Ye;Ye++)zr[Jr+128+Ye]=zr[Jr+256+Ye]=zr[Jr+384+Ye]=zr[Jr+0+Ye];for(Ye=0;16>Ye;++Ye,Vr<<=2)zr=_r,Jr=Cr+Fl[Ye],Dn[Wr.Ob[Ye]](zr,Jr),ba(Vr,Xr,16*+Ye,zr,Jr)}else if(zr=to(Ze,dr,Wr.Ob[0]),ps[zr](_r,Cr),Vr!=0)for(Ye=0;16>Ye;++Ye,Vr<<=2)ba(Vr,Xr,16*+Ye,_r,Cr+Fl[Ye]);for(Ye=Wr.Gc,zr=to(Ze,dr,Wr.Dd),rs[zr](Er,Tr),rs[zr](jr,Ur),Vr=Xr,zr=Er,Jr=Tr,255&(Wr=Ye>>0)&&(170&Wr?fs(Vr,256,zr,Jr):Qn(Vr,256,zr,Jr)),Wr=jr,Vr=Ur,255&(Ye>>=8)&&(170&Ye?fs(Xr,320,Wr,Vr):Qn(Xr,320,Wr,Vr)),dr<Ve.Ub-1&&(_e(Hr[Qr].y,0,_r,Cr+480,16),_e(Hr[Qr].f,0,Er,Tr+224,8),_e(Hr[Qr].ea,0,jr,Ur+224,8)),Ye=8*yr*Ve.B,Hr=Ve.sa,Qr=Ve.ta+16*Ze+16*yr*Ve.R,Xr=Ve.qa,Wr=Ve.ra+8*Ze+Ye,Vr=Ve.Ha,zr=Ve.Ia+8*Ze+Ye,Ye=0;16>Ye;++Ye)_e(Hr,Qr+Ye*Ve.R,_r,Cr+32*Ye,16);for(Ye=0;8>Ye;++Ye)_e(Xr,Wr+Ye*Ve.B,Er,Tr+32*Ye,8),_e(Vr,zr+Ye*Ve.B,jr,Ur+32*Ye,8)}}function Ws(Ve,He,Ye,Ze,dr,yr,_r,Cr,Er){var Tr=[0],jr=[0],Ur=0,Wr=Er!=null?Er.kd:0,Hr=Er!=null?Er:new ma;if(Ve==null||12>Ye)return 7;Hr.data=Ve,Hr.w=He,Hr.ha=Ye,He=[He],Ye=[Ye],Hr.gb=[Hr.gb];t:{var Qr=He,Xr=Ye,Vr=Hr.gb;if(e(Ve!=null),e(Xr!=null),e(Vr!=null),Vr[0]=0,12<=Xr[0]&&!r(Ve,Qr[0],"RIFF")){if(r(Ve,Qr[0]+8,"WEBP")){Vr=3;break t}var zr=ar(Ve,Qr[0]+4);if(12>zr||4294967286<zr){Vr=3;break t}if(Wr&&zr>Xr[0]-8){Vr=7;break t}Vr[0]=zr,Qr[0]+=12,Xr[0]-=12}Vr=0}if(Vr!=0)return Vr;for(zr=0<Hr.gb[0],Ye=Ye[0];;){t:{var Jr=Ve;Xr=He,Vr=Ye;var ei=Tr,Zr=jr,ci=Qr=[0];if((li=Ur=[Ur])[0]=0,8>Vr[0])Vr=7;else{if(!r(Jr,Xr[0],"VP8X")){if(ar(Jr,Xr[0]+4)!=10){Vr=3;break t}if(18>Vr[0]){Vr=7;break t}var ai=ar(Jr,Xr[0]+8),pi=1+ur(Jr,Xr[0]+12);if(2147483648<=pi*(Jr=1+ur(Jr,Xr[0]+15))){Vr=3;break t}ci!=null&&(ci[0]=ai),ei!=null&&(ei[0]=pi),Zr!=null&&(Zr[0]=Jr),Xr[0]+=18,Vr[0]-=18,li[0]=1}Vr=0}}if(Ur=Ur[0],Qr=Qr[0],Vr!=0)return Vr;if(Xr=!!(2&Qr),!zr&&Ur)return 3;if(yr!=null&&(yr[0]=!!(16&Qr)),_r!=null&&(_r[0]=Xr),Cr!=null&&(Cr[0]=0),_r=Tr[0],Qr=jr[0],Ur&&Xr&&Er==null){Vr=0;break}if(4>Ye){Vr=7;break}if(zr&&Ur||!zr&&!Ur&&!r(Ve,He[0],"ALPH")){Ye=[Ye],Hr.na=[Hr.na],Hr.P=[Hr.P],Hr.Sa=[Hr.Sa];t:{ai=Ve,Vr=He,zr=Ye;var li=Hr.gb;ei=Hr.na,Zr=Hr.P,ci=Hr.Sa,pi=22,e(ai!=null),e(zr!=null),Jr=Vr[0];var Ei=zr[0];for(e(ei!=null),e(ci!=null),ei[0]=null,Zr[0]=null,ci[0]=0;;){if(Vr[0]=Jr,zr[0]=Ei,8>Ei){Vr=7;break t}var Fi=ar(ai,Jr+4);if(4294967286<Fi){Vr=3;break t}var Pi=8+Fi+1&-2;if(pi+=Pi,0<li&&pi>li){Vr=3;break t}if(!r(ai,Jr,"VP8 ")||!r(ai,Jr,"VP8L")){Vr=0;break t}if(Ei[0]<Pi){Vr=7;break t}r(ai,Jr,"ALPH")||(ei[0]=ai,Zr[0]=Jr+8,ci[0]=Fi),Jr+=Pi,Ei-=Pi}}if(Ye=Ye[0],Hr.na=Hr.na[0],Hr.P=Hr.P[0],Hr.Sa=Hr.Sa[0],Vr!=0)break}Ye=[Ye],Hr.Ja=[Hr.Ja],Hr.xa=[Hr.xa];t:if(li=Ve,Vr=He,zr=Ye,ei=Hr.gb[0],Zr=Hr.Ja,ci=Hr.xa,ai=Vr[0],Jr=!r(li,ai,"VP8 "),pi=!r(li,ai,"VP8L"),e(li!=null),e(zr!=null),e(Zr!=null),e(ci!=null),8>zr[0])Vr=7;else{if(Jr||pi){if(li=ar(li,ai+4),12<=ei&&li>ei-12){Vr=3;break t}if(Wr&&li>zr[0]-8){Vr=7;break t}Zr[0]=li,Vr[0]+=8,zr[0]-=8,ci[0]=pi}else ci[0]=5<=zr[0]&&li[ai+0]==47&&!(li[ai+4]>>5),Zr[0]=zr[0];Vr=0}if(Ye=Ye[0],Hr.Ja=Hr.Ja[0],Hr.xa=Hr.xa[0],He=He[0],Vr!=0)break;if(4294967286<Hr.Ja)return 3;if(Cr==null||Xr||(Cr[0]=Hr.xa?2:1),_r=[_r],Qr=[Qr],Hr.xa){if(5>Ye){Vr=7;break}Cr=_r,Wr=Qr,Xr=yr,Ve==null||5>Ye?Ve=0:5<=Ye&&Ve[He+0]==47&&!(Ve[He+4]>>5)?(zr=[0],li=[0],ei=[0],Je(Zr=new Xe,Ve,He,Ye),mi(Zr,zr,li,ei)?(Cr!=null&&(Cr[0]=zr[0]),Wr!=null&&(Wr[0]=li[0]),Xr!=null&&(Xr[0]=ei[0]),Ve=1):Ve=0):Ve=0}else{if(10>Ye){Vr=7;break}Cr=Qr,Ve==null||10>Ye||!Ba(Ve,He+3,Ye-3)?Ve=0:(Wr=Ve[He+0]|Ve[He+1]<<8|Ve[He+2]<<16,Xr=16383&(Ve[He+7]<<8|Ve[He+6]),Ve=16383&(Ve[He+9]<<8|Ve[He+8]),1&Wr||3<(Wr>>1&7)||!(Wr>>4&1)||Wr>>5>=Hr.Ja||!Xr||!Ve?Ve=0:(_r&&(_r[0]=Xr),Cr&&(Cr[0]=Ve),Ve=1))}if(!Ve||(_r=_r[0],Qr=Qr[0],Ur&&(Tr[0]!=_r||jr[0]!=Qr)))return 3;Er!=null&&(Er[0]=Hr,Er.offset=He-Er.w,e(4294967286>He-Er.w),e(Er.offset==Er.ha-Ye));break}return Vr==0||Vr==7&&Ur&&Er==null?(yr!=null&&(yr[0]|=Hr.na!=null&&0<Hr.na.length),Ze!=null&&(Ze[0]=_r),dr!=null&&(dr[0]=Qr),0):Vr}function Sa(Ve,He,Ye){var Ze=He.width,dr=He.height,yr=0,_r=0,Cr=Ze,Er=dr;if(He.Da=Ve!=null&&0<Ve.Da,He.Da&&(Cr=Ve.cd,Er=Ve.bd,yr=Ve.v,_r=Ve.j,11>Ye||(yr&=-2,_r&=-2),0>yr||0>_r||0>=Cr||0>=Er||yr+Cr>Ze||_r+Er>dr))return 0;if(He.v=yr,He.j=_r,He.va=yr+Cr,He.o=_r+Er,He.U=Cr,He.T=Er,He.da=Ve!=null&&0<Ve.da,He.da){if(!kr(Cr,Er,Ye=[Ve.ib],yr=[Ve.hb]))return 0;He.ib=Ye[0],He.hb=yr[0]}return He.ob=Ve!=null&&Ve.ob,He.Kb=Ve==null||!Ve.Sd,He.da&&(He.ob=He.ib<3*Ze/4&&He.hb<3*dr/4,He.Kb=0),1}function xa(Ve){if(Ve==null)return 2;if(11>Ve.S){var He=Ve.f.RGBA;He.fb+=(Ve.height-1)*He.A,He.A=-He.A}else He=Ve.f.kb,Ve=Ve.height,He.O+=(Ve-1)*He.fa,He.fa=-He.fa,He.N+=(Ve-1>>1)*He.Ab,He.Ab=-He.Ab,He.W+=(Ve-1>>1)*He.Db,He.Db=-He.Db,He.F!=null&&(He.J+=(Ve-1)*He.lb,He.lb=-He.lb);return 0}function Ys(Ve,He,Ye,Ze){if(Ze==null||0>=Ve||0>=He)return 2;if(Ye!=null){if(Ye.Da){var dr=Ye.cd,yr=Ye.bd,_r=-2&Ye.v,Cr=-2&Ye.j;if(0>_r||0>Cr||0>=dr||0>=yr||_r+dr>Ve||Cr+yr>He)return 2;Ve=dr,He=yr}if(Ye.da){if(!kr(Ve,He,dr=[Ye.ib],yr=[Ye.hb]))return 2;Ve=dr[0],He=yr[0]}}Ze.width=Ve,Ze.height=He;t:{var Er=Ze.width,Tr=Ze.height;if(Ve=Ze.S,0>=Er||0>=Tr||!(Ve>=no&&13>Ve))Ve=2;else{if(0>=Ze.Rd&&Ze.sd==null){_r=yr=dr=He=0;var jr=(Cr=Er*Ml[Ve])*Tr;if(11>Ve||(yr=(Tr+1)/2*(He=(Er+1)/2),Ve==12&&(_r=(dr=Er)*Tr)),(Tr=Ee(jr+2*yr+_r))==null){Ve=1;break t}Ze.sd=Tr,11>Ve?((Er=Ze.f.RGBA).eb=Tr,Er.fb=0,Er.A=Cr,Er.size=jr):((Er=Ze.f.kb).y=Tr,Er.O=0,Er.fa=Cr,Er.Fd=jr,Er.f=Tr,Er.N=0+jr,Er.Ab=He,Er.Cd=yr,Er.ea=Tr,Er.W=0+jr+yr,Er.Db=He,Er.Ed=yr,Ve==12&&(Er.F=Tr,Er.J=0+jr+2*yr),Er.Tc=_r,Er.lb=dr)}if(He=1,dr=Ze.S,yr=Ze.width,_r=Ze.height,dr>=no&&13>dr)if(11>dr)Ve=Ze.f.RGBA,He&=(Cr=Math.abs(Ve.A))*(_r-1)+yr<=Ve.size,He&=Cr>=yr*Ml[dr],He&=Ve.eb!=null;else{Ve=Ze.f.kb,Cr=(yr+1)/2,jr=(_r+1)/2,Er=Math.abs(Ve.fa),Tr=Math.abs(Ve.Ab);var Ur=Math.abs(Ve.Db),Wr=Math.abs(Ve.lb),Hr=Wr*(_r-1)+yr;He&=Er*(_r-1)+yr<=Ve.Fd,He&=Tr*(jr-1)+Cr<=Ve.Cd,He=(He&=Ur*(jr-1)+Cr<=Ve.Ed)&Er>=yr&Tr>=Cr&Ur>=Cr,He&=Ve.y!=null,He&=Ve.f!=null,He&=Ve.ea!=null,dr==12&&(He&=Wr>=yr,He&=Hr<=Ve.Tc,He&=Ve.F!=null)}else He=0;Ve=He?0:2}}return Ve!=0||Ye!=null&&Ye.fd&&(Ve=xa(Ze)),Ve}var hn=64,Xs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$s=24,Ks=32,Ca=8,cn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Dr("Predictor0","PredictorAdd0"),Ue.Predictor0=function(){return 4278190080},Ue.Predictor1=function(Ve){return Ve},Ue.Predictor2=function(Ve,He,Ye){return He[Ye+0]},Ue.Predictor3=function(Ve,He,Ye){return He[Ye+1]},Ue.Predictor4=function(Ve,He,Ye){return He[Ye-1]},Ue.Predictor5=function(Ve,He,Ye){return Mr(Mr(Ve,He[Ye+1]),He[Ye+0])},Ue.Predictor6=function(Ve,He,Ye){return Mr(Ve,He[Ye-1])},Ue.Predictor7=function(Ve,He,Ye){return Mr(Ve,He[Ye+0])},Ue.Predictor8=function(Ve,He,Ye){return Mr(He[Ye-1],He[Ye+0])},Ue.Predictor9=function(Ve,He,Ye){return Mr(He[Ye+0],He[Ye+1])},Ue.Predictor10=function(Ve,He,Ye){return Mr(Mr(Ve,He[Ye-1]),Mr(He[Ye+0],He[Ye+1]))},Ue.Predictor11=function(Ve,He,Ye){var Ze=He[Ye+0];return 0>=$r(Ze>>24&255,Ve>>24&255,(He=He[Ye-1])>>24&255)+$r(Ze>>16&255,Ve>>16&255,He>>16&255)+$r(Ze>>8&255,Ve>>8&255,He>>8&255)+$r(255&Ze,255&Ve,255&He)?Ze:Ve},Ue.Predictor12=function(Ve,He,Ye){var Ze=He[Ye+0];return(Gr((Ve>>24&255)+(Ze>>24&255)-((He=He[Ye-1])>>24&255))<<24|Gr((Ve>>16&255)+(Ze>>16&255)-(He>>16&255))<<16|Gr((Ve>>8&255)+(Ze>>8&255)-(He>>8&255))<<8|Gr((255&Ve)+(255&Ze)-(255&He)))>>>0},Ue.Predictor13=function(Ve,He,Ye){var Ze=He[Ye-1];return(Yr((Ve=Mr(Ve,He[Ye+0]))>>24&255,Ze>>24&255)<<24|Yr(Ve>>16&255,Ze>>16&255)<<16|Yr(Ve>>8&255,Ze>>8&255)<<8|Yr(Ve>>0&255,Ze>>0&255))>>>0};var Yo=Ue.PredictorAdd0;Ue.PredictorAdd1=ti,Dr("Predictor2","PredictorAdd2"),Dr("Predictor3","PredictorAdd3"),Dr("Predictor4","PredictorAdd4"),Dr("Predictor5","PredictorAdd5"),Dr("Predictor6","PredictorAdd6"),Dr("Predictor7","PredictorAdd7"),Dr("Predictor8","PredictorAdd8"),Dr("Predictor9","PredictorAdd9"),Dr("Predictor10","PredictorAdd10"),Dr("Predictor11","PredictorAdd11"),Dr("Predictor12","PredictorAdd12"),Dr("Predictor13","PredictorAdd13");var Aa=Ue.PredictorAdd2;fi("ColorIndexInverseTransform","MapARGB","32b",function(Ve){return Ve>>8&255},function(Ve){return Ve}),fi("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(Ve){return Ve},function(Ve){return Ve>>8&255});var eo,On=Ue.ColorIndexInverseTransform,Pa=Ue.MapARGB,Xo=Ue.VP8LColorIndexInverseTransformAlpha,$o=Ue.MapAlpha,hs=Ue.VP8LPredictorsAdd=[];hs.length=16,(Ue.VP8LPredictors=[]).length=16,(Ue.VP8LPredictorsAdd_C=[]).length=16,(Ue.VP8LPredictors_C=[]).length=16;var _n,In,cs,Un,Zn,Js,Nn,Zs,Ea,fs,Rn,Qn,Ts,Qs,ks,us,Ta,wn,ts,Ni,Ri,Gi,$i,es,ds,ta,ro,pl,ml=Ee(511),gl=Ee(2041),vl=Ee(225),yl=Ee(767),bl=0,Ko=gl,io=vl,gn=yl,Sn=ml,no=0,so=1,_l=2,ao=3,oo=4,Jo=5,wl=6,Zo=7,Qo=8,lo=9,tl=10,Xl=[2,3,7],$l=[3,3,11],Sl=[280,256,256,256,40],Kl=[0,1,1,1,0],Jl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ql=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],th=8,el=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ka=null,eh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ih=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],nh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],sh=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ah=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ps=[],Dn=[],rs=[],oh=1,Cl=2,ms=[],xn=[];Kr("UpsampleRgbLinePair",Ai,3),Kr("UpsampleBgrLinePair",Di,3),Kr("UpsampleRgbaLinePair",Mn,4),Kr("UpsampleBgraLinePair",Ki,4),Kr("UpsampleArgbLinePair",nn,4),Kr("UpsampleRgba4444LinePair",Ui,2),Kr("UpsampleRgb565LinePair",Vi,2);var lh=Ue.UpsampleRgbLinePair,hh=Ue.UpsampleBgrLinePair,Al=Ue.UpsampleRgbaLinePair,Pl=Ue.UpsampleBgraLinePair,El=Ue.UpsampleArgbLinePair,Tl=Ue.UpsampleRgba4444LinePair,ch=Ue.UpsampleRgb565LinePair,ho=16,co=1<<ho-1,La=-227,il=482,kl=6,fh=(256<<kl)-1,Ll=0,uh=Ee(256),dh=Ee(256),ph=Ee(256),mh=Ee(256),gh=Ee(il-La),vh=Ee(il-La);Jn("YuvToRgbRow",Ai,3),Jn("YuvToBgrRow",Di,3),Jn("YuvToRgbaRow",Mn,4),Jn("YuvToBgraRow",Ki,4),Jn("YuvToArgbRow",nn,4),Jn("YuvToRgba4444Row",Ui,2),Jn("YuvToRgb565Row",Vi,2);var Fl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fo=[0,2,8],yh=[8,7,6,4,4,2,2,2,1,1,1,1],bh=1;this.WebPDecodeRGBA=function(Ve,He,Ye,Ze,dr){var yr=so,_r=new qs,Cr=new An;_r.ba=Cr,Cr.S=yr,Cr.width=[Cr.width],Cr.height=[Cr.height];var Er=Cr.width,Tr=Cr.height,jr=new Yn;if(jr==null||Ve==null)var Ur=2;else e(jr!=null),Ur=Ws(Ve,He,Ye,jr.width,jr.height,jr.Pd,jr.Qd,jr.format,null);if(Ur!=0?Er=0:(Er!=null&&(Er[0]=jr.width[0]),Tr!=null&&(Tr[0]=jr.height[0]),Er=1),Er){Cr.width=Cr.width[0],Cr.height=Cr.height[0],Ze!=null&&(Ze[0]=Cr.width),dr!=null&&(dr[0]=Cr.height);t:{if(Ze=new Ds,(dr=new ma).data=Ve,dr.w=He,dr.ha=Ye,dr.kd=1,He=[0],e(dr!=null),((Ve=Ws(dr.data,dr.w,dr.ha,null,null,null,He,null,dr))==0||Ve==7)&&He[0]&&(Ve=4),(He=Ve)==0){if(e(_r!=null),Ze.data=dr.data,Ze.w=dr.w+dr.offset,Ze.ha=dr.ha-dr.offset,Ze.put=jn,Ze.ac=tn,Ze.bc=Vn,Ze.ma=_r,dr.xa){if((Ve=bn())==null){_r=1;break t}if(function(Wr,Hr){var Qr=[0],Xr=[0],Vr=[0];e:for(;;){if(Wr==null)return 0;if(Hr==null)return Wr.a=2,0;if(Wr.l=Hr,Wr.a=0,Je(Wr.m,Hr.data,Hr.w,Hr.ha),!mi(Wr.m,Qr,Xr,Vr)){Wr.a=3;break e}if(Wr.xb=Cl,Hr.width=Qr[0],Hr.height=Xr[0],!Gn(Qr[0],Xr[0],1,Wr,null))break e;return 1}return e(Wr.a!=0),0}(Ve,Ze)){if(Ze=(He=Ys(Ze.width,Ze.height,_r.Oa,_r.ba))==0){e:{Ze=Ve;r:for(;;){if(Ze==null){Ze=0;break e}if(e(Ze.s.yc!=null),e(Ze.s.Ya!=null),e(0<Ze.s.Wb),e((Ye=Ze.l)!=null),e((dr=Ye.ma)!=null),Ze.xb!=0){if(Ze.ca=dr.ba,Ze.tb=dr.tb,e(Ze.ca!=null),!Sa(dr.Oa,Ye,ao)){Ze.a=2;break r}if(!xs(Ze,Ye.width)||Ye.da)break r;if((Ye.da||ki(Ze.ca.S))&&qr(),11>Ze.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Ze.ca.f.kb.F!=null&&qr()),Ze.Pb&&0<Ze.s.ua&&Ze.s.vb.X==null&&!Sr(Ze.s.vb,Ze.s.Wa.Xa)){Ze.a=1;break r}Ze.xb=0}if(!kn(Ze,Ze.V,Ze.Ba,Ze.c,Ze.i,Ye.o,Fs))break r;dr.Dc=Ze.Ma,Ze=1;break e}e(Ze.a!=0),Ze=0}Ze=!Ze}Ze&&(He=Ve.a)}else He=Ve.a}else{if((Ve=new To)==null){_r=1;break t}if(Ve.Fa=dr.na,Ve.P=dr.P,Ve.qc=dr.Sa,ja(Ve,Ze)){if((He=Ys(Ze.width,Ze.height,_r.Oa,_r.ba))==0){if(Ve.Aa=0,Ye=_r.Oa,e((dr=Ve)!=null),Ye!=null){if(0<(Er=0>(Er=Ye.Md)?0:100<Er?255:255*Er/100)){for(Tr=jr=0;4>Tr;++Tr)12>(Ur=dr.pb[Tr]).lc&&(Ur.ia=Er*yh[0>Ur.lc?0:Ur.lc]>>3),jr|=Ur.ia;jr&&(alert("todo:VP8InitRandom"),dr.ia=1)}dr.Ga=Ye.Id,100<dr.Ga?dr.Ga=100:0>dr.Ga&&(dr.Ga=0)}ko(Ve,Ze)||(He=Ve.a)}}else He=Ve.a}He==0&&_r.Oa!=null&&_r.Oa.fd&&(He=xa(_r.ba))}_r=He}yr=_r!=0?null:11>yr?Cr.f.RGBA.eb:Cr.f.kb.y}else yr=null;return yr};var Ml=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Te(Ue,hr){for(var xr="",rr=0;rr<4;rr++)xr+=String.fromCharCode(Ue[hr++]);return xr}function ke(Ue,hr){return(Ue[hr+0]<<0|Ue[hr+1]<<8|Ue[hr+2]<<16)>>>0}function Ae(Ue,hr){return(Ue[hr+0]<<0|Ue[hr+1]<<8|Ue[hr+2]<<16|Ue[hr+3]<<24)>>>0}new St;var xe=[0],Se=[0],Fe=[],Ie=new St,Me=t,Oe=function(Ue,hr){var xr={},rr=0,er=!1,vr=0,gr=0;if(xr.frames=[],!function(cr,Qe,Ke,lr){for(var mr=0;mr<lr;mr++)if(cr[Qe+mr]!=Ke.charCodeAt(mr))return!0;return!1}(Ue,hr,"RIFF",4)){var br,sr;for(Ae(Ue,hr+=4),hr+=8;hr<Ue.length;){var nr=Te(Ue,hr),Je=Ae(Ue,hr+=4);hr+=4;var $e=Je+(1&Je);switch(nr){case"VP8 ":case"VP8L":xr.frames[rr]===void 0&&(xr.frames[rr]={}),(Xe=xr.frames[rr]).src_off=er?gr:hr-8,Xe.src_size=vr+Je+8,rr++,er&&(er=!1,vr=0,gr=0);break;case"VP8X":(Xe=xr.header={}).feature_flags=Ue[hr];var tr=hr+4;Xe.canvas_width=1+ke(Ue,tr),tr+=3,Xe.canvas_height=1+ke(Ue,tr),tr+=3;break;case"ALPH":er=!0,vr=$e+8,gr=hr-8;break;case"ANIM":(Xe=xr.header).bgcolor=Ae(Ue,hr),tr=hr+4,Xe.loop_count=(br=Ue)[(sr=tr)+0]<<0|br[sr+1]<<8,tr+=2;break;case"ANMF":var ir,Xe;(Xe=xr.frames[rr]={}).offset_x=2*ke(Ue,hr),hr+=3,Xe.offset_y=2*ke(Ue,hr),hr+=3,Xe.width=1+ke(Ue,hr),hr+=3,Xe.height=1+ke(Ue,hr),hr+=3,Xe.duration=ke(Ue,hr),hr+=3,ir=Ue[hr++],Xe.dispose=1&ir,Xe.blend=ir>>1&1}nr!="ANMF"&&(hr+=$e)}return xr}}(Me,0);Oe.response=Me,Oe.rgbaoutput=!0,Oe.dataurl=!1;var De=Oe.header?Oe.header:null,Be=Oe.frames?Oe.frames:null;if(De){De.loop_counter=De.loop_count,xe=[De.canvas_height],Se=[De.canvas_width];for(var je=0;je<Be.length&&Be[je].blend!=0;je++);}var ze=Be[0],Ge=Ie.WebPDecodeRGBA(Me,ze.src_off,ze.src_size,Se,xe);ze.rgba=Ge,ze.imgwidth=Se[0],ze.imgheight=xe[0];for(var We=0;We<Se[0]*xe[0]*4;We++)Fe[We]=Ge[We];return this.width=Se,this.height=xe,this.data=Fe,this}(function(t){var e=function(){return typeof zlibSync=="function"},r=function(xe,Se,Fe,Ie){var Me=4,Oe=Re;switch(Ie){case t.image_compression.FAST:Me=1,Oe=Ee;break;case t.image_compression.MEDIUM:Me=6,Oe=Pe;break;case t.image_compression.SLOW:Me=9,Oe=St}xe=_e(xe,Se,Fe,Oe);var De=zlibSync(xe,{level:Me});return t.__addimage__.arrayBufferToBinaryString(De)},_e=function(xe,Se,Fe,Ie){for(var Me,Oe,De,Be=xe.length/Se,je=new Uint8Array(xe.length+Be),ze=ke(),Ge=0;Ge<Be;Ge+=1){if(De=Ge*Se,Me=xe.subarray(De,De+Se),Ie)je.set(Ie(Me,Fe,Oe),De+Ge);else{for(var We,Ue=ze.length,hr=[];We<Ue;We+=1)hr[We]=ze[We](Me,Fe,Oe);var xr=Ae(hr.concat());je.set(hr[xr],De+Ge)}Oe=Me}return je},Ce=function(xe){var Se=Array.apply([],xe);return Se.unshift(0),Se},Ee=function(xe,Se){var Fe,Ie=[],Me=xe.length;Ie[0]=1;for(var Oe=0;Oe<Me;Oe+=1)Fe=xe[Oe-Se]||0,Ie[Oe+1]=xe[Oe]-Fe+256&255;return Ie},Re=function(xe,Se,Fe){var Ie,Me=[],Oe=xe.length;Me[0]=2;for(var De=0;De<Oe;De+=1)Ie=Fe&&Fe[De]||0,Me[De+1]=xe[De]-Ie+256&255;return Me},Pe=function(xe,Se,Fe){var Ie,Me,Oe=[],De=xe.length;Oe[0]=3;for(var Be=0;Be<De;Be+=1)Ie=xe[Be-Se]||0,Me=Fe&&Fe[Be]||0,Oe[Be+1]=xe[Be]+256-(Ie+Me>>>1)&255;return Oe},St=function(xe,Se,Fe){var Ie,Me,Oe,De,Be=[],je=xe.length;Be[0]=4;for(var ze=0;ze<je;ze+=1)Ie=xe[ze-Se]||0,Me=Fe&&Fe[ze]||0,Oe=Fe&&Fe[ze-Se]||0,De=Te(Ie,Me,Oe),Be[ze+1]=xe[ze]-De+256&255;return Be},Te=function(xe,Se,Fe){if(xe===Se&&Se===Fe)return xe;var Ie=Math.abs(Se-Fe),Me=Math.abs(xe-Fe),Oe=Math.abs(xe+Se-Fe-Fe);return Ie<=Me&&Ie<=Oe?xe:Me<=Oe?Se:Fe},ke=function(){return[Ce,Ee,Re,Pe,St]},Ae=function(xe){var Se=xe.map(function(Fe){return Fe.reduce(function(Ie,Me){return Ie+Math.abs(Me)},0)});return Se.indexOf(Math.min.apply(null,Se))};t.processPNG=function(xe,Se,Fe,Ie){var Me,Oe,De,Be,je,ze,Ge,We,Ue,hr,xr,rr,er,vr,gr,br=this.decode.FLATE_DECODE,sr="";if(this.__addimage__.isArrayBuffer(xe)&&(xe=new Uint8Array(xe)),this.__addimage__.isArrayBufferView(xe)){if(xe=(De=new Kt(xe)).imgData,Oe=De.bits,Me=De.colorSpace,je=De.colors,[4,6].indexOf(De.colorType)!==-1){if(De.bits===8){Ue=(We=De.pixelBitlength==32?new Uint32Array(De.decodePixels().buffer):De.pixelBitlength==16?new Uint16Array(De.decodePixels().buffer):new Uint8Array(De.decodePixels().buffer)).length,xr=new Uint8Array(Ue*De.colors),hr=new Uint8Array(Ue);var nr,Je=De.pixelBitlength-De.bits;for(vr=0,gr=0;vr<Ue;vr++){for(er=We[vr],nr=0;nr<Je;)xr[gr++]=er>>>nr&255,nr+=De.bits;hr[vr]=er>>>nr&255}}if(De.bits===16){Ue=(We=new Uint32Array(De.decodePixels().buffer)).length,xr=new Uint8Array(Ue*(32/De.pixelBitlength)*De.colors),hr=new Uint8Array(Ue*(32/De.pixelBitlength)),rr=De.colors>1,vr=0,gr=0;for(var $e=0;vr<Ue;)er=We[vr++],xr[gr++]=er>>>0&255,rr&&(xr[gr++]=er>>>16&255,er=We[vr++],xr[gr++]=er>>>0&255),hr[$e++]=er>>>16&255;Oe=8}Ie!==t.image_compression.NONE&&e()?(xe=r(xr,De.width*De.colors,De.colors,Ie),Ge=r(hr,De.width,1,Ie)):(xe=xr,Ge=hr,br=void 0)}if(De.colorType===3&&(Me=this.color_spaces.INDEXED,ze=De.palette,De.transparency.indexed)){var tr=De.transparency.indexed,ir=0;for(vr=0,Ue=tr.length;vr<Ue;++vr)ir+=tr[vr];if((ir/=255)===Ue-1&&tr.indexOf(0)!==-1)Be=[tr.indexOf(0)];else if(ir!==Ue){for(We=De.decodePixels(),hr=new Uint8Array(We.length),vr=0,Ue=We.length;vr<Ue;vr++)hr[vr]=tr[We[vr]];Ge=r(hr,De.width,1)}}var Xe=function(cr){var Qe;switch(cr){case t.image_compression.FAST:Qe=11;break;case t.image_compression.MEDIUM:Qe=13;break;case t.image_compression.SLOW:Qe=14;break;default:Qe=12}return Qe}(Ie);return br===this.decode.FLATE_DECODE&&(sr="/Predictor "+Xe+" "),sr+="/Colors "+je+" /BitsPerComponent "+Oe+" /Columns "+De.width,(this.__addimage__.isArrayBuffer(xe)||this.__addimage__.isArrayBufferView(xe))&&(xe=this.__addimage__.arrayBufferToBinaryString(xe)),(Ge&&this.__addimage__.isArrayBuffer(Ge)||this.__addimage__.isArrayBufferView(Ge))&&(Ge=this.__addimage__.arrayBufferToBinaryString(Ge)),{alias:Fe,data:xe,index:Se,filter:br,decodeParameters:sr,transparency:Be,palette:ze,sMask:Ge,predictor:Xe,width:De.width,height:De.height,bitsPerComponent:Oe,colorSpace:Me}}}})(E.API),function(t){t.processGIF89A=function(e,r,_e,Ce){var Ee=new Zt(e),Re=Ee.width,Pe=Ee.height,St=[];Ee.decodeAndBlitFrameRGBA(0,St);var Te={data:St,width:Re,height:Pe},ke=new Qt(100).encode(Te,100);return t.processJPEG.call(this,ke,r,_e,Ce)},t.processGIF87A=t.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),_e=this.datav.getUint8(this.pos++,!0),Ce=this.datav.getUint8(this.pos++,!0),Ee=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:Ce,green:_e,blue:r,quad:Ee}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){a.log("bit decode error:"+r)}},te.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var _e=this.bottom_up?t:this.height-1-t,Ce=0;Ce<e;Ce++)for(var Ee=this.datav.getUint8(this.pos++,!0),Re=_e*this.width*4+8*Ce*4,Pe=0;Pe<8&&8*Ce+Pe<this.width;Pe++){var St=this.palette[Ee>>7-Pe&1];this.data[Re+4*Pe]=St.blue,this.data[Re+4*Pe+1]=St.green,this.data[Re+4*Pe+2]=St.red,this.data[Re+4*Pe+3]=255}r!==0&&(this.pos+=4-r)}},te.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var _e=this.bottom_up?r:this.height-1-r,Ce=0;Ce<t;Ce++){var Ee=this.datav.getUint8(this.pos++,!0),Re=_e*this.width*4+2*Ce*4,Pe=Ee>>4,St=15&Ee,Te=this.palette[Pe];if(this.data[Re]=Te.blue,this.data[Re+1]=Te.green,this.data[Re+2]=Te.red,this.data[Re+3]=255,2*Ce+1>=this.width)break;Te=this.palette[St],this.data[Re+4]=Te.blue,this.data[Re+4+1]=Te.green,this.data[Re+4+2]=Te.red,this.data[Re+4+3]=255}e!==0&&(this.pos+=4-e)}},te.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,_e=0;_e<this.width;_e++){var Ce=this.datav.getUint8(this.pos++,!0),Ee=r*this.width*4+4*_e;if(Ce<this.palette.length){var Re=this.palette[Ce];this.data[Ee]=Re.red,this.data[Ee+1]=Re.green,this.data[Ee+2]=Re.blue,this.data[Ee+3]=255}else this.data[Ee]=255,this.data[Ee+1]=255,this.data[Ee+2]=255,this.data[Ee+3]=255}t!==0&&(this.pos+=4-t)}},te.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var _e=this.bottom_up?r:this.height-1-r,Ce=0;Ce<this.width;Ce++){var Ee=this.datav.getUint16(this.pos,!0);this.pos+=2;var Re=(Ee&e)/e*255|0,Pe=(Ee>>5&e)/e*255|0,St=(Ee>>10&e)/e*255|0,Te=Ee>>15?255:0,ke=_e*this.width*4+4*Ce;this.data[ke]=St,this.data[ke+1]=Pe,this.data[ke+2]=Re,this.data[ke+3]=Te}this.pos+=t}},te.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),_e=this.height-1;_e>=0;_e--){for(var Ce=this.bottom_up?_e:this.height-1-_e,Ee=0;Ee<this.width;Ee++){var Re=this.datav.getUint16(this.pos,!0);this.pos+=2;var Pe=(Re&e)/e*255|0,St=(Re>>5&r)/r*255|0,Te=(Re>>11)/e*255|0,ke=Ce*this.width*4+4*Ee;this.data[ke]=Te,this.data[ke+1]=St,this.data[ke+2]=Pe,this.data[ke+3]=255}this.pos+=t}},te.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var _e=this.datav.getUint8(this.pos++,!0),Ce=this.datav.getUint8(this.pos++,!0),Ee=this.datav.getUint8(this.pos++,!0),Re=e*this.width*4+4*r;this.data[Re]=Ee,this.data[Re+1]=Ce,this.data[Re+2]=_e,this.data[Re+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var _e=this.datav.getUint8(this.pos++,!0),Ce=this.datav.getUint8(this.pos++,!0),Ee=this.datav.getUint8(this.pos++,!0),Re=this.datav.getUint8(this.pos++,!0),Pe=e*this.width*4+4*r;this.data[Pe]=Ee,this.data[Pe+1]=Ce,this.data[Pe+2]=_e,this.data[Pe+3]=Re}},te.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,_e,Ce){var Ee=new te(e,!1),Re=Ee.width,Pe=Ee.height,St={data:Ee.getData(),width:Re,height:Pe},Te=new Qt(100).encode(St,100);return t.processJPEG.call(this,Te,r,_e,Ce)}}(E.API),ee.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,_e,Ce){var Ee=new ee(e),Re=Ee.width,Pe=Ee.height,St={data:Ee.getData(),width:Re,height:Pe},Te=new Qt(100).encode(St,100);return t.processJPEG.call(this,Te,r,_e,Ce)}}(E.API),E.API.processRGBA=function(t,e,r){for(var _e=t.data,Ce=_e.length,Ee=new Uint8Array(Ce/4*3),Re=new Uint8Array(Ce/4),Pe=0,St=0,Te=0;Te<Ce;Te+=4){var ke=_e[Te],Ae=_e[Te+1],xe=_e[Te+2],Se=_e[Te+3];Ee[Pe++]=ke,Ee[Pe++]=Ae,Ee[Pe++]=xe,Re[St++]=Se}var Fe=this.__addimage__.arrayBufferToBinaryString(Ee);return{alpha:this.__addimage__.arrayBufferToBinaryString(Re),data:Fe,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},E.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(t,e){var r,_e,Ce=(e=e||{}).font||this.internal.getFont(),Ee=e.fontSize||this.internal.getFontSize(),Re=e.charSpace||this.internal.getCharSpace(),Pe=e.widths?e.widths:Ce.metadata.Unicode.widths,St=Pe.fof?Pe.fof:1,Te=e.kerning?e.kerning:Ce.metadata.Unicode.kerning,ke=Te.fof?Te.fof:1,Ae=e.doKerning!==!1,xe=0,Se=t.length,Fe=0,Ie=Pe[0]||St,Me=[];for(r=0;r<Se;r++)_e=t.charCodeAt(r),typeof Ce.metadata.widthOfString=="function"?Me.push((Ce.metadata.widthOfGlyph(Ce.metadata.characterToGlyph(_e))+Re*(1e3/Ee)||0)/1e3):(xe=Ae&&_typeof(Te[_e])==="object"&&!isNaN(parseInt(Te[_e][Fe],10))?Te[_e][Fe]/ke:0,Me.push((Pe[_e]||Ie)/St+xe)),Fe=_e;return Me},Yt=Vt.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),_e=e.font||this.internal.getFont(),Ce=e.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(t=Vt.processArabic(t)),typeof _e.metadata.widthOfString=="function"?_e.metadata.widthOfString(t,r,Ce)/r:Gt.apply(this,arguments).reduce(function(Ee,Re){return Ee+Re},0)},Jt=function(t,e,r,_e){for(var Ce=[],Ee=0,Re=t.length,Pe=0;Ee!==Re&&Pe+e[Ee]<r;)Pe+=e[Ee],Ee++;Ce.push(t.slice(0,Ee));var St=Ee;for(Pe=0;Ee!==Re;)Pe+e[Ee]>_e&&(Ce.push(t.slice(St,Ee)),Pe=0,St=Ee),Pe+=e[Ee],Ee++;return St!==Ee&&Ce.push(t.slice(St,Ee)),Ce},Xt=function(t,e,r){r||(r={});var _e,Ce,Ee,Re,Pe,St,Te,ke=[],Ae=[ke],xe=r.textIndent||0,Se=0,Fe=0,Ie=t.split(" "),Me=Gt.apply(this,[" ",r])[0];if(St=r.lineIndent===-1?Ie[0].length+2:r.lineIndent||0){var Oe=Array(St).join(" "),De=[];Ie.map(function(je){(je=je.split(/\s*\n/)).length>1?De=De.concat(je.map(function(ze,Ge){return(Ge&&ze.length?`
`:"")+ze})):De.push(je[0])}),Ie=De,St=Yt.apply(this,[Oe,r])}for(Ee=0,Re=Ie.length;Ee<Re;Ee++){var Be=0;if(_e=Ie[Ee],St&&_e[0]==`
`&&(_e=_e.substr(1),Be=1),xe+Se+(Fe=(Ce=Gt.apply(this,[_e,r])).reduce(function(je,ze){return je+ze},0))>e||Be){if(Fe>e){for(Pe=Jt.apply(this,[_e,Ce,e-(xe+Se),e]),ke.push(Pe.shift()),ke=[Pe.pop()];Pe.length;)Ae.push([Pe.shift()]);Fe=Ce.slice(_e.length-(ke[0]?ke[0].length:0)).reduce(function(je,ze){return je+ze},0)}else ke=[_e];Ae.push(ke),xe=Fe+St,Se=Me}else ke.push(_e),xe+=Se+Fe,Se=Me}return Te=St?function(je,ze){return(ze?Oe:"")+je.join(" ")}:function(je){return je.join(" ")},Ae.map(Te)},Vt.splitTextToSize=function(t,e,r){var _e,Ce=(r=r||{}).fontSize||this.internal.getFontSize(),Ee=function(ke){if(ke.widths&&ke.kerning)return{widths:ke.widths,kerning:ke.kerning};var Ae=this.internal.getFont(ke.fontName,ke.fontStyle);return Ae.metadata.Unicode?{widths:Ae.metadata.Unicode.widths||{0:1},kerning:Ae.metadata.Unicode.kerning||{}}:{font:Ae.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);_e=Array.isArray(t)?t:String(t).split(/\r?\n/);var Re=1*this.internal.scaleFactor*e/Ce;Ee.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/Ce:0,Ee.lineIndent=r.lineIndent;var Pe,St,Te=[];for(Pe=0,St=_e.length;Pe<St;Pe++)Te=Te.concat(Xt.apply(this,[_e[Pe],Re,Ee]));return Te},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},_e={},Ce=0;Ce<e.length;Ce++)r[e[Ce]]="0123456789abcdef"[Ce],_e["0123456789abcdef"[Ce]]=e[Ce];var Ee=function(Ae){return"0x"+parseInt(Ae,10).toString(16)},Re=t.__fontmetrics__.compress=function(Ae){var xe,Se,Fe,Ie,Me=["{"];for(var Oe in Ae){if(xe=Ae[Oe],isNaN(parseInt(Oe,10))?Se="'"+Oe+"'":(Oe=parseInt(Oe,10),Se=(Se=Ee(Oe).slice(2)).slice(0,-1)+_e[Se.slice(-1)]),typeof xe=="number")xe<0?(Fe=Ee(xe).slice(3),Ie="-"):(Fe=Ee(xe).slice(2),Ie=""),Fe=Ie+Fe.slice(0,-1)+_e[Fe.slice(-1)];else{if(_typeof(xe)!=="object")throw new Error("Don't know what to do with value type "+_typeof(xe)+".");Fe=Re(xe)}Me.push(Se+Fe)}return Me.push("}"),Me.join("")},Pe=t.__fontmetrics__.uncompress=function(Ae){if(typeof Ae!="string")throw new Error("Invalid argument passed to uncompress.");for(var xe,Se,Fe,Ie,Me={},Oe=1,De=Me,Be=[],je="",ze="",Ge=Ae.length-1,We=1;We<Ge;We+=1)(Ie=Ae[We])=="'"?xe?(Fe=xe.join(""),xe=void 0):xe=[]:xe?xe.push(Ie):Ie=="{"?(Be.push([De,Fe]),De={},Fe=void 0):Ie=="}"?((Se=Be.pop())[0][Se[1]]=De,Fe=void 0,De=Se[0]):Ie=="-"?Oe=-1:Fe===void 0?r.hasOwnProperty(Ie)?(je+=r[Ie],Fe=parseInt(je,16)*Oe,Oe=1,je=""):je+=Ie:r.hasOwnProperty(Ie)?(ze+=r[Ie],De[Fe]=parseInt(ze,16)*Oe,Oe=1,Fe=void 0,ze=""):ze+=Ie;return Me},St={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Pe("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Te={Unicode:{Courier:St,"Courier-Bold":St,"Courier-BoldOblique":St,"Courier-Oblique":St,Helvetica:St,"Helvetica-Bold":St,"Helvetica-BoldOblique":St,"Helvetica-Oblique":St,"Times-Roman":St,"Times-Bold":St,"Times-BoldItalic":St,"Times-Italic":St}},ke={Unicode:{"Courier-Oblique":Pe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Pe("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Pe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Pe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Pe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Pe("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Pe("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Pe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Pe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Pe("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Pe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Pe("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Pe("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Pe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(Ae){var xe=Ae.font,Se=ke.Unicode[xe.postScriptName];Se&&(xe.metadata.Unicode={},xe.metadata.Unicode.widths=Se.widths,xe.metadata.Unicode.kerning=Se.kerning);var Fe=Te.Unicode[xe.postScriptName];Fe&&(xe.metadata.Unicode.encoding=Fe,xe.encoding=Fe.codePages[0])}])}(E.API),function(t){var e=function(r){for(var _e=r.length,Ce=new Uint8Array(_e),Ee=0;Ee<_e;Ee++)Ce[Ee]=r.charCodeAt(Ee);return Ce};t.API.events.push(["addFont",function(r){var _e=void 0,Ce=r.font,Ee=r.instance;if(!Ce.isStandardFont){if(Ee===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Ce.postScriptName+"').");if(typeof(_e=Ee.existsFileInVFS(Ce.postScriptName)===!1?Ee.loadFile(Ce.postScriptName):Ee.getFileFromVFS(Ce.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Ce.postScriptName+"').");(function(Re,Pe){Pe=/^\x00\x01\x00\x00/.test(Pe)?e(Pe):e(u(Pe)),Re.metadata=t.API.TTFFont.open(Pe),Re.metadata.Unicode=Re.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Re.metadata.glyIdsUsed=[0]})(Ce,_e)}}])}(E),function(t){function e(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es.00683d31.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}E.API.addSvgAsImage=function(r,_e,Ce,Ee,Re,Pe,St,Te){if(isNaN(_e)||isNaN(Ce))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Ee)||isNaN(Re))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var ke=document.createElement("canvas");ke.width=Ee,ke.height=Re;var Ae=ke.getContext("2d");Ae.fillStyle="#fff",Ae.fillRect(0,0,ke.width,ke.height);var xe={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Se=this;return e().then(function(Fe){return Fe.fromString(Ae,r,xe)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Fe){return Fe.render(xe)}).then(function(){Se.addImage(ke.toDataURL("image/jpeg",1),_e,Ce,Ee,Re,St,Te)})}}(),E.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var _e=1;_e<=this.internal.getNumberOfPages();_e++)for(var Ce=0;Ce<this.internal.pages[_e].length;Ce++)this.internal.pages[_e][Ce]=this.internal.pages[_e][Ce].replace(e,r);return this},E.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var _e,Ce,Ee,Re={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Pe=Object.keys(Re),St=[],Te=0,ke=0,Ae=0;function xe(Fe,Ie){var Me,Oe=!1;for(Me=0;Me<Fe.length;Me+=1)Fe[Me]===Ie&&(Oe=!0);return Oe}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Re)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var Se=Pe.length;for(Ae=0;Ae<Se;Ae+=1)r[Pe[Ae]].value=r[Pe[Ae]].defaultValue,r[Pe[Ae]].explicitSet=!1}if(_typeof(t)==="object"){for(Ce in t)if(Ee=t[Ce],xe(Pe,Ce)&&Ee!==void 0){if(r[Ce].type==="boolean"&&typeof Ee=="boolean")r[Ce].value=Ee;else if(r[Ce].type==="name"&&xe(r[Ce].valueSet,Ee))r[Ce].value=Ee;else if(r[Ce].type==="integer"&&Number.isInteger(Ee))r[Ce].value=Ee;else if(r[Ce].type==="array"){for(Te=0;Te<Ee.length;Te+=1)if(_e=!0,Ee[Te].length===1&&typeof Ee[Te][0]=="number")St.push(String(Ee[Te]-1));else if(Ee[Te].length>1){for(ke=0;ke<Ee[Te].length;ke+=1)typeof Ee[Te][ke]!="number"&&(_e=!1);_e===!0&&St.push([Ee[Te][0]-1,Ee[Te][1]-1].join(" "))}r[Ce].value="["+St.join(" ")+"]"}else r[Ce].value=r[Ce].defaultValue;r[Ce].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Fe,Ie=[];for(Fe in r)r[Fe].explicitSet===!0&&(r[Fe].type==="name"?Ie.push("/"+Fe+" /"+r[Fe].value):Ie.push("/"+Fe+" "+r[Fe].value));Ie.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Ie.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var _e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Ce=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Ee=unescape(encodeURIComponent(_e)),Re=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Pe=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),St=unescape(encodeURIComponent("</x:xmpmeta>")),Te=Ee.length+Re.length+Pe.length+Ce.length+St.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Te+" >>"),this.internal.write("stream"),this.internal.write(Ce+Ee+Re+Pe+St),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(_e,Ce){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:_e,namespaceuri:Ce||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(E.API),function(t){var e=t.API,r=e.pdfEscape16=function(Ee,Re){for(var Pe,St=Re.metadata.Unicode.widths,Te=["","0","00","000","0000"],ke=[""],Ae=0,xe=Ee.length;Ae<xe;++Ae){if(Pe=Re.metadata.characterToGlyph(Ee.charCodeAt(Ae)),Re.metadata.glyIdsUsed.push(Pe),Re.metadata.toUnicode[Pe]=Ee.charCodeAt(Ae),St.indexOf(Pe)==-1&&(St.push(Pe),St.push([parseInt(Re.metadata.widthOfGlyph(Pe),10)])),Pe=="0")return ke.join("");Pe=Pe.toString(16),ke.push(Te[4-Pe.length],Pe)}return ke.join("")},_e=function(Ee){var Re,Pe,St,Te,ke,Ae,xe;for(ke=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,St=[],Ae=0,xe=(Pe=Object.keys(Ee).sort(function(Se,Fe){return Se-Fe})).length;Ae<xe;Ae++)Re=Pe[Ae],St.length>=100&&(ke+=`
`+St.length+` beginbfchar
`+St.join(`
`)+`
endbfchar`,St=[]),Ee[Re]!==void 0&&Ee[Re]!==null&&typeof Ee[Re].toString=="function"&&(Te=("0000"+Ee[Re].toString(16)).slice(-4),Re=("0000"+(+Re).toString(16)).slice(-4),St.push("<"+Re+"><"+Te+">"));return St.length&&(ke+=`
`+St.length+` beginbfchar
`+St.join(`
`)+`
endbfchar
`),ke+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(Ee){(function(Re){var Pe=Re.font,St=Re.out,Te=Re.newObject,ke=Re.putStream;if(Pe.metadata instanceof t.API.TTFFont&&Pe.encoding==="Identity-H"){for(var Ae=Pe.metadata.Unicode.widths,xe=Pe.metadata.subset.encode(Pe.metadata.glyIdsUsed,1),Se="",Fe=0;Fe<xe.length;Fe++)Se+=String.fromCharCode(xe[Fe]);var Ie=Te();ke({data:Se,addLength1:!0,objectId:Ie}),St("endobj");var Me=Te();ke({data:_e(Pe.metadata.toUnicode),addLength1:!0,objectId:Me}),St("endobj");var Oe=Te();St("<<"),St("/Type /FontDescriptor"),St("/FontName /"+F(Pe.fontName)),St("/FontFile2 "+Ie+" 0 R"),St("/FontBBox "+t.API.PDFObject.convert(Pe.metadata.bbox)),St("/Flags "+Pe.metadata.flags),St("/StemV "+Pe.metadata.stemV),St("/ItalicAngle "+Pe.metadata.italicAngle),St("/Ascent "+Pe.metadata.ascender),St("/Descent "+Pe.metadata.decender),St("/CapHeight "+Pe.metadata.capHeight),St(">>"),St("endobj");var De=Te();St("<<"),St("/Type /Font"),St("/BaseFont /"+F(Pe.fontName)),St("/FontDescriptor "+Oe+" 0 R"),St("/W "+t.API.PDFObject.convert(Ae)),St("/CIDToGIDMap /Identity"),St("/DW 1000"),St("/Subtype /CIDFontType2"),St("/CIDSystemInfo"),St("<<"),St("/Supplement 0"),St("/Registry (Adobe)"),St("/Ordering ("+Pe.encoding+")"),St(">>"),St(">>"),St("endobj"),Pe.objectNumber=Te(),St("<<"),St("/Type /Font"),St("/Subtype /Type0"),St("/ToUnicode "+Me+" 0 R"),St("/BaseFont /"+F(Pe.fontName)),St("/Encoding /"+Pe.encoding),St("/DescendantFonts ["+De+" 0 R]"),St(">>"),St("endobj"),Pe.isAlreadyPutted=!0}})(Ee)}]),e.events.push(["putFont",function(Ee){(function(Re){var Pe=Re.font,St=Re.out,Te=Re.newObject,ke=Re.putStream;if(Pe.metadata instanceof t.API.TTFFont&&Pe.encoding==="WinAnsiEncoding"){for(var Ae=Pe.metadata.rawData,xe="",Se=0;Se<Ae.length;Se++)xe+=String.fromCharCode(Ae[Se]);var Fe=Te();ke({data:xe,addLength1:!0,objectId:Fe}),St("endobj");var Ie=Te();ke({data:_e(Pe.metadata.toUnicode),addLength1:!0,objectId:Ie}),St("endobj");var Me=Te();St("<<"),St("/Descent "+Pe.metadata.decender),St("/CapHeight "+Pe.metadata.capHeight),St("/StemV "+Pe.metadata.stemV),St("/Type /FontDescriptor"),St("/FontFile2 "+Fe+" 0 R"),St("/Flags 96"),St("/FontBBox "+t.API.PDFObject.convert(Pe.metadata.bbox)),St("/FontName /"+F(Pe.fontName)),St("/ItalicAngle "+Pe.metadata.italicAngle),St("/Ascent "+Pe.metadata.ascender),St(">>"),St("endobj"),Pe.objectNumber=Te();for(var Oe=0;Oe<Pe.metadata.hmtx.widths.length;Oe++)Pe.metadata.hmtx.widths[Oe]=parseInt(Pe.metadata.hmtx.widths[Oe]*(1e3/Pe.metadata.head.unitsPerEm));St("<</Subtype/TrueType/Type/Font/ToUnicode "+Ie+" 0 R/BaseFont/"+F(Pe.fontName)+"/FontDescriptor "+Me+" 0 R/Encoding/"+Pe.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(Pe.metadata.hmtx.widths)+">>"),St("endobj"),Pe.isAlreadyPutted=!0}})(Ee)}]);var Ce=function(Ee){var Re,Pe=Ee.text||"",St=Ee.x,Te=Ee.y,ke=Ee.options||{},Ae=Ee.mutex||{},xe=Ae.pdfEscape,Se=Ae.activeFontKey,Fe=Ae.fonts,Ie=Se,Me="",Oe=0,De="",Be=Fe[Ie].encoding;if(Fe[Ie].encoding!=="Identity-H")return{text:Pe,x:St,y:Te,options:ke,mutex:Ae};for(De=Pe,Ie=Se,Array.isArray(Pe)&&(De=Pe[0]),Oe=0;Oe<De.length;Oe+=1)Fe[Ie].metadata.hasOwnProperty("cmap")&&(Re=Fe[Ie].metadata.cmap.unicode.codeMap[De[Oe].charCodeAt(0)]),Re||De[Oe].charCodeAt(0)<256&&Fe[Ie].metadata.hasOwnProperty("Unicode")?Me+=De[Oe]:Me+="";var je="";return parseInt(Ie.slice(1))<14||Be==="WinAnsiEncoding"?je=xe(Me,Ie).split("").map(function(ze){return ze.charCodeAt(0).toString(16)}).join(""):Be==="Identity-H"&&(je=r(Me,Fe[Ie])),Ae.isHex=!0,{text:je,x:St,y:Te,options:ke,mutex:Ae}};e.events.push(["postProcessText",function(Ee){var Re=Ee.text||"",Pe=[],St={text:Re,x:Ee.x,y:Ee.y,options:Ee.options,mutex:Ee.mutex};if(Array.isArray(Re)){var Te=0;for(Te=0;Te<Re.length;Te+=1)Array.isArray(Re[Te])&&Re[Te].length===3?Pe.push([Ce(Object.assign({},St,{text:Re[Te][0]})).text,Re[Te][1],Re[Te][2]]):Pe.push(Ce(Object.assign({},St,{text:Re[Te]})).text);Ee.text=Pe}else Ee.text=Ce(Object.assign({},St,{text:Re})).text}])}(E),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,_e){return e.call(this),this.internal.vFS[r]=_e,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(E.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(_e){var Ce,Ee,Re,Pe,St,Te,ke,Ae=e,xe=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Se=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Fe={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Ie={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Me=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],Oe=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),De=!1,Be=0;this.__bidiEngine__={};var je=function(rr){var er=rr.charCodeAt(),vr=er>>8,gr=Ie[vr];return gr!==void 0?Ae[256*gr+(255&er)]:vr===252||vr===253?"AL":Oe.test(vr)?"L":vr===8?"R":"N"},ze=function(rr){for(var er,vr=0;vr<rr.length;vr++){if((er=je(rr.charAt(vr)))==="L")return!1;if(er==="R")return!0}return!1},Ge=function(rr,er,vr,gr){var br,sr,nr,Je,$e=er[gr];switch($e){case"L":case"R":De=!1;break;case"N":case"AN":break;case"EN":De&&($e="AN");break;case"AL":De=!0,$e="R";break;case"WS":$e="N";break;case"CS":gr<1||gr+1>=er.length||(br=vr[gr-1])!=="EN"&&br!=="AN"||(sr=er[gr+1])!=="EN"&&sr!=="AN"?$e="N":De&&(sr="AN"),$e=sr===br?sr:"N";break;case"ES":$e=(br=gr>0?vr[gr-1]:"B")==="EN"&&gr+1<er.length&&er[gr+1]==="EN"?"EN":"N";break;case"ET":if(gr>0&&vr[gr-1]==="EN"){$e="EN";break}if(De){$e="N";break}for(nr=gr+1,Je=er.length;nr<Je&&er[nr]==="ET";)nr++;$e=nr<Je&&er[nr]==="EN"?"EN":"N";break;case"NSM":if(Re&&!Pe){for(Je=er.length,nr=gr+1;nr<Je&&er[nr]==="NSM";)nr++;if(nr<Je){var tr=rr[gr],ir=tr>=1425&&tr<=2303||tr===64286;if(br=er[nr],ir&&(br==="R"||br==="AL")){$e="R";break}}}$e=gr<1||(br=er[gr-1])==="B"?"N":vr[gr-1];break;case"B":De=!1,Ce=!0,$e=Be;break;case"S":Ee=!0,$e="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":De=!1;break;case"BN":$e="N"}return $e},We=function(rr,er,vr){var gr=rr.split("");return vr&&Ue(gr,vr,{hiLevel:Be}),gr.reverse(),er&&er.reverse(),gr.join("")},Ue=function(rr,er,vr){var gr,br,sr,nr,Je,$e=-1,tr=rr.length,ir=0,Xe=[],cr=Be?Se:xe,Qe=[];for(De=!1,Ce=!1,Ee=!1,br=0;br<tr;br++)Qe[br]=je(rr[br]);for(sr=0;sr<tr;sr++){if(Je=ir,Xe[sr]=Ge(rr,Qe,Xe,sr),gr=240&(ir=cr[Je][Fe[Xe[sr]]]),ir&=15,er[sr]=nr=cr[ir][5],gr>0)if(gr===16){for(br=$e;br<sr;br++)er[br]=1;$e=-1}else $e=-1;if(cr[ir][6])$e===-1&&($e=sr);else if($e>-1){for(br=$e;br<sr;br++)er[br]=nr;$e=-1}Qe[sr]==="B"&&(er[sr]=0),vr.hiLevel|=nr}Ee&&function(Ke,lr,mr){for(var Ar=0;Ar<mr;Ar++)if(Ke[Ar]==="S"){lr[Ar]=Be;for(var Pr=Ar-1;Pr>=0&&Ke[Pr]==="WS";Pr--)lr[Pr]=Be}}(Qe,er,tr)},hr=function(rr,er,vr,gr,br){if(!(br.hiLevel<rr)){if(rr===1&&Be===1&&!Ce)return er.reverse(),void(vr&&vr.reverse());for(var sr,nr,Je,$e,tr=er.length,ir=0;ir<tr;){if(gr[ir]>=rr){for(Je=ir+1;Je<tr&&gr[Je]>=rr;)Je++;for($e=ir,nr=Je-1;$e<nr;$e++,nr--)sr=er[$e],er[$e]=er[nr],er[nr]=sr,vr&&(sr=vr[$e],vr[$e]=vr[nr],vr[nr]=sr);ir=Je}ir++}}},xr=function(rr,er,vr){var gr=rr.split(""),br={hiLevel:Be};return vr||(vr=[]),Ue(gr,vr,br),function(sr,nr,Je){if(Je.hiLevel!==0&&ke)for(var $e,tr=0;tr<sr.length;tr++)nr[tr]===1&&($e=Me.indexOf(sr[tr]))>=0&&(sr[tr]=Me[$e+1])}(gr,vr,br),hr(2,gr,er,vr,br),hr(1,gr,er,vr,br),gr.join("")};return this.__bidiEngine__.doBidiReorder=function(rr,er,vr){if(function(br,sr){if(sr)for(var nr=0;nr<br.length;nr++)sr[nr]=nr;Pe===void 0&&(Pe=ze(br)),Te===void 0&&(Te=ze(br))}(rr,er),Re||!St||Te)if(Re&&St&&Pe^Te)Be=Pe?1:0,rr=We(rr,er,vr);else if(!Re&&St&&Te)Be=Pe?1:0,rr=xr(rr,er,vr),rr=We(rr,er);else if(!Re||Pe||St||Te){if(Re&&!St&&Pe^Te)rr=We(rr,er),Pe?(Be=0,rr=xr(rr,er,vr)):(Be=1,rr=xr(rr,er,vr),rr=We(rr,er));else if(Re&&Pe&&!St&&Te)Be=1,rr=xr(rr,er,vr),rr=We(rr,er);else if(!Re&&!St&&Pe^Te){var gr=ke;Pe?(Be=1,rr=xr(rr,er,vr),Be=0,ke=!1,rr=xr(rr,er,vr),ke=gr):(Be=0,rr=xr(rr,er,vr),rr=We(rr,er),Be=1,ke=!1,rr=xr(rr,er,vr),ke=gr,rr=We(rr,er))}}else Be=0,rr=xr(rr,er,vr);else Be=Pe?1:0,rr=xr(rr,er,vr);return rr},this.__bidiEngine__.setOptions=function(rr){rr&&(Re=rr.isInputVisual,St=rr.isOutputVisual,Pe=rr.isInputRtl,Te=rr.isOutputRtl,ke=rr.isSymmetricSwapping)},this.__bidiEngine__.setOptions(_e),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(_e){var Ce=_e.text,Ee=(_e.x,_e.y,_e.options||{}),Re=(_e.mutex,Ee.lang,[]);if(Ee.isInputVisual=typeof Ee.isInputVisual!="boolean"||Ee.isInputVisual,r.setOptions(Ee),Object.prototype.toString.call(Ce)==="[object Array]"){var Pe=0;for(Re=[],Pe=0;Pe<Ce.length;Pe+=1)Object.prototype.toString.call(Ce[Pe])==="[object Array]"?Re.push([r.doBidiReorder(Ce[Pe][0]),Ce[Pe][1],Ce[Pe][2]]):Re.push([r.doBidiReorder(Ce[Pe])]);_e.text=Re}else _e.text=r.doBidiReorder(Ce);r.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ne(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,_e,Ce,Ee;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var Re,Pe,St,Te;for(Te=[],Re=0,Pe=(St=this.bbox).length;Re<Pe;Re++)e=St[Re],Te.push(Math.round(e*this.scaleFactor));return Te}.call(this),this.stemV=0,this.post.exists?(_e=255&(Ce=this.post.italic_angle),(32768&(r=Ce>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+_e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Ee=this.familyClass)===1||Ee===2||Ee===3||Ee===4||Ee===5||Ee===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,_e){var Ce,Ee,Re,Pe;for(Re=0,Ee=0,Pe=(e=""+e).length;0<=Pe?Ee<Pe:Ee>Pe;Ee=0<=Pe?++Ee:--Ee)Ce=e.charCodeAt(Ee),Re+=this.widthOfGlyph(this.characterToGlyph(Ce))+_e*(1e3/r)||0;return Re*(r/1e3)},t.prototype.lineHeight=function(e,r){var _e;return r==null&&(r=!1),_e=r?this.lineGap:0,(this.ascender+_e-this.decender)/1e3*e},t}();var re,ne=function(){function t(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,_e;for(_e=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)_e[r]=String.fromCharCode(this.readByte());return _e.join("")},t.prototype.writeString=function(e){var r,_e,Ce;for(Ce=[],r=0,_e=e.length;0<=_e?r<_e:r>_e;r=0<=_e?++r:--r)Ce.push(this.writeByte(e.charCodeAt(r)));return Ce},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,_e,Ce,Ee,Re,Pe,St;return e=this.readByte(),r=this.readByte(),_e=this.readByte(),Ce=this.readByte(),Ee=this.readByte(),Re=this.readByte(),Pe=this.readByte(),St=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^_e)+4294967296*(255^Ce)+16777216*(255^Ee)+65536*(255^Re)+256*(255^Pe)+(255^St)+1):72057594037927940*e+281474976710656*r+1099511627776*_e+4294967296*Ce+16777216*Ee+65536*Re+256*Pe+St},t.prototype.writeLongLong=function(e){var r,_e;return r=Math.floor(e/4294967296),_e=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(_e>>24&255),this.writeByte(_e>>16&255),this.writeByte(_e>>8&255),this.writeByte(255&_e)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,_e;for(r=[],_e=0;0<=e?_e<e:_e>e;_e=0<=e?++_e:--_e)r.push(this.readByte());return r},t.prototype.write=function(e){var r,_e,Ce,Ee;for(Ee=[],_e=0,Ce=e.length;_e<Ce;_e++)r=e[_e],Ee.push(this.writeByte(r));return Ee},t}(),ie=function(){var t;function e(r){var _e,Ce,Ee;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},Ce=0,Ee=this.tableCount;0<=Ee?Ce<Ee:Ce>Ee;Ce=0<=Ee?++Ce:--Ce)_e={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[_e.tag]=_e}return e.prototype.encode=function(r){var _e,Ce,Ee,Re,Pe,St,Te,ke,Ae,xe,Se,Fe,Ie;for(Ie in Se=Object.keys(r).length,St=Math.log(2),Ae=16*Math.floor(Math.log(Se)/St),Re=Math.floor(Ae/St),ke=16*Se-Ae,(Ce=new ne).writeInt(this.scalarType),Ce.writeShort(Se),Ce.writeShort(Ae),Ce.writeShort(Re),Ce.writeShort(ke),Ee=16*Se,Te=Ce.pos+Ee,Pe=null,Fe=[],r)for(xe=r[Ie],Ce.writeString(Ie),Ce.writeInt(t(xe)),Ce.writeInt(Te),Ce.writeInt(xe.length),Fe=Fe.concat(xe),Ie==="head"&&(Pe=Te),Te+=xe.length;Te%4;)Fe.push(0),Te++;return Ce.write(Fe),_e=2981146554-t(Ce.data),Ce.pos=Pe+8,Ce.writeUInt32(_e),Ce.data},t=function(r){var _e,Ce,Ee,Re;for(r=ve.call(r);r.length%4;)r.push(0);for(Ee=new ne(r),Ce=0,_e=0,Re=r.length;_e<Re;_e=_e+=4)Ce+=Ee.readUInt32();return 4294967295&Ce},e}(),ae={}.hasOwnProperty,oe=function(t,e){for(var r in e)ae.call(e,r)&&(t[r]=e[r]);function _e(){this.constructor=t}return _e.prototype=e.prototype,t.prototype=new _e,t.__super__=e.prototype,t};re=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var se=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var _e;return(_e=new ne).writeInt(this.version),_e.writeInt(this.revision),_e.writeInt(this.checkSumAdjustment),_e.writeInt(this.magicNumber),_e.writeShort(this.flags),_e.writeShort(this.unitsPerEm),_e.writeLongLong(this.created),_e.writeLongLong(this.modified),_e.writeShort(this.xMin),_e.writeShort(this.yMin),_e.writeShort(this.xMax),_e.writeShort(this.yMax),_e.writeShort(this.macStyle),_e.writeShort(this.lowestRecPPEM),_e.writeShort(this.fontDirectionHint),_e.writeShort(r),_e.writeShort(this.glyphDataFormat),_e.data},e}(),ce=function(){function t(e,r){var _e,Ce,Ee,Re,Pe,St,Te,ke,Ae,xe,Se,Fe,Ie,Me,Oe,De,Be;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),Ae=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(St=0;St<256;++St)this.codeMap[St]=e.readByte();break;case 4:for(Se=e.readUInt16(),xe=Se/2,e.pos+=6,Ee=function(){var je,ze;for(ze=[],St=je=0;0<=xe?je<xe:je>xe;St=0<=xe?++je:--je)ze.push(e.readUInt16());return ze}(),e.pos+=2,Ie=function(){var je,ze;for(ze=[],St=je=0;0<=xe?je<xe:je>xe;St=0<=xe?++je:--je)ze.push(e.readUInt16());return ze}(),Te=function(){var je,ze;for(ze=[],St=je=0;0<=xe?je<xe:je>xe;St=0<=xe?++je:--je)ze.push(e.readUInt16());return ze}(),ke=function(){var je,ze;for(ze=[],St=je=0;0<=xe?je<xe:je>xe;St=0<=xe?++je:--je)ze.push(e.readUInt16());return ze}(),Ce=(this.length-e.pos+this.offset)/2,Pe=function(){var je,ze;for(ze=[],St=je=0;0<=Ce?je<Ce:je>Ce;St=0<=Ce?++je:--je)ze.push(e.readUInt16());return ze}(),St=Oe=0,Be=Ee.length;Oe<Be;St=++Oe)for(Me=Ee[St],_e=De=Fe=Ie[St];Fe<=Me?De<=Me:De>=Me;_e=Fe<=Me?++De:--De)ke[St]===0?Re=_e+Te[St]:(Re=Pe[ke[St]/2+(_e-Fe)-(xe-St)]||0)!==0&&(Re+=Te[St]),this.codeMap[_e]=65535&Re}e.pos=Ae}return t.encode=function(e,r){var _e,Ce,Ee,Re,Pe,St,Te,ke,Ae,xe,Se,Fe,Ie,Me,Oe,De,Be,je,ze,Ge,We,Ue,hr,xr,rr,er,vr,gr,br,sr,nr,Je,$e,tr,ir,Xe,cr,Qe,Ke,lr,mr,Ar,Pr,Rr,Ir,ur;switch(gr=new ne,Re=Object.keys(e).sort(function(ar,Sr){return ar-Sr}),r){case"macroman":for(Ie=0,Me=function(){var ar=[];for(Fe=0;Fe<256;++Fe)ar.push(0);return ar}(),De={0:0},Ee={},br=0,$e=Re.length;br<$e;br++)De[Pr=e[Ce=Re[br]]]==null&&(De[Pr]=++Ie),Ee[Ce]={old:e[Ce],new:De[e[Ce]]},Me[Ce]=De[e[Ce]];return gr.writeUInt16(1),gr.writeUInt16(0),gr.writeUInt32(12),gr.writeUInt16(0),gr.writeUInt16(262),gr.writeUInt16(0),gr.write(Me),{charMap:Ee,subtable:gr.data,maxGlyphID:Ie+1};case"unicode":for(er=[],Ae=[],Be=0,De={},_e={},Oe=Te=null,sr=0,tr=Re.length;sr<tr;sr++)De[ze=e[Ce=Re[sr]]]==null&&(De[ze]=++Be),_e[Ce]={old:ze,new:De[ze]},Pe=De[ze]-Ce,Oe!=null&&Pe===Te||(Oe&&Ae.push(Oe),er.push(Ce),Te=Pe),Oe=Ce;for(Oe&&Ae.push(Oe),Ae.push(65535),er.push(65535),xr=2*(hr=er.length),Ue=2*Math.pow(Math.log(hr)/Math.LN2,2),xe=Math.log(Ue/2)/Math.LN2,We=2*hr-Ue,St=[],Ge=[],Se=[],Fe=nr=0,ir=er.length;nr<ir;Fe=++nr){if(rr=er[Fe],ke=Ae[Fe],rr===65535){St.push(0),Ge.push(0);break}if(rr-(vr=_e[rr].new)>=32768)for(St.push(0),Ge.push(2*(Se.length+hr-Fe)),Ce=Je=rr;rr<=ke?Je<=ke:Je>=ke;Ce=rr<=ke?++Je:--Je)Se.push(_e[Ce].new);else St.push(vr-rr),Ge.push(0)}for(gr.writeUInt16(3),gr.writeUInt16(1),gr.writeUInt32(12),gr.writeUInt16(4),gr.writeUInt16(16+8*hr+2*Se.length),gr.writeUInt16(0),gr.writeUInt16(xr),gr.writeUInt16(Ue),gr.writeUInt16(xe),gr.writeUInt16(We),mr=0,Xe=Ae.length;mr<Xe;mr++)Ce=Ae[mr],gr.writeUInt16(Ce);for(gr.writeUInt16(0),Ar=0,cr=er.length;Ar<cr;Ar++)Ce=er[Ar],gr.writeUInt16(Ce);for(Rr=0,Qe=St.length;Rr<Qe;Rr++)Pe=St[Rr],gr.writeUInt16(Pe);for(Ir=0,Ke=Ge.length;Ir<Ke;Ir++)je=Ge[Ir],gr.writeUInt16(je);for(ur=0,lr=Se.length;ur<lr;ur++)Ie=Se[ur],gr.writeUInt16(Ie);return{charMap:_e,subtable:gr.data,maxGlyphID:Be+1}}},t}(),ue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="cmap",e.prototype.parse=function(r){var _e,Ce,Ee;for(r.pos=this.offset,this.version=r.readUInt16(),Ee=r.readUInt16(),this.tables=[],this.unicode=null,Ce=0;0<=Ee?Ce<Ee:Ce>Ee;Ce=0<=Ee?++Ce:--Ce)_e=new ce(r,this.offset),this.tables.push(_e),_e.isUnicode&&this.unicode==null&&(this.unicode=_e);return!0},e.encode=function(r,_e){var Ce,Ee;return _e==null&&(_e="macroman"),Ce=ce.encode(r,_e),(Ee=new ne).writeUInt16(0),Ee.writeUInt16(1),Ce.table=Ee.data.concat(Ce.subtable),Ce},e}(),he=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),le=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var _e,Ce;for(Ce=[],_e=0;_e<10;++_e)Ce.push(r.readByte());return Ce}(),this.charRange=function(){var _e,Ce;for(Ce=[],_e=0;_e<4;++_e)Ce.push(r.readInt());return Ce}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var _e,Ce;for(Ce=[],_e=0;_e<2;_e=++_e)Ce.push(r.readInt());return Ce}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),fe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="post",e.prototype.parse=function(r){var _e,Ce,Ee;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var Re;for(Ce=r.readUInt16(),this.glyphNameIndex=[],Re=0;0<=Ce?Re<Ce:Re>Ce;Re=0<=Ce?++Re:--Re)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],Ee=[];r.pos<this.offset+this.length;)_e=r.readByte(),Ee.push(this.names.push(r.readString(_e)));return Ee;case 151552:return Ce=r.readUInt16(),this.offsets=r.read(Ce);case 196608:break;case 262144:return this.map=function(){var Pe,St,Te;for(Te=[],Re=Pe=0,St=this.file.maxp.numGlyphs;0<=St?Pe<St:Pe>St;Re=0<=St?++Pe:--Pe)Te.push(r.readUInt32());return Te}.call(this)}},e}(),de=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="name",e.prototype.parse=function(r){var _e,Ce,Ee,Re,Pe,St,Te,ke,Ae,xe,Se;for(r.pos=this.offset,r.readShort(),_e=r.readShort(),St=r.readShort(),Ce=[],Re=0;0<=_e?Re<_e:Re>_e;Re=0<=_e?++Re:--Re)Ce.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+St+r.readShort()});for(Te={},Re=Ae=0,xe=Ce.length;Ae<xe;Re=++Ae)Ee=Ce[Re],r.pos=Ee.offset,ke=r.readString(Ee.length),Pe=new de(ke,Ee),Te[Se=Ee.nameID]==null&&(Te[Se]=[]),Te[Ee.nameID].push(Pe);this.strings=Te,this.copyright=Te[0],this.fontFamily=Te[1],this.fontSubfamily=Te[2],this.uniqueSubfamily=Te[3],this.fontName=Te[4],this.version=Te[5];try{this.postscriptName=Te[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Te[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Te[7],this.manufacturer=Te[8],this.designer=Te[9],this.description=Te[10],this.vendorUrl=Te[11],this.designerUrl=Te[12],this.license=Te[13],this.licenseUrl=Te[14],this.preferredFamily=Te[15],this.preferredSubfamily=Te[17],this.compatibleFull=Te[18],this.sampleText=Te[19]},e}(),ge=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),me=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hmtx",e.prototype.parse=function(r){var _e,Ce,Ee,Re,Pe,St,Te;for(r.pos=this.offset,this.metrics=[],_e=0,St=this.file.hhea.numberOfMetrics;0<=St?_e<St:_e>St;_e=0<=St?++_e:--_e)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(Ee=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var ke,Ae;for(Ae=[],_e=ke=0;0<=Ee?ke<Ee:ke>Ee;_e=0<=Ee?++ke:--ke)Ae.push(r.readInt16());return Ae}(),this.widths=function(){var ke,Ae,xe,Se;for(Se=[],ke=0,Ae=(xe=this.metrics).length;ke<Ae;ke++)Re=xe[ke],Se.push(Re.advance);return Se}.call(this),Ce=this.widths[this.widths.length-1],Te=[],_e=Pe=0;0<=Ee?Pe<Ee:Pe>Ee;_e=0<=Ee?++Pe:--Pe)Te.push(this.widths.push(Ce));return Te},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),ve=[].slice,be=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var _e,Ce,Ee,Re,Pe,St,Te,ke,Ae,xe;return r in this.cache?this.cache[r]:(Re=this.file.loca,_e=this.file.contents,Ce=Re.indexOf(r),(Ee=Re.lengthOf(r))===0?this.cache[r]=null:(_e.pos=this.offset+Ce,Pe=(St=new ne(_e.read(Ee))).readShort(),ke=St.readShort(),xe=St.readShort(),Te=St.readShort(),Ae=St.readShort(),this.cache[r]=Pe===-1?new we(St,ke,xe,Te,Ae):new ye(St,Pe,ke,xe,Te,Ae),this.cache[r]))},e.prototype.encode=function(r,_e,Ce){var Ee,Re,Pe,St,Te;for(Pe=[],Re=[],St=0,Te=_e.length;St<Te;St++)Ee=r[_e[St]],Re.push(Pe.length),Ee&&(Pe=Pe.concat(Ee.encode(Ce)));return Re.push(Pe.length),{table:Pe,offsets:Re}},e}(),ye=function(){function t(e,r,_e,Ce,Ee,Re){this.raw=e,this.numberOfContours=r,this.xMin=_e,this.yMin=Ce,this.xMax=Ee,this.yMax=Re,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),we=function(){function t(e,r,_e,Ce,Ee){var Re,Pe;for(this.raw=e,this.xMin=r,this.yMin=_e,this.xMax=Ce,this.yMax=Ee,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Re=this.raw;Pe=Re.readShort(),this.glyphOffsets.push(Re.pos),this.glyphIDs.push(Re.readUInt16()),32&Pe;)Re.pos+=1&Pe?4:2,128&Pe?Re.pos+=8:64&Pe?Re.pos+=4:8&Pe&&(Re.pos+=2)}return t.prototype.encode=function(){var e,r,_e;for(r=new ne(ve.call(this.raw.data)),e=0,_e=this.glyphIDs.length;e<_e;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Ne=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="loca",e.prototype.parse=function(r){var _e,Ce;return r.pos=this.offset,_e=this.file.head.indexToLocFormat,this.offsets=_e===0?function(){var Ee,Re;for(Re=[],Ce=0,Ee=this.length;Ce<Ee;Ce+=2)Re.push(2*r.readUInt16());return Re}.call(this):function(){var Ee,Re;for(Re=[],Ce=0,Ee=this.length;Ce<Ee;Ce+=4)Re.push(r.readUInt32());return Re}.call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,_e){for(var Ce=new Uint32Array(this.offsets.length),Ee=0,Re=0,Pe=0;Pe<Ce.length;++Pe)if(Ce[Pe]=Ee,Re<_e.length&&_e[Re]==Pe){++Re,Ce[Pe]=Ee;var St=this.offsets[Pe],Te=this.offsets[Pe+1]-St;Te>0&&(Ee+=Te)}for(var ke=new Array(4*Ce.length),Ae=0;Ae<Ce.length;++Ae)ke[4*Ae+3]=255&Ce[Ae],ke[4*Ae+2]=(65280&Ce[Ae])>>8,ke[4*Ae+1]=(16711680&Ce[Ae])>>16,ke[4*Ae]=(4278190080&Ce[Ae])>>24;return ke},e}(),Le=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,_e,Ce,Ee;for(r in Ce=this.font.cmap.tables[0].codeMap,e={},Ee=this.subset)_e=Ee[r],e[r]=Ce[_e];return e},t.prototype.glyphsFor=function(e){var r,_e,Ce,Ee,Re,Pe,St;for(Ce={},Re=0,Pe=e.length;Re<Pe;Re++)Ce[Ee=e[Re]]=this.font.glyf.glyphFor(Ee);for(Ee in r=[],Ce)(_e=Ce[Ee])!=null&&_e.compound&&r.push.apply(r,_e.glyphIDs);if(r.length>0)for(Ee in St=this.glyphsFor(r))_e=St[Ee],Ce[Ee]=_e;return Ce},t.prototype.encode=function(e,r){var _e,Ce,Ee,Re,Pe,St,Te,ke,Ae,xe,Se,Fe,Ie,Me,Oe;for(Ce in _e=ue.encode(this.generateCmap(),"unicode"),Re=this.glyphsFor(e),Se={0:0},Oe=_e.charMap)Se[(St=Oe[Ce]).old]=St.new;for(Fe in xe=_e.maxGlyphID,Re)Fe in Se||(Se[Fe]=xe++);return ke=function(De){var Be,je;for(Be in je={},De)je[De[Be]]=Be;return je}(Se),Ae=Object.keys(ke).sort(function(De,Be){return De-Be}),Ie=function(){var De,Be,je;for(je=[],De=0,Be=Ae.length;De<Be;De++)Pe=Ae[De],je.push(ke[Pe]);return je}(),Ee=this.font.glyf.encode(Re,Ie,Se),Te=this.font.loca.encode(Ee.offsets,Ie),Me={cmap:this.font.cmap.raw(),glyf:Ee.table,loca:Te,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(Me["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Me)},t}();E.API.PDFObject=function(){var t;function e(){}return t=function(r,_e){return(Array(_e+1).join("0")+r).slice(-_e)},e.convert=function(r){var _e,Ce,Ee,Re;if(Array.isArray(r))return"["+function(){var Pe,St,Te;for(Te=[],Pe=0,St=r.length;Pe<St;Pe++)_e=r[Pe],Te.push(e.convert(_e));return Te}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(Ce in Ee=["<<"],r)Re=r[Ce],Ee.push("/"+Ce+" "+e.convert(Re));return Ee.push(">>"),Ee.join(`
`)}return""+r},e}();const _hoisted_1={class:"w-full h-full bg-bg p-4 flex-csbc gap-6"},_hoisted_2={class:"w-full bg-bg flex-rsbc gap-2"},_hoisted_3={class:"h-full px-4 py-3 rounded-2xl bg-white flex-rsbc gap-3"},_hoisted_4=createBaseVNode("img",{src:_imports_0,alt:"previous page"},null,-1),_hoisted_5=[_hoisted_4],_hoisted_6=createBaseVNode("img",{src:_imports_1,alt:"next page"},null,-1),_hoisted_7=[_hoisted_6],_hoisted_8=["id"],_hoisted_9=["id"],_hoisted_10={class:"w-full rounded-2xl bg-white p-2"},_hoisted_11={class:"flex-rcc gap-2"},_hoisted_12=createBaseVNode("svg",{width:"24",height:"24",viewBox:"0 0 25 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"M20.9337 19.8395C21.5217 19.8395 22 20.3241 22 20.9198C22 21.5166 21.5217 22 20.9337 22H14.9063C14.3183 22 13.84 21.5166 13.84 20.9198C13.84 20.3241 14.3183 19.8395 14.9063 19.8395H20.9337ZM16.7537 3.7379L18.3107 4.97472C18.9492 5.47398 19.3748 6.1321 19.5204 6.82427C19.6884 7.58565 19.5092 8.33341 19.0052 8.98019L9.73064 20.9739C9.305 21.5186 8.67774 21.8249 8.00567 21.8363L4.30931 21.8817C4.10769 21.8817 3.93967 21.7455 3.89486 21.5526L3.05478 17.9102C2.90917 17.2408 3.05478 16.5486 3.48042 16.0153L10.0555 7.50508C10.1675 7.36892 10.3691 7.34736 10.5035 7.44835L13.2702 9.64965C13.4494 9.79716 13.6958 9.87659 13.9535 9.84255C14.5023 9.77447 14.872 9.27521 14.8159 8.7419C14.7823 8.46957 14.6479 8.24263 14.4687 8.07243C14.4127 8.02704 11.7804 5.91651 11.7804 5.91651C11.6124 5.78035 11.5788 5.53072 11.7132 5.36165L12.7549 4.01023C13.7182 2.77341 15.3984 2.65994 16.7537 3.7379Z",fill:"currentColor"})],-1),_hoisted_13=[_hoisted_12],_hoisted_14=createBaseVNode("svg",{width:"24",height:"24",viewBox:"0 0 25 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"M16.3524 1.94443C16.8006 1.94338 17.1549 2.29154 17.1559 2.75575L17.157 3.54702C20.0647 3.7749 21.9854 5.75624 21.9885 8.79472L22 17.6886C22.0042 21.0014 19.9229 23.0397 16.5869 23.045L8.43811 23.0555C5.12293 23.0597 3.01565 20.9729 3.01148 17.6506L3.00001 8.86119C2.99585 5.80267 4.84884 3.8266 7.75652 3.55968L7.75548 2.76841C7.75444 2.3042 8.09836 1.95498 8.55692 1.95498C9.01547 1.95393 9.35939 2.30209 9.36044 2.7663L9.36148 3.50482L15.552 3.49638L15.551 2.75786C15.5499 2.29365 15.8939 1.94549 16.3524 1.94443ZM16.7776 16.9248H16.7672C16.2878 16.9364 15.9032 17.3383 15.9137 17.8236C15.9147 18.309 16.3014 18.7088 16.7808 18.7194C17.2695 18.7183 17.6656 18.3163 17.6645 17.8205C17.6645 17.3246 17.2675 16.9248 16.7776 16.9248ZM8.19007 16.9258C7.71067 16.9469 7.33548 17.3489 7.33652 17.8342C7.35841 18.3195 7.75444 18.6993 8.23384 18.6772C8.70386 18.6561 9.078 18.2541 9.05612 17.7688C9.0457 17.294 8.65905 16.9248 8.19007 16.9258ZM12.4838 16.9205C12.0044 16.9427 11.6303 17.3436 11.6303 17.8289C11.6522 18.3142 12.0482 18.693 12.5276 18.6719C12.9966 18.6497 13.3718 18.2488 13.3499 17.7625C13.3395 17.2887 12.9528 16.9195 12.4838 16.9205ZM8.18486 13.1277C7.70545 13.1488 7.33131 13.5508 7.33235 14.0361C7.3532 14.5214 7.75027 14.9012 8.22967 14.8791C8.69865 14.858 9.07279 14.456 9.05091 13.9707C9.04049 13.4959 8.65488 13.1267 8.18486 13.1277ZM12.4797 13.0908C12.0003 13.1119 11.6251 13.5139 11.6261 13.9992C11.647 14.4845 12.044 14.8632 12.5234 14.8421C12.9924 14.82 13.3666 14.4191 13.3457 13.9338C13.3343 13.459 12.9487 13.0897 12.4797 13.0908ZM16.7735 13.0961C16.2941 13.1066 15.9189 13.497 15.9199 13.9823V13.9939C15.9303 14.4792 16.3264 14.8474 16.8068 14.8369C17.2758 14.8253 17.6499 14.4233 17.6395 13.938C17.6176 13.4738 17.2414 13.095 16.7735 13.0961ZM15.5541 5.12112L9.36356 5.12956L9.3646 5.98308C9.3646 6.43779 9.02173 6.7965 8.56317 6.7965C8.10461 6.79756 7.75965 6.4399 7.75965 5.98519L7.75861 5.17282C5.72636 5.37644 4.60184 6.57073 4.60496 8.85908L4.60601 9.18719L20.3846 9.16609V8.79683C20.3398 6.52852 19.2017 5.33845 17.1591 5.16121L17.1601 5.97358C17.1601 6.42724 16.8068 6.78701 16.3587 6.78701C15.9001 6.78806 15.5552 6.42935 15.5552 5.97569L15.5541 5.12112Z",fill:"currentColor"})],-1),_hoisted_15=[_hoisted_14],_hoisted_16=createBaseVNode("svg",{width:"24",height:"24",viewBox:"0 0 25 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"M10.7268 21.6539V6.44259H5.5V3.34616H19.5V6.44259H14.2839V21.6516H10.7268V21.6539Z",fill:"currentColor"})],-1),_hoisted_17=[_hoisted_16],_sfc_main={__name:"PDFManager",setup(t){pdfjsLib.GlobalWorkerOptions.workerSrc="https://mozilla.github.io/pdf.js/build/pdf.worker.js";const e=ref("sign"),r=computed(()=>"flex-ccc gap-1 text-xs"),_e=computed(()=>"btn-anim rounded-lg p-2"),Ce=computed(()=>"bg-gradient-primary text-white"),Ee=computed(()=>"bg-bg text-gray"),Re=computed(()=>"text-primary"),Pe=computed(()=>"text-gray"),St=tr=>{e.value=tr},Te=useStore(),ke=ref(!1),Ae=computed(()=>Te.getters["pdf/currentPDF"]);let xe=null;const Se=ref(0),Fe=ref(0);let Ie=null,Me=null;const Oe=tr=>`canvas-root-${tr-1}`,De=tr=>`canvas-${tr-1}`;onMounted(()=>{Ae.value?Be():useRouter().push("/")});async function Be(){await je(Ae.value),Ie=[];for(let tr=0;tr<xe.numPages;tr++){const ir=new fabric$1.fabric.Canvas(`canvas-${tr}`);Ie.push(ir),Me=Ie[tr],await ze(tr+1),hr()}Se.value=1,Me=Ie[0]}async function je(tr){xe=await pdfjsLib.getDocument(tr).promise,Fe.value=xe.numPages}async function ze(tr=1){const ir=await Ge(tr),Xe=new fabric$1.fabric.Image(ir,{scaleX:1,scaleY:1});Me.requestRenderAll(),Me.setWidth(Xe.width),Me.setHeight(Xe.height),Me.setBackgroundImage(Xe,Me.renderAll.bind(Me)),console.log(`canvas: ${Me.width} x ${Me.height}`)}async function Ge(tr){if(!xe)return;Se.value=tr;const ir=await xe.getPage(Se.value),Xe=document.querySelector(`#canvas-root-${tr-1}`),cr=document.createElement("canvas"),Qe=cr.getContext("2d");let Ke=ir.getViewport({scale:1});return Ke=ir.getViewport({scale:(Xe.clientWidth-15)/Ke.width}),cr.width=Ke.width,cr.height=Ke.height,ir.render({canvasContext:Qe,viewport:Ke}).promise.then(()=>cr)}const We=()=>{Se.value=Se.value<=1?1:Se.value-1,Me=Ie[Se.value-1],vr()},Ue=()=>{Se.value=Se.value>=Fe.value?Fe.value:Se.value+1,Me=Ie[Se.value-1],vr()};function hr(){Me.on("selection:created",function(tr){rr(tr)}),Me.on("selection:updated",function(tr){rr(tr)}),Me.on("object:moving",function(tr){gr()}),Me.on("object:modified",function(tr){rr(tr)}),Me.on("selection:cleared",function(tr){gr()})}const xr=ref("top:0; left:0; display:none;");function rr(tr){var Xe;if(!tr&&!tr.selected&&!tr.target)return;const ir=(Xe=tr.selected)!=null&&Xe[0]?tr.selected[0]:tr.target;er(ir)}function er(tr){let ir=tr.aCoords.tl.x-12,Xe=tr.aCoords.tl.y-12;xr.value=`top:${Xe}px; left:${ir}px;`}function vr(){const tr=Me.getActiveObject();tr?er(tr):gr()}function gr(){xr.value="top:0; left:0; display:none;"}const br=()=>{const tr=Me.getActiveObject();Me.remove(tr)},sr=computed(()=>Te.getters["sign/currentSign"]),nr=()=>{ke.value=!0},Je=()=>{ke.value=!1,sr.value&&fabric$1.fabric.Image.fromURL(sr.value,function(tr){tr.top=0,tr.scaleX=.5,tr.scaleY=.5,Me.add(tr)})};async function $e(){let tr=null;for(let ir=0;ir<Fe.value;ir++){const Xe=Ie[ir],cr=Xe.width/Xe.height>1?"l":"p";tr===null?tr=new E(cr,"pt",[Xe.width,Xe.height]):tr.addPage([Xe.width,Xe.height],cr);const Qe=Xe.toDataURL("image/png"),Ke=tr.internal.pageSize.width,lr=tr.internal.pageSize.height;tr.addImage(Qe,"png",0,0,Ke,lr)}tr.save("download.pdf")}return(tr,ir)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("section",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("button",{type:"button",class:"btn-anim rounded-xl",onClick:ir[0]||(ir[0]=Xe=>We())},_hoisted_5),createBaseVNode("p",null,toDisplayString(`${Se.value} / ${Fe.value}`),1),createBaseVNode("button",{type:"button",class:"btn-anim rounded-xl",onClick:ir[1]||(ir[1]=Xe=>Ue())},_hoisted_7)]),createBaseVNode("button",{type:"button",class:"btn-anim rounded-2xl px-7 py-4 bg-gradient-primary text-lg text-white",onClick:ir[2]||(ir[2]=Xe=>$e())},"\u5B8C\u6210\u7C3D\u7F72")]),(openBlock(!0),createElementBlock(Fragment,null,renderList(Fe.value,Xe=>withDirectives((openBlock(),createElementBlock("section",{id:Oe(Xe),key:Xe,class:"w-full overflow-auto relative"},[createBaseVNode("canvas",{id:De(Xe),class:"mx-auto"},null,8,_hoisted_9),createBaseVNode("img",{id:"delete-obj-btn",src:_imports_2,class:"absolute cursor-pointer",style:normalizeStyle(xr.value),onClick:ir[3]||(ir[3]=cr=>br())},null,4)],8,_hoisted_8)),[[vShow,Se.value===Xe]])),128)),createBaseVNode("section",_hoisted_10,[createBaseVNode("ul",_hoisted_11,[createBaseVNode("li",{class:normalizeClass(unref(r)),onClick:ir[5]||(ir[5]=Xe=>St("sign"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(_e),e.value==="sign"?unref(Ce):unref(Ee)]),onClick:ir[4]||(ir[4]=Xe=>nr())},_hoisted_13,2),createBaseVNode("p",{class:normalizeClass(e.value==="sign"?unref(Re):unref(Pe))},"\u7C3D\u540D",2)],2),createBaseVNode("li",{class:normalizeClass(unref(r)),onClick:ir[6]||(ir[6]=Xe=>St("date"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(_e),e.value==="date"?unref(Ce):unref(Ee)])},_hoisted_15,2),createBaseVNode("p",{class:normalizeClass(e.value==="date"?unref(Re):unref(Pe))},"\u65E5\u671F",2)],2),createBaseVNode("li",{class:normalizeClass(unref(r)),onClick:ir[7]||(ir[7]=Xe=>St("word"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(_e),e.value==="word"?unref(Ce):unref(Ee)])},_hoisted_17,2),createBaseVNode("p",{class:normalizeClass(e.value==="word"?unref(Re):unref(Pe))},"\u63D2\u5165\u6587\u5B57",2)],2)])]),ke.value?(openBlock(),createBlock(_sfc_main$1,{key:0,onClose:ir[8]||(ir[8]=Xe=>ke.value=!1),onSelected:ir[9]||(ir[9]=Xe=>Je())})):createCommentVNode("",!0)]))}},routesBase=[{path:"/",name:"home",component:Home},{path:"/sign/add",name:"sign-manager",component:_sfc_main$2},{path:"/pdf/add",name:"pdf-manager",component:_sfc_main}],routesAll=[...routesBase],router=createRouter({history:createWebHashHistory(),routes:routesAll}),ui={SET_LOADING:"SET_LOADING"},pdf$1={SET_PDF:"SET_PDF",SET_PDF_DOC:"SET_PDF_DOC"},sign$1={ADD_SIGN:"ADD_SIGN",DELETE_SIGN:"DELETE_SIGN",SET_CURRENT_SIGN:"SET_CURRENT_SIGN"},actions$2={startLoading(t,e){t.commit(ui.SET_LOADING,{status:!0,msg:e})},endLoading(t){t.commit(ui.SET_LOADING,{status:!1})}},mutations$2={[ui.SET_LOADING](t,{status:e,msg:r}){t.isLoading=e,t.loadingMsg=r&&r.length>0?r:""}},state$1=()=>({pdf:null,pdfDoc:null,pdfCurrentPage:0,pdfTotalPage:0,fabCanvases:[]}),actions$1={setCurrentPDF(t,e){t.commit(pdf$1.SET_PDF,e)},pdfToDoc(t){return new Promise((e,r)=>{pdfjsLib.getDocument(t.state.pdf).promise.then(_e=>{t.commit(pdf$1.SET_PDF_DOC,_e),e()}).catch(_e=>{console.log(_e),r()})})},docToPage(t){for(let e=0;e<pdfDoc.numPages;e++)new fabric.Canvas(`canvas-${e}`)}},mutations$1={[pdf$1.SET_PDF](t,e){t.pdf=e},[pdf$1.SET_PDF_DOC](t,e){t.pdfDoc=e,t.pdfCurrentPage=1,t.pdfTotalPage=e.numPages}},getters$1={currentPDF(t){return t.pdf}},pdf={namespaced:!0,state:state$1,getters:getters$1,actions:actions$1,mutations:mutations$1},state=()=>({signs:JSON.parse(localStorage.getItem("sg"))||[],currentSignIdx:null}),actions={addSignFile(t,e){t.commit(sign$1.ADD_SIGN,e)},selectSign(t,e){t.commit(sign$1.SET_CURRENT_SIGN,e)},deleteSign(t,e){t.commit(sign$1.DELETE_SIGN,e)}},mutations={[sign$1.ADD_SIGN](t,e){e&&(t.signs.push(e),t.currentSignIdx=t.signs.length-1,localStorage.setItem("sg",JSON.stringify(t.signs)))},[sign$1.DELETE_SIGN](t,e){t.signs[e]&&(t.signs.splice(e,1),localStorage.setItem("sg",JSON.stringify(t.signs)))},[sign$1.SET_CURRENT_SIGN](t,e){t.currentSignIdx=e}},getters={signs(t){return t.signs},currentSign(t){return t.signs[t.currentSignIdx]}},sign={namespaced:!0,state,getters,actions,mutations},debug=!1,store=createStore({state:{isLoading:!1,loadingMsg:"\u4E0A\u50B3\u4E2D..."},actions:actions$2,mutations:mutations$2,modules:{pdf,sign},strict:debug,plugins:[]});createApp(_sfc_main$5).use(router).use(store).mount("#app");export{_typeof as _,commonjsGlobal as c};
